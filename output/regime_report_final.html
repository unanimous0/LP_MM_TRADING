<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ - ë¶„ì„ ë¦¬í¬íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .heatmap-cell {
            cursor: pointer;
            transition: opacity 0.2s;
        }
        .heatmap-cell:hover {
            opacity: 0.8;
            stroke: #000;
            stroke-width: 2px;
        }
        .tooltip {
            position: absolute;
            padding: 12px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            border-radius: 8px;
            pointer-events: none;
            font-size: 14px;
            line-height: 1.5;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- í—¤ë” -->
    <header class="bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <h1 class="text-3xl font-bold">ğŸ“Š ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ</h1>
            <p class="text-blue-100 mt-2">ì™¸êµ­ì¸/ê¸°ê´€ íˆ¬ìì ìˆ˜ê¸‰ ë¶„ì„ ë¦¬í¬íŠ¸</p>
            <p class="text-blue-200 text-sm mt-1">ìƒì„±ì¼: 2026-02-14 20:36</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì „ì²´ ì¢…ëª©</div>
                <div class="text-3xl font-bold text-gray-900">345</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ëª¨ë©˜í…€í˜•</div>
                <div class="text-3xl font-bold text-red-600">21</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì§€ì†í˜•</div>
                <div class="text-3xl font-bold text-blue-600">120</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì „í™˜í˜•</div>
                <div class="text-3xl font-bold text-yellow-600">15</div>
            </div>
        </div>

        <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- íŒ¨í„´ë³„ ë¶„í¬ -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">íŒ¨í„´ë³„ ë¶„í¬</h2>
                <canvas id="patternChart"></canvas>
            </div>

            <!-- ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ (TOP 10)</h2>
                <canvas id="sectorChart"></canvas>
            </div>
        </div>

        <!-- ìµœì¢… ê²°ë¡  í…Œì´ë¸” -->
        <div class="bg-white rounded-lg shadow mb-8">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ¯ ì¢…í•© ì¶”ì²œ ìˆœìœ„ TOP 20</h2>
                <p class="text-sm text-gray-600 mt-1">ì¢…í•©ì ìˆ˜ = íŒ¨í„´ ì ìˆ˜ + (ì‹œê·¸ë„ ê°œìˆ˜ Ã— 5ì )</p>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì¢…ëª©ì½”ë“œ</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì¢…ëª©ëª…</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì„¹í„°</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">íŒ¨í„´</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ì‹œê·¸ë„</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì¢…í•©ì ìˆ˜</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì‹œê·¸ë„ë‚´ìš©</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">028670</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">íŒ¬ì˜¤ì…˜</td>
            <td class="px-4 py-3 text-sm text-gray-600">í•´ìƒìš´ìˆ˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">82.6</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">87.6</td>
            <td class="px-4 py-3 text-sm text-gray-600">['ê°€ì†ë„ 9.5ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">241710</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì½”ìŠ¤ë©”ì¹´ì½”ë¦¬ì•„</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê°œì¸ìƒí™œìš©í’ˆ</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">77.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">87.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤', 'ê°€ì†ë„ 1104.2ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">036460</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œêµ­ê°€ìŠ¤ê³µì‚¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê°€ìŠ¤</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">056190</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì—ìŠ¤ì—í”„ì—ì´</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê¸°ê³„</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">055550</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‹ í•œì§€ì£¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">84.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">257720</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‹¤ë¦¬ì½˜íˆ¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì˜¨ë¼ì¸ì‡¼í•‘</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.3</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">84.3</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">316140</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ìš°ë¦¬ê¸ˆìœµì§€ì£¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">81.9</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.9</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">251270</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë„·ë§ˆë¸”</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê²Œì„ ì†Œí”„íŠ¸ì›¨ì–´</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    ëª¨ë©˜í…€í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">76.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">069620</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ëŒ€ì›…ì œì•½</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì œì•½</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">71.2</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.2</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤', 'ê°€ì†ë„ 3.3ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">011200</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">HMM</td>
            <td class="px-4 py-3 text-sm text-gray-600">í•´ìƒìš´ìˆ˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">80.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">80.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">071320</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì§€ì—­ë‚œë°©ê³µì‚¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ë ¥</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">79.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">005830</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">DBì†í•´ë³´í—˜</td>
            <td class="px-4 py-3 text-sm text-gray-600">ë³´í—˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">028260</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‚¼ì„±ë¬¼ì‚°</td>
            <td class="px-4 py-3 text-sm text-gray-600">ë³µí•© ì‚°ì—…</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['ê°€ì†ë„ 1.7ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">008930</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œë¯¸ì‚¬ì´ì–¸ìŠ¤</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì œì•½</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">014680</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œì†”ì¼€ë¯¸ì¹¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">í™”í•™</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">450080</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì—ì½”í”„ë¡œë¨¸í‹°</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ì ì¥ë¹„ ë° ê¸°ê¸°</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">025900</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë™í™”ê¸°ì—…</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê±´ì¶•ìì¬</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.3</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.3</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">032190</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë‹¤ìš°ë°ì´íƒ€</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì¦ê¶Œ</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.2</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.2</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">001440</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ëŒ€í•œì „ì„ </td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ê¸°ì¥ë¹„</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.1</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.1</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">096530</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì”¨ì  </td>
            <td class="px-4 py-3 text-sm text-gray-600">ì˜ë£Œ ì¥ë¹„ ë° ì„œë¹„ìŠ¤</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">72.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">77.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì„¹í„°ë³„ ìˆ˜ê¸‰ ì§‘ì¤‘ë„ -->
        <div class="bg-white rounded-lg shadow">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ”¥ ì„¹í„°ë³„ ìˆ˜ê¸‰ ì§‘ì¤‘ë„ (TOP 10)</h2>
                <p class="text-sm text-gray-600 mt-1">ì„¹í„°ì ìˆ˜ = í‰ê· ì ìˆ˜ Ã— (1 + ê³ ë“ì ì¢…ëª©ìˆ˜/ì „ì²´ì¢…ëª©ìˆ˜)</p>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì„¹í„°</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">í‰ê·  ì ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ì¢…ëª© ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ê³ ë“ì  ì¢…ëª©</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì„¹í„° ì ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">75.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">8</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">7</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">141.0</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë””ìŠ¤í”Œë ˆì´ ë° ê´€ë ¨ë¶€í’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">5</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">87.5</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë³´í—˜</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">6</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">84.2</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì˜ë£Œ ì¥ë¹„ ë° ì„œë¹„ìŠ¤</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">12</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">4</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">83.4</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ê°œì¸ìƒí™œìš©í’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">65.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">11</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">82.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë³µí•© ì‚°ì—…</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.4</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">7</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">81.5</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì‹ë£Œí’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.1</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">12</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">78.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì „ì ì¥ë¹„ ë° ê¸°ê¸°</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">57.8</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">23</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">6</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">72.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì œì•½</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">20</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">71.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ê±´ì„¤</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">59.9</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">6</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">69.9</td>
        </tr>
        
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì„¹í„°ë³„ íˆíŠ¸ë§µ -->
        <div class="bg-white rounded-lg shadow mt-8">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ—ºï¸ ì„¹í„°ë³„ ì¢…ëª© íˆíŠ¸ë§µ</h2>
                <p class="text-sm text-gray-600 mt-1">ìƒ‰ìƒ: ì¢…í•©ì ìˆ˜ ê¸°ì¤€ (ì§„í• ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)</p>
            </div>
            <div class="p-6">
                <div id="heatmap"></div>
            </div>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="max-w-7xl mx-auto px-4 py-6 text-center">
            <p class="text-gray-400">ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ v3.1 | Stage 3 ì™„ë£Œ</p>
            <p class="text-gray-500 text-sm mt-2">KOSPI200 + KOSDAQ150 (345ê°œ ì¢…ëª©) | 2024-01-02 ~ 2026-01-20</p>
        </div>
    </footer>

    <!-- Chart.js ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // íŒ¨í„´ë³„ ë¶„í¬ ì°¨íŠ¸
        const patternCtx = document.getElementById('patternChart').getContext('2d');
        new Chart(patternCtx, {
            type: 'doughnut',
            data: {
                labels: ["\uae30\ud0c0", "\ubaa8\uba58\ud140\ud615", "\uc804\ud658\ud615", "\uc9c0\uc18d\ud615"],
                datasets: [{
                    data: [189, 21, 15, 120],
                    backgroundColor: ['#EF4444', '#3B82F6', '#F59E0B'],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ ì°¨íŠ¸
        const sectorCtx = document.getElementById('sectorChart').getContext('2d');
        new Chart(sectorCtx, {
            type: 'bar',
            data: {
                labels: ["\uac00\uc2a4", "\uc628\ub77c\uc778\uc1fc\ud551", "\ud574\uc0c1\uc6b4\uc218", "\ucc3d\uc5c5\ud22c\uc790 \ubc0f \uc885\uae08", "\uc0c1\uc5c5\uc740\ud589", "\uc804\ub825", "\uac74\ucd95\uc790\uc7ac", "\uc77c\ubc18 \uc18c\ud504\ud2b8\uc6e8\uc5b4", "\uc74c\ub8cc", "\ubb34\uc120\ud1b5\uc2e0"],
                datasets: [{
                    label: 'í‰ê·  ì ìˆ˜',
                    data: [85.83755135394684, 84.31757602265344, 84.013063550493, 75.71748594126345, 75.1781285169665, 72.09917027676732, 70.10723673371365, 69.63832270394421, 68.03011632028623, 66.36348684090613],
                    backgroundColor: '#3B82F6',
                    borderColor: '#2563EB',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                indexAxis: 'y',
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // D3 íˆíŠ¸ë§µ
        const heatmapData = [{"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "055550", "stock_name": "\uc2e0\ud55c\uc9c0\uc8fc", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 84.73986336110431, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "316140", "stock_name": "\uc6b0\ub9ac\uae08\uc735\uc9c0\uc8fc", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 81.86601220108919, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "138930", "stock_name": "BNK\uae08\uc735\uc9c0\uc8fc", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 77.0856637908159, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "105560", "stock_name": "KB\uae08\uc735", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 76.25564377173606, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.9\ubc30']"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "024110", "stock_name": "\uae30\uc5c5\uc740\ud589", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.5322132337493, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "086790", "stock_name": "\ud558\ub098\uae08\uc735\uc9c0\uc8fc", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.12013796659868, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "323410", "stock_name": "\uce74\uce74\uc624\ubc45\ud06c", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.76703889798439, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc0c1\uc5c5\uc740\ud589", "stock_code": "175330", "stock_name": "JB\uae08\uc735\uc9c0\uc8fc", "pattern": "\uae30\ud0c0", "combined_score": 63.05845491265414, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 8.7\ubc30']"}, {"sector": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "stock_code": "272290", "stock_name": "\uc774\ub179\uc2a4\ucca8\ub2e8\uc18c\uc7ac", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.98816448032562, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "stock_code": "213420", "stock_name": "\ub355\uc0b0\ub124\uc624\ub8e9\uc2a4", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 70.09677386922391, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.6\ubc30']"}, {"sector": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "stock_code": "046890", "stock_name": "\uc11c\uc6b8\ubc18\ub3c4\uccb4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.31444997423486, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "stock_code": "171090", "stock_name": "\uc120\uc775\uc2dc\uc2a4\ud15c", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 59.26458861708458, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "stock_code": "034220", "stock_name": "LG\ub514\uc2a4\ud50c\ub808\uc774", "pattern": "\uae30\ud0c0", "combined_score": 46.89124240485553, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf4\ud5d8", "stock_code": "005830", "stock_name": "DB\uc190\ud574\ubcf4\ud5d8", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.78963870322177, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf4\ud5d8", "stock_code": "032830", "stock_name": "\uc0bc\uc131\uc0dd\uba85", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.48882203887592, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\ubcf4\ud5d8", "stock_code": "001450", "stock_name": "\ud604\ub300\ud574\uc0c1", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.87032867610957, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf4\ud5d8", "stock_code": "000810", "stock_name": "\uc0bc\uc131\ud654\uc7ac", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 63.998236268920415, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf4\ud5d8", "stock_code": "088350", "stock_name": "\ud55c\ud654\uc0dd\uba85", "pattern": "\uae30\ud0c0", "combined_score": 58.55083069483896, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.3\ubc30']"}, {"sector": "\ubcf4\ud5d8", "stock_code": "211050", "stock_name": "\uc778\uce74\uae08\uc735\uc11c\ube44\uc2a4", "pattern": "\uae30\ud0c0", "combined_score": 41.22420846757051, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "096530", "stock_name": "\uc528\uc820", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 77.47966926505698, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "108860", "stock_name": "\uc140\ubc14\uc2a4AI", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.76625269200838, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "200130", "stock_name": "\ucf5c\ub9c8\ube44\uc564\uc5d0\uc774\uce58", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.50109008902672, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "137310", "stock_name": "\uc5d0\uc2a4\ub514\ubc14\uc774\uc624\uc13c\uc11c", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.52458393911246, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "028300", "stock_name": "HLB", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 68.53473368272418, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 4.9\ubc30']"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "214450", "stock_name": "\ud30c\ub9c8\ub9ac\uc11c\uce58", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 66.73744989232429, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "085660", "stock_name": "\ucc28\ubc14\uc774\uc624\ud14d", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.13049399170924, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "336570", "stock_name": "\uc6d0\ud14d", "pattern": "\uae30\ud0c0", "combined_score": 63.09448697193593, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "214150", "stock_name": "\ud074\ub798\uc2dc\uc2a4", "pattern": "\uc804\ud658\ud615", "combined_score": 56.81294684968198, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "stock_code": "328130", "stock_name": "\ub8e8\ub2db", "pattern": "\uae30\ud0c0", "combined_score": 47.769828850871626, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "241710", "stock_name": "\ucf54\uc2a4\uba54\uce74\ucf54\ub9ac\uc544", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 87.51048859451105, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 1104.2\ubc30']"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "051900", "stock_name": "LG\uc0dd\ud65c\uac74\uac15", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 75.50383816859852, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "352480", "stock_name": "\uc528\uc564\uc528\uc778\ud130\ub0b4\uc154\ub110", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.45287796134559, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "002790", "stock_name": "\uc544\ubaa8\ub808\ud37c\uc2dc\ud53d\ud640\ub529\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.4493567394735, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "161890", "stock_name": "\ud55c\uad6d\ucf5c\ub9c8", "pattern": "\uae30\ud0c0", "combined_score": 66.01991866849716, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "018290", "stock_name": "\ube0c\uc774\ud2f0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.84508363305848, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "090430", "stock_name": "\uc544\ubaa8\ub808\ud37c\uc2dc\ud53d", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 62.991060049097115, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "048410", "stock_name": "\ud604\ub300\ubc14\uc774\uc624", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 60.00663333714683, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "214370", "stock_name": "\ucf00\uc5b4\uc820", "pattern": "\uae30\ud0c0", "combined_score": 50.52807335204245, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "stock_code": "192820", "stock_name": "\ucf54\uc2a4\ub9e5\uc2a4", "pattern": "\uae30\ud0c0", "combined_score": 43.22827049202307, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "028260", "stock_name": "\uc0bc\uc131\ubb3c\uc0b0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.69265638336496, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.7\ubc30']"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "004990", "stock_name": "\ub86f\ub370\uc9c0\uc8fc", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.50706123480462, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "000150", "stock_name": "\ub450\uc0b0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.62708086684901, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "000880", "stock_name": "\ud55c\ud654", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 61.81428171737296, "signal_count": 0, "signal_list": "[]"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "001040", "stock_name": "CJ", "pattern": "\uc804\ud658\ud615", "combined_score": 57.41816241909564, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.5\ubc30']"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "402340", "stock_name": "SK\uc2a4\ud018\uc5b4", "pattern": "\uae30\ud0c0", "combined_score": 56.41087527640258, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.5\ubc30']"}, {"sector": "\ubcf5\ud569 \uc0b0\uc5c5", "stock_code": "003550", "stock_name": "LG", "pattern": "\uae30\ud0c0", "combined_score": 48.05000874281484, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "007310", "stock_name": "\uc624\ub69c\uae30", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 76.033474924805, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "001800", "stock_name": "\uc624\ub9ac\uc628\ud640\ub529\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.30204806949702, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "097950", "stock_name": "CJ\uc81c\uc77c\uc81c\ub2f9", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.9888868638113, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "004370", "stock_name": "\ub18d\uc2ec", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 65.93165344254889, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "003230", "stock_name": "\uc0bc\uc591\uc2dd\ud488", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.78864585976369, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "271560", "stock_name": "\uc624\ub9ac\uc628", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 64.11314403406145, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 5.6\ubc30']"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "140410", "stock_name": "\uba54\uc9c0\uc628", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 63.94016988074287, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "026960", "stock_name": "\ub3d9\uc11c", "pattern": "\uae30\ud0c0", "combined_score": 63.543570451027506, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "006040", "stock_name": "\ub3d9\uc6d0\uc0b0\uc5c5", "pattern": "\uae30\ud0c0", "combined_score": 59.631485600140365, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc2dd\ub8cc\ud488", "stock_code": "001680", "stock_name": "\ub300\uc0c1", "pattern": "\uae30\ud0c0", "combined_score": 58.794227969459754, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "450080", "stock_name": "\uc5d0\ucf54\ud504\ub85c\uba38\ud2f0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.422047650913, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "373220", "stock_name": "LG\uc5d0\ub108\uc9c0\uc194\ub8e8\uc158", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 75.2011663310737, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 29.9\ubc30']"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "247540", "stock_name": "\uc5d0\ucf54\ud504\ub85c\ube44\uc5e0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.59351698261554, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "222080", "stock_name": "\uc528\uc544\uc774\uc5d0\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.12120128477089, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "086520", "stock_name": "\uc5d0\ucf54\ud504\ub85c", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 72.07572468391237, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.9\ubc30']"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "361610", "stock_name": "SK\uc544\uc774\uc774\ud14c\ud06c\ub180\ub85c\uc9c0", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.02592855248554, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "348370", "stock_name": "\uc5d4\ucf10", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 68.47636229669166, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "278280", "stock_name": "\ucc9c\ubcf4", "pattern": "\uae30\ud0c0", "combined_score": 65.0302633092515, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.7\ubc30']"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "137400", "stock_name": "\ud53c\uc5d4\ud2f0", "pattern": "\uc804\ud658\ud615", "combined_score": 63.121189547644406, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 9.3\ubc30']"}, {"sector": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "stock_code": "036830", "stock_name": "\uc194\ube0c\ub808\uc778\ud640\ub529\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 62.75425714187076, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "069620", "stock_name": "\ub300\uc6c5\uc81c\uc57d", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 81.19024685581108, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 3.3\ubc30']"}, {"sector": "\uc81c\uc57d", "stock_code": "008930", "stock_name": "\ud55c\ubbf8\uc0ac\uc774\uc5b8\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.66352235993311, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uc81c\uc57d", "stock_code": "185750", "stock_name": "\uc885\uadfc\ub2f9", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.68699908202385, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "302440", "stock_name": "SK\ubc14\uc774\uc624\uc0ac\uc774\uc5b8\uc2a4", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.47404904069329, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "003090", "stock_name": "\ub300\uc6c5", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.24120245838591, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "086450", "stock_name": "\ub3d9\uad6d\uc81c\uc57d", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 68.85867031807174, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "053030", "stock_name": "\ubc14\uc774\ub125\uc2a4", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 67.1776748333588, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "068760", "stock_name": "\uc140\ud2b8\ub9ac\uc628\uc81c\uc57d", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 66.65589653662215, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "000100", "stock_name": "\uc720\ud55c\uc591\ud589", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 66.01311646152156, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uc81c\uc57d", "stock_code": "039200", "stock_name": "\uc624\uc2a4\ucf54\ud14d", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 64.2682790292547, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac74\uc124", "stock_code": "028050", "stock_name": "\uc0bc\uc131E&A", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.3059394255484, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"sector": "\uac74\uc124", "stock_code": "060370", "stock_name": "LS\ub9c8\ub9b0\uc194\ub8e8\uc158", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 67.96803529088903, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac74\uc124", "stock_code": "047040", "stock_name": "\ub300\uc6b0\uac74\uc124", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 67.76684094118475, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 4.2\ubc30']"}, {"sector": "\uac74\uc124", "stock_code": "375500", "stock_name": "DL\uc774\uc564\uc528", "pattern": "\uae30\ud0c0", "combined_score": 54.096689242313666, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac74\uc124", "stock_code": "006360", "stock_name": "GS\uac74\uc124", "pattern": "\uae30\ud0c0", "combined_score": 50.90758070890412, "signal_count": 0, "signal_list": "[]"}, {"sector": "\uac74\uc124", "stock_code": "000720", "stock_name": "\ud604\ub300\uac74\uc124", "pattern": "\uae30\ud0c0", "combined_score": 45.30526526134759, "signal_count": 0, "signal_list": "[]"}];

        // ì„¹í„°ë³„ë¡œ ê·¸ë£¹í™”
        const sectors = [...new Set(heatmapData.map(d => d.sector))];
        const maxStocksPerSector = Math.max(...sectors.map(sector =>
            heatmapData.filter(d => d.sector === sector).length
        ));

        // íˆíŠ¸ë§µ ì„¤ì •
        const margin = {top: 40, right: 100, bottom: 100, left: 200};
        const cellWidth = 60;
        const cellHeight = 30;
        const width = cellWidth * maxStocksPerSector + margin.left + margin.right;
        const height = cellHeight * sectors.length + margin.top + margin.bottom;

        // SVG ìƒì„±
        const svg = d3.select("#heatmap")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        // íˆ´íŒ ìƒì„±
        const tooltip = d3.select("body")
            .append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);

        // ìƒ‰ìƒ ìŠ¤ì¼€ì¼ (ì¢…í•©ì ìˆ˜ ê¸°ë°˜)
        const colorScale = d3.scaleSequential()
            .domain([40, 100])
            .interpolator(d3.interpolateYlOrRd);

        // íŒ¨í„´ ìƒ‰ìƒ ë§¤í•‘
        const patternColors = {
            'ëª¨ë©˜í…€í˜•': '#EF4444',
            'ì§€ì†í˜•': '#3B82F6',
            'ì „í™˜í˜•': '#F59E0B'
        };

        // ì„¹í„°ë³„ ë°ì´í„° ì¤€ë¹„
        const sectorData = sectors.map(sector => {
            const stocks = heatmapData.filter(d => d.sector === sector);
            return { sector, stocks };
        });

        // íˆíŠ¸ë§µ ì…€ ê·¸ë¦¬ê¸°
        sectorData.forEach((sectorGroup, sectorIndex) => {
            sectorGroup.stocks.forEach((stock, stockIndex) => {
                const cell = svg.append("rect")
                    .attr("class", "heatmap-cell")
                    .attr("x", margin.left + stockIndex * cellWidth)
                    .attr("y", margin.top + sectorIndex * cellHeight)
                    .attr("width", cellWidth - 2)
                    .attr("height", cellHeight - 2)
                    .attr("fill", colorScale(stock.combined_score))
                    .on("mouseover", function(event) {
                        d3.select(this).style("opacity", 0.7);
                        tooltip.transition().duration(200).style("opacity", 1);
                        tooltip.html(`
                            <strong style="font-size: 16px;">${stock.stock_name}</strong><br/>
                            <span style="color: #9CA3AF;">ì¢…ëª©ì½”ë“œ:</span> ${stock.stock_code}<br/>
                            <span style="color: #9CA3AF;">íŒ¨í„´:</span> <span style="color: ${patternColors[stock.pattern] || '#fff'}">${stock.pattern}</span><br/>
                            <span style="color: #9CA3AF;">ì¢…í•©ì ìˆ˜:</span> <strong style="color: #60A5FA;">${stock.combined_score.toFixed(1)}</strong>ì <br/>
                            <span style="color: #9CA3AF;">ì‹œê·¸ë„:</span> ${stock.signal_count}ê°œ<br/>
                            <span style="color: #9CA3AF;">ë‚´ìš©:</span> ${stock.signal_list}
                        `)
                            .style("left", (event.pageX + 15) + "px")
                            .style("top", (event.pageY - 28) + "px");
                    })
                    .on("mouseout", function() {
                        d3.select(this).style("opacity", 1);
                        tooltip.transition().duration(500).style("opacity", 0);
                    });
            });
        });

        // ì„¹í„° ë ˆì´ë¸” (Yì¶•)
        svg.selectAll(".sector-label")
            .data(sectorData)
            .enter()
            .append("text")
            .attr("x", margin.left - 10)
            .attr("y", (d, i) => margin.top + i * cellHeight + cellHeight / 2)
            .attr("text-anchor", "end")
            .attr("dominant-baseline", "middle")
            .style("font-size", "12px")
            .style("font-weight", "600")
            .text(d => d.sector);

        // ë²”ë¡€ ì¶”ê°€
        const legendWidth = 200;
        const legendHeight = 10;
        const legendScale = d3.scaleLinear()
            .domain([40, 100])
            .range([0, legendWidth]);

        const legend = svg.append("g")
            .attr("transform", `translate(${margin.left}, ${height - margin.bottom + 40})`);

        // ê·¸ë¼ë°ì´ì…˜ ì •ì˜
        const defs = svg.append("defs");
        const linearGradient = defs.append("linearGradient")
            .attr("id", "legend-gradient");

        linearGradient.selectAll("stop")
            .data(d3.range(0, 1.1, 0.1))
            .enter()
            .append("stop")
            .attr("offset", d => d)
            .attr("stop-color", d => colorScale(40 + d * 60));

        legend.append("rect")
            .attr("width", legendWidth)
            .attr("height", legendHeight)
            .style("fill", "url(#legend-gradient)");

        legend.append("text")
            .attr("x", 0)
            .attr("y", legendHeight + 20)
            .style("font-size", "12px")
            .text("40ì ");

        legend.append("text")
            .attr("x", legendWidth)
            .attr("y", legendHeight + 20)
            .attr("text-anchor", "end")
            .style("font-size", "12px")
            .text("100ì ");

        legend.append("text")
            .attr("x", legendWidth / 2)
            .attr("y", -10)
            .attr("text-anchor", "middle")
            .style("font-size", "14px")
            .style("font-weight", "bold")
            .text("ì¢…í•©ì ìˆ˜");
    </script>
</body>
</html>