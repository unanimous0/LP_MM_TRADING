<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ - ë¶„ì„ ë¦¬í¬íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .tooltip {
            position: absolute;
            padding: 12px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            border-radius: 8px;
            pointer-events: none;
            font-size: 14px;
            line-height: 1.5;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- í—¤ë” -->
    <header class="bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <h1 class="text-3xl font-bold">ğŸ“Š ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ</h1>
            <p class="text-blue-100 mt-2">ì™¸êµ­ì¸/ê¸°ê´€ íˆ¬ìì ìˆ˜ê¸‰ ë¶„ì„ ë¦¬í¬íŠ¸</p>
            <p class="text-blue-200 text-sm mt-1">ìƒì„±ì¼: 2026-02-15 13:55</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì „ì²´ ì¢…ëª©</div>
                <div class="text-3xl font-bold text-gray-900">345</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ëª¨ë©˜í…€í˜•</div>
                <div class="text-3xl font-bold text-red-600">21</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì§€ì†í˜•</div>
                <div class="text-3xl font-bold text-blue-600">120</div>
            </div>
            <div class="bg-white rounded-lg shadow p-6">
                <div class="text-sm text-gray-500 mb-1">ì „í™˜í˜•</div>
                <div class="text-3xl font-bold text-yellow-600">15</div>
            </div>
        </div>

        <!-- ì°¨íŠ¸ ì„¹ì…˜ -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- íŒ¨í„´ë³„ ë¶„í¬ -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">íŒ¨í„´ë³„ ë¶„í¬</h2>
                <canvas id="patternChart"></canvas>
            </div>

            <!-- ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ -->
            <div class="bg-white rounded-lg shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ (TOP 10)</h2>
                <canvas id="sectorChart"></canvas>
            </div>
        </div>

        <!-- ìµœì¢… ê²°ë¡  í…Œì´ë¸” -->
        <div class="bg-white rounded-lg shadow mb-8">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ¯ ì¢…í•© ì¶”ì²œ ìˆœìœ„ TOP 20</h2>
                <p class="text-sm text-gray-600 mt-1">ì¢…í•©ì ìˆ˜ = íŒ¨í„´ ì ìˆ˜ + (ì‹œê·¸ë„ ê°œìˆ˜ Ã— 5ì )</p>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì¢…ëª©ì½”ë“œ</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì¢…ëª©ëª…</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì„¹í„°</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">íŒ¨í„´</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ì‹œê·¸ë„</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì¢…í•©ì ìˆ˜</th>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì‹œê·¸ë„ë‚´ìš©</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A028670</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">íŒ¬ì˜¤ì…˜</td>
            <td class="px-4 py-3 text-sm text-gray-600">í•´ìƒìš´ìˆ˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">82.6</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">87.6</td>
            <td class="px-4 py-3 text-sm text-gray-600">['ê°€ì†ë„ 9.5ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A241710</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì½”ìŠ¤ë©”ì¹´ì½”ë¦¬ì•„</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê°œì¸ìƒí™œìš©í’ˆ</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">77.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">87.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤', 'ê°€ì†ë„ 1104.2ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A036460</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œêµ­ê°€ìŠ¤ê³µì‚¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê°€ìŠ¤</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A056190</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì—ìŠ¤ì—í”„ì—ì´</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê¸°ê³„</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">85.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A055550</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‹ í•œì§€ì£¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">84.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A257720</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‹¤ë¦¬ì½˜íˆ¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì˜¨ë¼ì¸ì‡¼í•‘</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.3</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">84.3</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A316140</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ìš°ë¦¬ê¸ˆìœµì§€ì£¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">81.9</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.9</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A251270</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë„·ë§ˆë¸”</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê²Œì„ ì†Œí”„íŠ¸ì›¨ì–´</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">
                    ëª¨ë©˜í…€í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">76.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A069620</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ëŒ€ì›…ì œì•½</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì œì•½</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">71.2</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">81.2</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤', 'ê°€ì†ë„ 3.3ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A011200</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">HMM</td>
            <td class="px-4 py-3 text-sm text-gray-600">í•´ìƒìš´ìˆ˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">80.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">80.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A071320</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì§€ì—­ë‚œë°©ê³µì‚¬</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ë ¥</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">79.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">79.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A005830</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">DBì†í•´ë³´í—˜</td>
            <td class="px-4 py-3 text-sm text-gray-600">ë³´í—˜</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.8</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.8</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A028260</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì‚¼ì„±ë¬¼ì‚°</td>
            <td class="px-4 py-3 text-sm text-gray-600">ë³µí•© ì‚°ì—…</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['ê°€ì†ë„ 1.7ë°°']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A008930</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œë¯¸ì‚¬ì´ì–¸ìŠ¤</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì œì•½</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.7</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.7</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A014680</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">í•œì†”ì¼€ë¯¸ì¹¼</td>
            <td class="px-4 py-3 text-sm text-gray-600">í™”í•™</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A450080</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì—ì½”í”„ë¡œë¨¸í‹°</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ì ì¥ë¹„ ë° ê¸°ê¸°</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.4</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.4</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A025900</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë™í™”ê¸°ì—…</td>
            <td class="px-4 py-3 text-sm text-gray-600">ê±´ì¶•ìì¬</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">78.3</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">0</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.3</td>
            <td class="px-4 py-3 text-sm text-gray-600">[]</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A032190</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ë‹¤ìš°ë°ì´íƒ€</td>
            <td class="px-4 py-3 text-sm text-gray-600">ì¦ê¶Œ</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.2</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.2</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A001440</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ëŒ€í•œì „ì„ </td>
            <td class="px-4 py-3 text-sm text-gray-600">ì „ê¸°ì¥ë¹„</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">73.1</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">78.1</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">A096530</td>
            <td class="px-4 py-3 text-sm text-gray-900 font-semibold">ì”¨ì  </td>
            <td class="px-4 py-3 text-sm text-gray-600">ì˜ë£Œ ì¥ë¹„ ë° ì„œë¹„ìŠ¤</td>
            <td class="px-4 py-3">
                <span class="px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">
                    ì§€ì†í˜•
                </span>
            </td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">72.5</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-semibold text-right">77.5</td>
            <td class="px-4 py-3 text-sm text-gray-600">['MAí¬ë¡œìŠ¤']</td>
        </tr>
        
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì„¹í„°ë³„ ìˆ˜ê¸‰ ì§‘ì¤‘ë„ -->
        <div class="bg-white rounded-lg shadow">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ”¥ ì„¹í„°ë³„ ìˆ˜ê¸‰ ì§‘ì¤‘ë„ (TOP 10)</h2>
                <p class="text-sm text-gray-600 mt-1">ì„¹í„°ì ìˆ˜ = í‰ê· ì ìˆ˜ Ã— (1 + ê³ ë“ì ì¢…ëª©ìˆ˜/ì „ì²´ì¢…ëª©ìˆ˜)</p>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">ì„¹í„°</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">í‰ê·  ì ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ì¢…ëª© ìˆ˜</th>
                            <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase">ê³ ë“ì  ì¢…ëª©</th>
                            <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">ì„¹í„° ì ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ìƒì—…ì€í–‰</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">75.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">8</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">7</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">141.0</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë””ìŠ¤í”Œë ˆì´ ë° ê´€ë ¨ë¶€í’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">5</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">87.5</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë³´í—˜</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">6</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">84.2</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì˜ë£Œ ì¥ë¹„ ë° ì„œë¹„ìŠ¤</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">12</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">4</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">83.4</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ê°œì¸ìƒí™œìš©í’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">65.2</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">11</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">82.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ë³µí•© ì‚°ì—…</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.4</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">7</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">2</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">81.5</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì‹ë£Œí’ˆ</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">63.1</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">12</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">78.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì „ì ì¥ë¹„ ë° ê¸°ê¸°</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">57.8</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">23</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">6</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">72.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ì œì•½</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">62.5</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">20</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">3</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">71.9</td>
        </tr>
        
        <tr class="hover:bg-gray-50">
            <td class="px-4 py-3 text-sm text-gray-900 font-medium">ê±´ì„¤</td>
            <td class="px-4 py-3 text-sm text-gray-900 text-right">59.9</td>
            <td class="px-4 py-3 text-sm text-gray-600 text-center">6</td>
            <td class="px-4 py-3 text-sm text-green-600 font-semibold text-center">1</td>
            <td class="px-4 py-3 text-sm text-blue-600 font-bold text-right">69.9</td>
        </tr>
        
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ì„¹í„°ë³„ Treemap -->
        <div class="bg-white rounded-lg shadow mt-8">
            <div class="px-6 py-4 border-b border-gray-200">
                <h2 class="text-xl font-bold text-gray-900">ğŸ—ºï¸ ì„¹í„°ë³„ ì¢…ëª© Treemap</h2>
                <p class="text-sm text-gray-600 mt-1">ë°•ìŠ¤ í¬ê¸°: ì¢…í•©ì ìˆ˜ ë¹„ë¡€ | ìƒ‰ìƒ: ë¹¨ê°•(ë‚®ìŒ) â†’ ë…¸ë‘(ì¤‘ê°„) â†’ ì´ˆë¡(ë†’ìŒ)</p>
            </div>
            <div class="p-6">
                <div id="heatmap" style="overflow-x: auto;"></div>
            </div>
        </div>
    </main>

    <!-- í‘¸í„° -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="max-w-7xl mx-auto px-4 py-6 text-center">
            <p class="text-gray-400">ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ v3.1 | Stage 3 ì™„ë£Œ</p>
            <p class="text-gray-500 text-sm mt-2">KOSPI200 + KOSDAQ150 (345ê°œ ì¢…ëª©) | 2024-01-02 ~ 2026-01-20</p>
        </div>
    </footer>

    <!-- Chart.js ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // íŒ¨í„´ë³„ ë¶„í¬ ì°¨íŠ¸
        const patternCtx = document.getElementById('patternChart').getContext('2d');
        new Chart(patternCtx, {
            type: 'doughnut',
            data: {
                labels: ["\uae30\ud0c0", "\ubaa8\uba58\ud140\ud615", "\uc804\ud658\ud615", "\uc9c0\uc18d\ud615"],
                datasets: [{
                    data: [189, 21, 15, 120],
                    backgroundColor: ['#EF4444', '#3B82F6', '#F59E0B'],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // ì„¹í„°ë³„ í‰ê·  ì ìˆ˜ ì°¨íŠ¸
        const sectorCtx = document.getElementById('sectorChart').getContext('2d');
        new Chart(sectorCtx, {
            type: 'bar',
            data: {
                labels: ["\uac00\uc2a4", "\uc628\ub77c\uc778\uc1fc\ud551", "\ud574\uc0c1\uc6b4\uc218", "\ucc3d\uc5c5\ud22c\uc790 \ubc0f \uc885\uae08", "\uc0c1\uc5c5\uc740\ud589", "\uc804\ub825", "\uac74\ucd95\uc790\uc7ac", "\uc77c\ubc18 \uc18c\ud504\ud2b8\uc6e8\uc5b4", "\uc74c\ub8cc", "\ubb34\uc120\ud1b5\uc2e0"],
                datasets: [{
                    label: 'í‰ê·  ì ìˆ˜',
                    data: [85.83755135394684, 84.31757602265344, 84.013063550493, 75.71748594126345, 75.1781285169665, 72.09917027676732, 70.10723673371365, 69.63832270394421, 68.03011632028623, 66.36348684090613],
                    backgroundColor: '#3B82F6',
                    borderColor: '#2563EB',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                indexAxis: 'y',
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // D3 Treemap
        const treemapData = {"name": "root", "children": [{"name": "\uc0c1\uc5c5\uc740\ud589", "sector_score": 140.95899096931217, "children": [{"name": "\uc2e0\ud55c\uc9c0\uc8fc", "value": 84.73986336110431, "stock_code": "A055550", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 84.73986336110431, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc6b0\ub9ac\uae08\uc735\uc9c0\uc8fc", "value": 81.86601220108919, "stock_code": "A316140", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 81.86601220108919, "signal_count": 0, "signal_list": "[]"}, {"name": "BNK\uae08\uc735\uc9c0\uc8fc", "value": 77.0856637908159, "stock_code": "A138930", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 77.0856637908159, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "KB\uae08\uc735", "value": 76.25564377173606, "stock_code": "A105560", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 76.25564377173606, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.9\ubc30']"}, {"name": "\uae30\uc5c5\uc740\ud589", "value": 74.5322132337493, "stock_code": "A024110", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.5322132337493, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ud558\ub098\uae08\uc735\uc9c0\uc8fc", "value": 73.12013796659868, "stock_code": "A086790", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.12013796659868, "signal_count": 0, "signal_list": "[]"}, {"name": "\uce74\uce74\uc624\ubc45\ud06c", "value": 70.76703889798439, "stock_code": "A323410", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.76703889798439, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "JB\uae08\uc735\uc9c0\uc8fc", "value": 63.05845491265414, "stock_code": "A175330", "pattern": "\uae30\ud0c0", "combined_score": 63.05845491265414, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 8.7\ubc30']"}]}, {"name": "\ub514\uc2a4\ud50c\ub808\uc774 \ubc0f \uad00\ub828\ubd80\ud488", "sector_score": 87.51546141680285, "children": [{"name": "\uc774\ub179\uc2a4\ucca8\ub2e8\uc18c\uc7ac", "value": 70.98816448032562, "stock_code": "A272290", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.98816448032562, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ub355\uc0b0\ub124\uc624\ub8e9\uc2a4", "value": 70.09677386922391, "stock_code": "A213420", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 70.09677386922391, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.6\ubc30']"}, {"name": "\uc11c\uc6b8\ubc18\ub3c4\uccb4", "value": 65.31444997423486, "stock_code": "A046890", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.31444997423486, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc120\uc775\uc2dc\uc2a4\ud15c", "value": 59.26458861708458, "stock_code": "A171090", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 59.26458861708458, "signal_count": 0, "signal_list": "[]"}, {"name": "LG\ub514\uc2a4\ud50c\ub808\uc774", "value": 46.89124240485553, "stock_code": "A034220", "pattern": "\uae30\ud0c0", "combined_score": 46.89124240485553, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\ubcf4\ud5d8", "sector_score": 84.20490329989714, "children": [{"name": "DB\uc190\ud574\ubcf4\ud5d8", "value": 78.78963870322177, "stock_code": "A005830", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.78963870322177, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc0bc\uc131\uc0dd\uba85", "value": 70.48882203887592, "stock_code": "A032830", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.48882203887592, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ud604\ub300\ud574\uc0c1", "value": 65.87032867610957, "stock_code": "A001450", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.87032867610957, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc0bc\uc131\ud654\uc7ac", "value": 63.998236268920415, "stock_code": "A000810", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 63.998236268920415, "signal_count": 0, "signal_list": "[]"}, {"name": "\ud55c\ud654\uc0dd\uba85", "value": 58.55083069483896, "stock_code": "A088350", "pattern": "\uae30\ud0c0", "combined_score": 58.55083069483896, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.3\ubc30']"}, {"name": "\uc778\uce74\uae08\uc735\uc11c\ube44\uc2a4", "value": 41.22420846757051, "stock_code": "A211050", "pattern": "\uae30\ud0c0", "combined_score": 41.22420846757051, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uc758\ub8cc \uc7a5\ube44 \ubc0f \uc11c\ube44\uc2a4", "sector_score": 83.36158884524427, "children": [{"name": "\uc528\uc820", "value": 77.47966926505698, "stock_code": "A096530", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 77.47966926505698, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc140\ubc14\uc2a4AI", "value": 74.76625269200838, "stock_code": "A108860", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.76625269200838, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ucf5c\ub9c8\ube44\uc564\uc5d0\uc774\uce58", "value": 73.50109008902672, "stock_code": "A200130", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.50109008902672, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc5d0\uc2a4\ub514\ubc14\uc774\uc624\uc13c\uc11c", "value": 71.52458393911246, "stock_code": "A137310", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.52458393911246, "signal_count": 0, "signal_list": "[]"}, {"name": "HLB", "value": 68.53473368272418, "stock_code": "A028300", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 68.53473368272418, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 4.9\ubc30']"}, {"name": "\ud30c\ub9c8\ub9ac\uc11c\uce58", "value": 66.73744989232429, "stock_code": "A214450", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 66.73744989232429, "signal_count": 0, "signal_list": "[]"}, {"name": "\ucc28\ubc14\uc774\uc624\ud14d", "value": 65.13049399170924, "stock_code": "A085660", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.13049399170924, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc6d0\ud14d", "value": 63.09448697193593, "stock_code": "A336570", "pattern": "\uae30\ud0c0", "combined_score": 63.09448697193593, "signal_count": 0, "signal_list": "[]"}, {"name": "\ud074\ub798\uc2dc\uc2a4", "value": 56.81294684968198, "stock_code": "A214150", "pattern": "\uc804\ud658\ud615", "combined_score": 56.81294684968198, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub8e8\ub2db", "value": 47.769828850871626, "stock_code": "A328130", "pattern": "\uae30\ud0c0", "combined_score": 47.769828850871626, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uac1c\uc778\uc0dd\ud65c\uc6a9\ud488", "sector_score": 82.92271285401011, "children": [{"name": "\ucf54\uc2a4\uba54\uce74\ucf54\ub9ac\uc544", "value": 87.51048859451105, "stock_code": "A241710", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 87.51048859451105, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 1104.2\ubc30']"}, {"name": "LG\uc0dd\ud65c\uac74\uac15", "value": 75.50383816859852, "stock_code": "A051900", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 75.50383816859852, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc528\uc564\uc528\uc778\ud130\ub0b4\uc154\ub110", "value": 70.45287796134559, "stock_code": "A352480", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.45287796134559, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc544\ubaa8\ub808\ud37c\uc2dc\ud53d\ud640\ub529\uc2a4", "value": 69.4493567394735, "stock_code": "A002790", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.4493567394735, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ud55c\uad6d\ucf5c\ub9c8", "value": 66.01991866849716, "stock_code": "A161890", "pattern": "\uae30\ud0c0", "combined_score": 66.01991866849716, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\ube0c\uc774\ud2f0", "value": 65.84508363305848, "stock_code": "A018290", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.84508363305848, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc544\ubaa8\ub808\ud37c\uc2dc\ud53d", "value": 62.991060049097115, "stock_code": "A090430", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 62.991060049097115, "signal_count": 0, "signal_list": "[]"}, {"name": "\ud604\ub300\ubc14\uc774\uc624", "value": 60.00663333714683, "stock_code": "A048410", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 60.00663333714683, "signal_count": 0, "signal_list": "[]"}, {"name": "\ucf00\uc5b4\uc820", "value": 50.52807335204245, "stock_code": "A214370", "pattern": "\uae30\ud0c0", "combined_score": 50.52807335204245, "signal_count": 0, "signal_list": "[]"}, {"name": "\ucf54\uc2a4\ub9e5\uc2a4", "value": 43.22827049202307, "stock_code": "A192820", "pattern": "\uae30\ud0c0", "combined_score": 43.22827049202307, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\ubcf5\ud569 \uc0b0\uc5c5", "sector_score": 81.46288040339472, "children": [{"name": "\uc0bc\uc131\ubb3c\uc0b0", "value": 78.69265638336496, "stock_code": "A028260", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.69265638336496, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.7\ubc30']"}, {"name": "\ub86f\ub370\uc9c0\uc8fc", "value": 71.50706123480462, "stock_code": "A004990", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.50706123480462, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub450\uc0b0", "value": 69.62708086684901, "stock_code": "A000150", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.62708086684901, "signal_count": 0, "signal_list": "[]"}, {"name": "\ud55c\ud654", "value": 61.81428171737296, "stock_code": "A000880", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 61.81428171737296, "signal_count": 0, "signal_list": "[]"}, {"name": "CJ", "value": 57.41816241909564, "stock_code": "A001040", "pattern": "\uc804\ud658\ud615", "combined_score": 57.41816241909564, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.5\ubc30']"}, {"name": "SK\uc2a4\ud018\uc5b4", "value": 56.41087527640258, "stock_code": "A402340", "pattern": "\uae30\ud0c0", "combined_score": 56.41087527640258, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.5\ubc30']"}, {"name": "LG", "value": 48.05000874281484, "stock_code": "A003550", "pattern": "\uae30\ud0c0", "combined_score": 48.05000874281484, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uc2dd\ub8cc\ud488", "sector_score": 78.89272184726099, "children": [{"name": "\uc624\ub69c\uae30", "value": 76.033474924805, "stock_code": "A007310", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 76.033474924805, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc624\ub9ac\uc628\ud640\ub529\uc2a4", "value": 73.30204806949702, "stock_code": "A001800", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.30204806949702, "signal_count": 0, "signal_list": "[]"}, {"name": "CJ\uc81c\uc77c\uc81c\ub2f9", "value": 71.9888868638113, "stock_code": "A097950", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 71.9888868638113, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub18d\uc2ec", "value": 65.93165344254889, "stock_code": "A004370", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 65.93165344254889, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc0bc\uc591\uc2dd\ud488", "value": 65.78864585976369, "stock_code": "A003230", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 65.78864585976369, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc624\ub9ac\uc628", "value": 64.11314403406145, "stock_code": "A271560", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 64.11314403406145, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 5.6\ubc30']"}, {"name": "\uba54\uc9c0\uc628", "value": 63.94016988074287, "stock_code": "A140410", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 63.94016988074287, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub3d9\uc11c", "value": 63.543570451027506, "stock_code": "A026960", "pattern": "\uae30\ud0c0", "combined_score": 63.543570451027506, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub3d9\uc6d0\uc0b0\uc5c5", "value": 59.631485600140365, "stock_code": "A006040", "pattern": "\uae30\ud0c0", "combined_score": 59.631485600140365, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub300\uc0c1", "value": 58.794227969459754, "stock_code": "A001680", "pattern": "\uae30\ud0c0", "combined_score": 58.794227969459754, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uc804\uc790 \uc7a5\ube44 \ubc0f \uae30\uae30", "sector_score": 72.93720960172632, "children": [{"name": "\uc5d0\ucf54\ud504\ub85c\uba38\ud2f0", "value": 78.422047650913, "stock_code": "A450080", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.422047650913, "signal_count": 0, "signal_list": "[]"}, {"name": "LG\uc5d0\ub108\uc9c0\uc194\ub8e8\uc158", "value": 75.2011663310737, "stock_code": "A373220", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 75.2011663310737, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 29.9\ubc30']"}, {"name": "\uc5d0\ucf54\ud504\ub85c\ube44\uc5e0", "value": 74.59351698261554, "stock_code": "A247540", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.59351698261554, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc528\uc544\uc774\uc5d0\uc2a4", "value": 73.12120128477089, "stock_code": "A222080", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.12120128477089, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc5d0\ucf54\ud504\ub85c", "value": 72.07572468391237, "stock_code": "A086520", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 72.07572468391237, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 1.9\ubc30']"}, {"name": "SK\uc544\uc774\uc774\ud14c\ud06c\ub180\ub85c\uc9c0", "value": 70.02592855248554, "stock_code": "A361610", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 70.02592855248554, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc5d4\ucf10", "value": 68.47636229669166, "stock_code": "A348370", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 68.47636229669166, "signal_count": 0, "signal_list": "[]"}, {"name": "\ucc9c\ubcf4", "value": 65.0302633092515, "stock_code": "A278280", "pattern": "\uae30\ud0c0", "combined_score": 65.0302633092515, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 2.7\ubc30']"}, {"name": "\ud53c\uc5d4\ud2f0", "value": 63.121189547644406, "stock_code": "A137400", "pattern": "\uc804\ud658\ud615", "combined_score": 63.121189547644406, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 9.3\ubc30']"}, {"name": "\uc194\ube0c\ub808\uc778\ud640\ub529\uc2a4", "value": 62.75425714187076, "stock_code": "A036830", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 62.75425714187076, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uc81c\uc57d", "sector_score": 71.92500900513994, "children": [{"name": "\ub300\uc6c5\uc81c\uc57d", "value": 81.19024685581108, "stock_code": "A069620", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 81.19024685581108, "signal_count": 2, "signal_list": "['MA\ud06c\ub85c\uc2a4', '\uac00\uc18d\ub3c4 3.3\ubc30']"}, {"name": "\ud55c\ubbf8\uc0ac\uc774\uc5b8\uc2a4", "value": 78.66352235993311, "stock_code": "A008930", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 78.66352235993311, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "\uc885\uadfc\ub2f9", "value": 74.68699908202385, "stock_code": "A185750", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 74.68699908202385, "signal_count": 0, "signal_list": "[]"}, {"name": "SK\ubc14\uc774\uc624\uc0ac\uc774\uc5b8\uc2a4", "value": 69.47404904069329, "stock_code": "A302440", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.47404904069329, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub300\uc6c5", "value": 69.24120245838591, "stock_code": "A003090", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 69.24120245838591, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub3d9\uad6d\uc81c\uc57d", "value": 68.85867031807174, "stock_code": "A086450", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 68.85867031807174, "signal_count": 0, "signal_list": "[]"}, {"name": "\ubc14\uc774\ub125\uc2a4", "value": 67.1776748333588, "stock_code": "A053030", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 67.1776748333588, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc140\ud2b8\ub9ac\uc628\uc81c\uc57d", "value": 66.65589653662215, "stock_code": "A068760", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 66.65589653662215, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc720\ud55c\uc591\ud589", "value": 66.01311646152156, "stock_code": "A000100", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 66.01311646152156, "signal_count": 0, "signal_list": "[]"}, {"name": "\uc624\uc2a4\ucf54\ud14d", "value": 64.2682790292547, "stock_code": "A039200", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 64.2682790292547, "signal_count": 0, "signal_list": "[]"}]}, {"name": "\uac74\uc124", "sector_score": 69.87367933586981, "children": [{"name": "\uc0bc\uc131E&A", "value": 73.3059394255484, "stock_code": "A028050", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 73.3059394255484, "signal_count": 1, "signal_list": "['MA\ud06c\ub85c\uc2a4']"}, {"name": "LS\ub9c8\ub9b0\uc194\ub8e8\uc158", "value": 67.96803529088903, "stock_code": "A060370", "pattern": "\ubaa8\uba58\ud140\ud615", "combined_score": 67.96803529088903, "signal_count": 0, "signal_list": "[]"}, {"name": "\ub300\uc6b0\uac74\uc124", "value": 67.76684094118475, "stock_code": "A047040", "pattern": "\uc9c0\uc18d\ud615", "combined_score": 67.76684094118475, "signal_count": 1, "signal_list": "['\uac00\uc18d\ub3c4 4.2\ubc30']"}, {"name": "DL\uc774\uc564\uc528", "value": 54.096689242313666, "stock_code": "A375500", "pattern": "\uae30\ud0c0", "combined_score": 54.096689242313666, "signal_count": 0, "signal_list": "[]"}, {"name": "GS\uac74\uc124", "value": 50.90758070890412, "stock_code": "A006360", "pattern": "\uae30\ud0c0", "combined_score": 50.90758070890412, "signal_count": 0, "signal_list": "[]"}, {"name": "\ud604\ub300\uac74\uc124", "value": 45.30526526134759, "stock_code": "A000720", "pattern": "\uae30\ud0c0", "combined_score": 45.30526526134759, "signal_count": 0, "signal_list": "[]"}]}]};

        // Treemap ì„¤ì •
        const margin = {top: 80, right: 10, bottom: 10, left: 10};
        const width = 1200;
        const height = 800;

        // SVG ìƒì„±
        const svg = d3.select("#heatmap")
            .append("svg")
            .attr("width", width)
            .attr("height", height);

        // íˆ´íŒ ìƒì„±
        const tooltip = d3.select("body")
            .append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);

        // ìƒ‰ìƒ ìŠ¤ì¼€ì¼ (ì¢…í•©ì ìˆ˜ ê¸°ë°˜: ë¹¨ê°• â†’ ë…¸ë‘ â†’ ì´ˆë¡)
        const colorScale = d3.scaleSequential()
            .domain([40, 100])
            .interpolator(d3.interpolateRdYlGn);

        // íŒ¨í„´ ìƒ‰ìƒ ë§¤í•‘
        const patternColors = {
            'ëª¨ë©˜í…€í˜•': '#EF4444',
            'ì§€ì†í˜•': '#3B82F6',
            'ì „í™˜í˜•': '#F59E0B'
        };

        // ë°°ê²½ìƒ‰ì— ë”°ë¼ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ìë™ ì¡°ì •
        function getTextColor(bgColor) {
            const color = d3.color(bgColor);
            const luminance = 0.299 * color.r + 0.587 * color.g + 0.114 * color.b;
            return luminance > 140 ? '#1F2937' : '#FFFFFF';  // ë°ìœ¼ë©´ ì§„í•œ íšŒìƒ‰, ì–´ë‘ìš°ë©´ í°ìƒ‰
        }

        // ê³„ì¸µ êµ¬ì¡° ìƒì„±
        const root = d3.hierarchy(treemapData)
            .sum(d => d.value)
            .sort((a, b) => b.value - a.value);

        // Treemap ë ˆì´ì•„ì›ƒ
        const treemap = d3.treemap()
            .size([width, height - margin.top])
            .padding(1)
            .paddingOuter(2)
            .paddingTop(24)  // ì„¹í„° ì´ë¦„ ê³µê°„
            .round(true);

        treemap(root);

        // ë©”ì¸ ê·¸ë£¹ (ìƒë‹¨ ë§ˆì§„ ì ìš©)
        const mainGroup = svg.append("g")
            .attr("transform", `translate(0, ${margin.top})`);

        // ì¢…ëª© ë°•ìŠ¤ ê·¸ë¦¬ê¸°
        const leaves = mainGroup.selectAll("g")
            .data(root.leaves())
            .enter()
            .append("g")
            .attr("transform", d => `translate(${d.x0},${d.y0})`);

        // ì¢…ëª© ë°•ìŠ¤
        leaves.append("rect")
            .attr("width", d => d.x1 - d.x0)
            .attr("height", d => d.y1 - d.y0)
            .attr("fill", d => colorScale(d.data.combined_score))
            .attr("stroke", "#FFFFFF")
            .attr("stroke-width", 1.5)
            .attr("rx", 3)  // ë‘¥ê·¼ ëª¨ì„œë¦¬
            .style("cursor", "pointer")
            .on("mouseover", function(event, d) {
                d3.select(this)
                    .attr("stroke", "#000000")
                    .attr("stroke-width", 2.5)
                    .style("filter", "brightness(1.1)");

                tooltip.transition().duration(150).style("opacity", 1);
                tooltip.html(`
                    <div style="border-bottom: 2px solid #60A5FA; padding-bottom: 8px; margin-bottom: 8px;">
                        <strong style="font-size: 17px; color: #60A5FA;">${d.data.name}</strong>
                    </div>
                    <div style="line-height: 1.8;">
                        <span style="color: #9CA3AF;">ì¢…ëª©ì½”ë“œ:</span> <strong style="color: #E5E7EB;">${d.data.stock_code}</strong><br/>
                        <span style="color: #9CA3AF;">ì„¹í„°:</span> <strong style="color: #E5E7EB;">${d.parent.data.name}</strong><br/>
                        <span style="color: #9CA3AF;">íŒ¨í„´:</span> <span style="color: ${patternColors[d.data.pattern] || '#fff'}; font-weight: 600;">${d.data.pattern}</span><br/>
                        <span style="color: #9CA3AF;">ì¢…í•©ì ìˆ˜:</span> <strong style="color: #34D399; font-size: 16px;">${d.data.combined_score.toFixed(1)}ì </strong><br/>
                        <span style="color: #9CA3AF;">ì‹œê·¸ë„:</span> <strong style="color: #FBBF24;">${d.data.signal_count}ê°œ</strong><br/>
                        <span style="color: #9CA3AF;">ë‚´ìš©:</span> <span style="color: #E5E7EB;">${d.data.signal_list}</span>
                    </div>
                `)
                    .style("left", (event.pageX + 15) + "px")
                    .style("top", (event.pageY - 28) + "px");
            })
            .on("mouseout", function() {
                d3.select(this)
                    .attr("stroke", "#FFFFFF")
                    .attr("stroke-width", 1.5)
                    .style("filter", "none");
                tooltip.transition().duration(300).style("opacity", 0);
            });

        // ì¢…ëª©ëª… í…ìŠ¤íŠ¸
        leaves.append("text")
            .attr("x", d => (d.x1 - d.x0) / 2)
            .attr("y", d => {
                const height = d.y1 - d.y0;
                return height > 50 ? (d.y1 - d.y0) / 2 - 5 : (d.y1 - d.y0) / 2;
            })
            .attr("text-anchor", "middle")
            .attr("dominant-baseline", "middle")
            .text(d => {
                const width = d.x1 - d.x0;
                const height = d.y1 - d.y0;
                // ë°•ìŠ¤ê°€ ì¶©ë¶„íˆ í¬ë©´ ì¢…ëª©ëª… í‘œì‹œ
                if (width > 70 && height > 35) {
                    return d.data.name.length > 8 ? d.data.name.substring(0, 7) + '...' : d.data.name;
                } else if (width > 45 && height > 25) {
                    return d.data.name.length > 5 ? d.data.name.substring(0, 4) + '...' : d.data.name;
                }
                return '';
            })
            .attr("font-size", d => {
                const width = d.x1 - d.x0;
                if (width > 120) return "14px";
                if (width > 80) return "12px";
                if (width > 50) return "10px";
                return "8px";
            })
            .attr("font-weight", "700")
            .attr("fill", d => getTextColor(colorScale(d.data.combined_score)))
            .style("pointer-events", "none");

        // ì ìˆ˜ í…ìŠ¤íŠ¸
        leaves.append("text")
            .attr("x", d => (d.x1 - d.x0) / 2)
            .attr("y", d => {
                const height = d.y1 - d.y0;
                return height > 50 ? (d.y1 - d.y0) / 2 + 14 : (d.y1 - d.y0) / 2 + 12;
            })
            .attr("text-anchor", "middle")
            .attr("dominant-baseline", "middle")
            .text(d => {
                const width = d.x1 - d.x0;
                const height = d.y1 - d.y0;
                if (width > 70 && height > 45) {
                    return `${d.data.combined_score.toFixed(1)}ì `;
                }
                return '';
            })
            .attr("font-size", "11px")
            .attr("font-weight", "600")
            .attr("fill", d => getTextColor(colorScale(d.data.combined_score)))
            .style("pointer-events", "none")
            .style("opacity", 0.9);

        // ì„¹í„° ë ˆì´ë¸” (ê° ì„¹í„° ì˜ì—­ ë‚´ë¶€ ì¢Œìƒë‹¨)
        const sectorGroups = root.children;
        sectorGroups.forEach(sector => {
            const sectorLeaves = sector.leaves();
            if (sectorLeaves.length === 0) return;

            // ì„¹í„° ì˜ì—­ì˜ x0, y0 ê³„ì‚°
            const x0 = Math.min(...sectorLeaves.map(d => d.x0));
            const y0 = Math.min(...sectorLeaves.map(d => d.y0));
            const x1 = Math.max(...sectorLeaves.map(d => d.x1));

            // ì„¹í„° ë°°ê²½ ë°•ìŠ¤ (ì ìˆ˜ í¬í•¨í•œ ë„ˆë¹„)
            const labelText = `${sector.data.name} (${sector.data.sector_score.toFixed(1)})`;
            const labelWidth = Math.min(labelText.length * 8 + 16, x1 - x0);
            mainGroup.append("rect")
                .attr("x", x0)
                .attr("y", y0)
                .attr("width", labelWidth)
                .attr("height", 22)
                .attr("fill", "rgba(31, 41, 55, 0.85)")
                .attr("rx", 4)
                .style("pointer-events", "none");

            // ì„¹í„° í…ìŠ¤íŠ¸ (ì´ë¦„ + ì ìˆ˜)
            mainGroup.append("text")
                .attr("x", x0 + 8)
                .attr("y", y0 + 14)
                .text(`${sector.data.name} (${sector.data.sector_score.toFixed(1)})`)
                .attr("font-size", "12px")
                .attr("font-weight", "700")
                .attr("fill", "#FFFFFF")
                .style("pointer-events", "none");
        });

        // ë²”ë¡€ ì¶”ê°€ (ìƒë‹¨ ì¤‘ì•™)
        const legendWidth = 400;
        const legendHeight = 20;

        const legend = svg.append("g")
            .attr("transform", `translate(${(width - legendWidth) / 2}, 20)`);

        // íƒ€ì´í‹€
        legend.append("text")
            .attr("x", legendWidth / 2)
            .attr("y", 0)
            .attr("text-anchor", "middle")
            .style("font-size", "16px")
            .style("font-weight", "700")
            .attr("fill", "#1F2937")
            .text("ì¢…í•©ì ìˆ˜");

        // ê·¸ë¼ë°ì´ì…˜ ì •ì˜
        const defs = svg.append("defs");
        const linearGradient = defs.append("linearGradient")
            .attr("id", "legend-gradient")
            .attr("x1", "0%")
            .attr("x2", "100%");

        linearGradient.selectAll("stop")
            .data(d3.range(0, 1.1, 0.1))
            .enter()
            .append("stop")
            .attr("offset", d => `${d * 100}%`)
            .attr("stop-color", d => colorScale(40 + d * 60));

        // ê·¸ë¼ë°ì´ì…˜ ë°”
        legend.append("rect")
            .attr("y", 15)
            .attr("width", legendWidth)
            .attr("height", legendHeight)
            .style("fill", "url(#legend-gradient)")
            .attr("stroke", "#D1D5DB")
            .attr("stroke-width", 1)
            .attr("rx", 4);

        // ë ˆì´ë¸” (ë‚®ìŒ)
        legend.append("text")
            .attr("x", 0)
            .attr("y", legendHeight + 35)
            .attr("text-anchor", "start")
            .style("font-size", "13px")
            .style("font-weight", "600")
            .attr("fill", "#DC2626")
            .text("ë‚®ìŒ (40ì )");

        // ë ˆì´ë¸” (ì¤‘ê°„)
        legend.append("text")
            .attr("x", legendWidth / 2)
            .attr("y", legendHeight + 35)
            .attr("text-anchor", "middle")
            .style("font-size", "13px")
            .style("font-weight", "600")
            .attr("fill", "#F59E0B")
            .text("ì¤‘ê°„");

        // ë ˆì´ë¸” (ë†’ìŒ)
        legend.append("text")
            .attr("x", legendWidth)
            .attr("y", legendHeight + 35)
            .attr("text-anchor", "end")
            .style("font-size", "13px")
            .style("font-weight", "600")
            .attr("fill", "#059669")
            .text("ë†’ìŒ (100ì )");
    </script>
</body>
</html>