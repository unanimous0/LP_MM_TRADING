# í•œêµ­ ì£¼ì‹ ì™¸êµ­ì¸/ê¸°ê´€ íˆ¬ìì ìˆ˜ê¸‰ ë¶„ì„ í”„ë¡œê·¸ë¨

## [Status]
- **í˜„ì¬ ì‘ì—…**: Stage 5-1 Streamlit ì›¹ ëŒ€ì‹œë³´ë“œ ì§„í–‰ ì¤‘
- **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-23
- **ë°±í…ŒìŠ¤íŠ¸ ê¶Œì¥ ì‹œì‘ì¼**: 2025-01-01 ì´í›„ (DBê°€ 2024-01-02 ì‹œì‘ì´ë¯€ë¡œ 1Y ë°ì´í„° í™•ë³´)
- **ë‹¤ìŒ ì‹œì‘ì **: Stage 5-1 ì¶”ê°€ í˜ì´ì§€ (ì¢…ëª© ìƒì„¸, íˆíŠ¸ë§µ ë“±)
- **ì‹œê°í™”**: matplotlib 5ì¢… (PNG/PDF) + Plotly 5ì¢… (Streamlit ì¸í„°ë™í‹°ë¸Œ)
- **Streamlit**: `venv/bin/streamlit run app/streamlit_app.py` â†’ http://localhost:8501
- **í˜„ì¬ ë¸Œëœì¹˜**: main
- **ë¡œë“œë§µ**: [Next Steps] ì„¹ì…˜ Stage 5 ì°¸ì¡°

### TODO (Optuna íŒŒë¼ë¯¸í„° ì¶”ê°€ ì‹œ)
- **í˜„ì¬ ìµœì í™” ëŒ€ìƒ 7ê°œ íŒŒë¼ë¯¸í„°, ê¸°ë³¸ Trial ìˆ˜ 100** (2026-02-22 ì—…ë°ì´íŠ¸)
  - Trial ìˆ˜ëŠ” íŒŒë¼ë¯¸í„° ê³µê°„ íƒìƒ‰ìš© (ë°ì´í„° ê¸°ê°„/ì–‘ê³¼ ë¬´ê´€)
  - ëœë¤ ì‹œë“œ ì‚¬ìš© ì¤‘ (seed ê³ ì • X) â†’ trial ìˆ˜ë¥¼ ì¶©ë¶„íˆ ëŠ˜ë ¤ í¸ì°¨ë¥¼ ì¤„ì´ëŠ” ë°©ì‹
  - íŒŒë¼ë¯¸í„° ìˆ˜ì— ë”°ë¥¸ ê¶Œì¥ Trial ìˆ˜:
    - 4ê°œ (ì´ì „): 50 trial
    - 7ê°œ (í˜„ì¬): 100 trial
    - 10ê°œ+: 200 trial ì´ìƒ
  - ë³€ê²½ ìœ„ì¹˜: `src/backtesting/optimizer.py` (`DEFAULT_PARAM_SPACE` + `optimize()` ê¸°ë³¸ê°’)
               `app/utils/data_loader.py` (`run_optuna_optimization()` ê¸°ë³¸ê°’)
               `app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py` (ìŠ¬ë¼ì´ë” ê¸°ë³¸ê°’)

### TODO (ìˆ˜ê¸‰ DB êµì²´ ì‹œ â€” 22ë…„ ë°ì´í„° ì „í™˜)
> **âš ï¸ ë°˜ë“œì‹œ ìˆ˜í–‰**: ìˆ˜ê¸‰ DBê°€ ë°”ë€Œë©´ Optuna study ê²°ê³¼ë„ ë¬´íš¨í™”ë¨

**ë°°ê²½**: Optuna study ì´ë¦„ì€ ìµœì í™” ê¸°ê°„ë§Œ ë³´ê³  ìƒì„±ë¨ (`opt__long__20250101__20250930__sharpe_ratio`)
- ê¸°ì € ë°ì´í„°(ìˆ˜ê¸‰ DB)ê°€ ë°”ë€Œì–´ë„ ì´ë¦„ì´ ë™ì¼ â†’ ì´ì „ DB ê¸°ë°˜ trial ìœ„ì— ëˆ„ì ë¨
- 22ë…„ ë°ì´í„° ì¶”ê°€ ì‹œ Z-Score ê³„ì‚° ê¸°ì¤€ ìì²´ê°€ ë‹¬ë¼ì§€ë¯€ë¡œ ê¸°ì¡´ trialì€ ë¬´íš¨

**DB êµì²´ ì‹œ ìˆ˜í–‰ ìˆœì„œ**:
```bash
# 1. ê¸°ì¡´ Optuna study ì‚­ì œ
rm data/optuna_studies.db

# 2. gitì— ë°˜ì˜ (ì–‘ìª½ ì»´í“¨í„° ë™ê¸°í™”)
git add data/optuna_studies.db
git commit -m "Optuna study ì´ˆê¸°í™” (22ë…„ DB ì „í™˜)"
git push
```

**Optuna study DB ê´€ë¦¬ ì •ì±…**:
- `data/optuna_studies.db` â€” gitìœ¼ë¡œ ê´€ë¦¬ (ì§‘â†”íšŒì‚¬ ì»´í“¨í„° ê°„ ê³µìœ )
- study ì´ë¦„ = `opt__{strategy}__{ì‹œì‘ì¼}__{ì¢…ë£Œì¼}__{metric}` (ê¸°ê°„+ì „ëµ+ì§€í‘œ ì¡°í•©)
- ê°™ì€ ì»´í“¨í„°ì—ì„œ ì¬ì‹œì‘/ìƒˆë¡œê³ ì¹¨í•´ë„ ëˆ„ì  trial ìœ ì§€ë¨
- **DB êµì²´ ì‹œì—ë§Œ** ìœ„ ì‚­ì œ ì ˆì°¨ ìˆ˜í–‰

### TODO (ë°ì´í„° ê°œì„  ì‹œ)
- [ ] **ê³µìœ  í•œêµ­ì£¼ì‹ DB ì—°ë™** â†’ í¬ë¡¤ë§ ì œê±° + ë‹¤ì¤‘ í”„ë¡œì íŠ¸ ê³µìœ 
  - ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ê³µë™ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•œêµ­ì£¼ì‹ DB êµ¬ì¶• ì¤‘
  - ì™„ì„± ì‹œ: `src/database/connection.py` ì ‘ì† ì„¤ì •ë§Œ ë³€ê²½í•˜ë©´ ì´ í”„ë¡œì íŠ¸ì— ì¦‰ì‹œ ì ìš©
  - íš¨ê³¼: í¬ë¡¤ë§ ìœ ì§€ë³´ìˆ˜ ë¶€ë‹´ ì œê±°, ë°ì´í„° ì¼ê´€ì„± í™•ë³´
- [ ] **23ë…„ ë°ì´í„° ì¶”ê°€** â†’ ë°±í…ŒìŠ¤íŠ¸ ê¸°ê°„ í™•ì¥ (í˜„ì¬ 2024-01-02ë¶€í„° ì‹œì‘)
  - 23ë…„ ë°ì´í„° ì¶”ê°€ ì‹œ 2024ë…„ ë°±í…ŒìŠ¤íŠ¸ë„ 2Y Z-Score ì™„ì „ í™œìš© ê°€ëŠ¥
- [ ] **ì‹œê°€ ë°ì´í„° ì¶”ê°€** â†’ ì§„ì…/ì²­ì‚° íƒ€ì´ë° ê°œì„ 
  - í˜„ì¬: ì§„ì…(ë‹¤ìŒ ë‚  ì¢…ê°€), ì²­ì‚°(ë°˜ëŒ€ ìˆ˜ê¸‰ = ë‹¤ìŒ ë‚  ì¢…ê°€, ê°€ê²© ê¸°ì¤€ = ë‹¹ì¼ ì¢…ê°€)
  - ë³€ê²½ í›„: ì§„ì…(ë‹¤ìŒ ë‚  ì‹œê°€), ì²­ì‚°(ë°˜ëŒ€ ìˆ˜ê¸‰ = ë‹¤ìŒ ë‚  ì‹œê°€, ê°€ê²© ê¸°ì¤€ = ë„ë‹¬ ì‹œ)
  - ì˜í–¥: ë” í˜„ì‹¤ì ì¸ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ (ì‹œê°€ê°€ ì¢…ê°€ë³´ë‹¤ ìœ ë¦¬í•œ ê²½ìš° ë§ìŒ)

### ì£¼ìš” ì„±ê³¼

**Stage 1: ë°ì´í„° ì •ê·œí™”** âœ…
- Sff/Z-Score ì •ê·œí™” ì™„ë£Œ
- **ì™¸êµ­ì¸ ì¤‘ì‹¬ ì¡°ê±´ë¶€ Sff**: ê°™ì€ ë°©í–¥ â†’ ì™¸êµ­ì¸+ê¸°ê´€Ã—0.3, ë°˜ëŒ€ ë°©í–¥ â†’ ì™¸êµ­ì¸ë§Œ
- **ì¡°ê±´ë¶€ Z-Score ì ìš©**: ë¶€í˜¸ ì „í™˜ ì‹œ ê³¼ì‰ ë°˜ì‘ ë°©ì§€ (ì‘ì€ ë§¤ë„ â†’ í° ë§¤ë„ ì˜¤ì¸ í•´ê²°)
- ì´ìƒ ìˆ˜ê¸‰ íƒì§€ (20ê±´ íƒì§€, 15ì´ˆ ì†Œìš”)
- ì„¹í„° ì •ë³´ í†µí•© (97.9% ì»¤ë²„ë¦¬ì§€)

**Stage 2: ì‹œê³µê°„ íˆíŠ¸ë§µ** âœ…
- 6ê°œ ê¸°ê°„(1W~2Y) íˆíŠ¸ë§µ ì‹œê°í™”
- 4ê°€ì§€ ì •ë ¬ ëª¨ë“œ (Recent/Momentum/Weighted/Average)
- ì„±ëŠ¥ ìµœì í™” (ëª©í‘œ 23ì´ˆ â†’ ì‹¤ì œ 1.5ì´ˆ, 93% ì´ˆê³¼ ë‹¬ì„±)
- 61ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)

**Stage 3: íŒ¨í„´ ê¸°ë°˜ ë¶„ë¥˜ ì‹œìŠ¤í…œ** âœ…
- 3ê°œ ë°”êµ¬ë‹ˆ ìë™ ë¶„ë¥˜ (ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜•)
- ì¶”ê°€ ì‹œê·¸ë„ íƒì§€ (MA ê³¨ë“ í¬ë¡œìŠ¤, ê°€ì†ë„, ë™ì¡°ìœ¨)
- í†µí•© ë¦¬í¬íŠ¸ ìƒì„± (ì¢…ëª©ë³„ 1ì¤„ ìš”ì•½ ì¹´ë“œ)
- ì§„ì…/ì²­ì‚° í¬ì¸íŠ¸ ì œì‹œ
- 105ê°œ í…ŒìŠ¤íŠ¸ (Stage 1~3 í†µí•©, 100% í†µê³¼)

**Stage 4 Week 1-3: ë°±í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ + ì‹œê°í™”** âœ…
- **Week 1**: Portfolio ê´€ë¦¬ + BacktestEngine (ë¡¤ë§ ìœˆë„ìš°)
  - Stage 1-3 í†µí•© (ë§¤ ê±°ë˜ì¼ íŒ¨í„´ ìŠ¤ìº”)
  - ì§„ì…/ì²­ì‚° ë¡œì§ (ëª©í‘œ ìˆ˜ìµë¥ , ì†ì ˆ, ì‹œê°„ ì†ì ˆ)
  - ê±°ë˜ ë¹„ìš© ë°˜ì˜ (ì„¸ê¸ˆ 0.20%, ìˆ˜ìˆ˜ë£Œ 0.015%, ìŠ¬ë¦¬í”¼ì§€ 0.1%)
  - 27ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)
- **Week 2**: PerformanceMetrics (ì„±ê³¼ ë¶„ì„)
  - ì „ì²´ ì„±ê³¼ (ìŠ¹ë¥ , ìˆ˜ìµë¥ , Profit Factor)
  - ë¦¬ìŠ¤í¬ ì§€í‘œ (MDD, ìƒ¤í”„ ë¹„ìœ¨, ì¹¼ë§ˆ ë¹„ìœ¨)
  - ì„¸ë¶€ ë¶„ì„ (íŒ¨í„´ë³„, ì‹œê·¸ë„ë³„, ì›”ë³„)
  - ë²¤ì¹˜ë§ˆí¬ ë¹„êµ (ì•ŒíŒŒ, ë² íƒ€)
  - 21ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)
- **Week 2.5**: ìˆœë§¤ë„ íƒì§€ & ë¡±/ìˆ ì–‘ë°©í–¥ ì „ëµ
  - PatternClassifierì— direction='long'/'short' íŒŒë¼ë¯¸í„° ì¶”ê°€
  - ìˆ í¬ì§€ì…˜ ê´€ë¦¬ (ì°¨ì…ë¹„ìš© ì—° 3%, ê³µë§¤ë„ ì„¸ê¸ˆ 0.20%)
  - ë¡±/ìˆ/ë³‘í–‰ 3ì¢… ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì™„ë£Œ
  - íŒ¨í„´ ì´ë¦„ í†µì¼ (ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜•, ë°©í–¥ ë¬´ê´€)
  - 18ê°œ í…ŒìŠ¤íŠ¸ ì¶”ê°€ (100% í†µê³¼)
- **Week 3**: ì‹œê°í™” + CSV ì €ì¥ âœ…
  - matplotlib ê¸°ë°˜ 5ê°œ ì°¨íŠ¸ (equity curve, drawdown, monthly returns, return distribution, pattern performance)
  - PNG/PDF ë¦¬í¬íŠ¸ ìƒì„±
  - CSV ì €ì¥ (trades, daily_values)
  - CLI í†µí•© (--plot, --save-dir, --save-pdf)
  - 11ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)
- **ì´ 77ê°œ í…ŒìŠ¤íŠ¸** (77ê°œ í†µê³¼)

**Stage 5-1: Streamlit ì›¹ ëŒ€ì‹œë³´ë“œ** (ì§„í–‰ ì¤‘)
- ë©€í‹°í˜ì´ì§€ ì•± (í™ˆ/ë¶„ì„/ë°±í…ŒìŠ¤íŠ¸)
- ë°±í…ŒìŠ¤íŠ¸ í˜ì´ì§€: Plotly ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ 5ì¢… + KPI ì¹´ë“œ + ê±°ë˜ ë‚´ì—­
- **BacktestPrecomputer**: ë°±í…ŒìŠ¤íŠ¸ ì†ë„ 165~262ë°° í–¥ìƒ (177ì´ˆâ†’1.1ì´ˆ)
- **Optuna ìµœì í™” UI**: ì‚¬ì´ë“œë°”ì—ì„œ íŒŒë¼ë¯¸í„° ìë™ ìµœì í™” â†’ ê²°ê³¼ ì¦‰ì‹œ ë°˜ì˜
- **[ìˆ˜ì •] institution_weight ì„¤ê³„ ê°œì„ **: ë²„ê·¸ ìˆ˜ì • + ìµœì í™” íŒŒë¼ë¯¸í„° ë¶„ë¦¬ + Precomputer ê³µìœ  ìºì‹±
- **Persistent Optuna Study**: SQLite ëˆ„ì  ì €ì¥ â†’ Trial ìˆ˜ ëŠ˜ë¦´ìˆ˜ë¡ ìµœì ê°’ ë‹¨ì¡° ì¦ê°€ ë³´ì¥
- **ë°±í…ŒìŠ¤íŠ¸ UI ê°œì„ **: ê²€ì¦/ìµœì í™” ê²°ê³¼ ì‹œê° êµ¬ë¶„ (ìƒ‰ìƒ í…Œë‘ë¦¬), ì‚¬ì´ë“œë°” 3ì„¹ì…˜, ëˆ„ì  Trial í‘œì‹œ
- **ë‹¤í¬ í…Œë§ˆ ì „ë©´ ì ìš©**: `.streamlit/config.toml` + `plotly_visualizer.py` + `charts.py` + `theme=None`
- **ìŠ¬ë¼ì´ë” + ì§ì ‘ ì…ë ¥ ë™ê¸°í™”**: `_synced_slider()` í—¬í¼ (ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ OR ìˆ«ì ì§ì ‘ ì…ë ¥)
- **ë¶„ì„ ì§„í–‰ë¥  í‘œì‹œ**: ì „ í˜ì´ì§€ `st.progress()` % í‘œì‹œ (ìŠ¤í…Œì´ì§€ë³„ ìºì‹œ ë¶„ë¦¬ë¡œ CacheReplayClosureError í•´ê²°)
- **2026ë…„ ë‚ ì§œ ì„ íƒ ë²„ê·¸ ìˆ˜ì •**: ëª¨ë“  date_input max_value ì—°ì¥
- **ë°±í…ŒìŠ¤íŠ¸ ì‚¬ì´ë“œë°” êµ¬ì¡° ê°œì„ **: ğŸ§ª ìµœì í™” ëŒ€ìƒ / ğŸ”’ ê³ ì • ì¡°ê±´ ì„¹ì…˜ ë¶„ë¦¬
- **Optuna ìµœì í™” ëŒ€ìƒ í™•ì¥**: 4ê°œ â†’ 7ê°œ (max_positions/max_hold_days/reverse_threshold ì¶”ê°€)
- **ì´ˆê¸° ìë³¸ê¸ˆ ì‰¼í‘œ í¬ë§·**: text_input + on_change ì½œë°±ìœ¼ë¡œ ì…ë ¥ì°½ ìì²´ì— ì‰¼í‘œ í‘œì‹œ
- **[ë²„ê·¸ìˆ˜ì •] institution_weight ìµœì í™” ë¶ˆì¼ì¹˜**: ìµœì í™” ì‹œ í•­ìƒ 0.3 ì‚¬ìš© â†’ ì‚¬ì´ë“œë°” ê°’ ì „ë‹¬ë¡œ ìˆ˜ì •
- **institution_weight ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°”**: ì „ í˜ì´ì§€ ê³µìœ  ìŠ¬ë¼ì´ë” (`key="w_institution_weight"`) + ë¶„ì„ íŒŒì´í”„ë¼ì¸ íŒŒë¼ë¯¸í„°í™”
- **ê±°ë˜ ë¹„ìš© íŒŒë¼ë¯¸í„°í™”**: Portfolio í´ë˜ìŠ¤ ì†ì„± â†’ `__init__` íŒŒë¼ë¯¸í„° ì „í™˜, BacktestConfig â†’ Engine â†’ Portfolio ì „ë‹¬ ì²´ì¸
- **ë°±í…ŒìŠ¤íŠ¸ ê±°ë˜ë¹„ìš© UI**: ğŸ”’ ê³ ì • ì¡°ê±´ì— expander ì¶”ê°€ (ì„¸ê¸ˆ/ìˆ˜ìˆ˜ë£Œ/ìŠ¬ë¦¬í”¼ì§€/ì°¨ì…ë¹„ìš© ì¡°ì • ê°€ëŠ¥)
- **[ë²„ê·¸ìˆ˜ì •] ìµœì í™”/ì›Œí¬í¬ì›Œë“œ ê±°ë˜ë¹„ìš© ëˆ„ë½**: optimizer/walk_forwardì˜ params dictì— ë¹„ìš© í•„ë“œ ì¶”ê°€
- **ë©”ì¸ í˜ì´ì§€ ì¬ì„¤ê³„**: KPI 5ê°œ + ì´ìƒìˆ˜ê¸‰/ìˆ˜ê¸‰ìˆœìœ„ íƒ­ + íŒ¨í„´ ìš”ì•½ + ê´€ì‹¬ì¢…ëª© í…Œì´ë¸”
- **ì´ìƒ ìˆ˜ê¸‰ ì„¹ì…˜**: Z>2Ïƒ ë§¤ìˆ˜/ë§¤ë„ ë°”ì°¨íŠ¸ + í…Œì´ë¸” (í˜¸ë²„ì— ìˆœë§¤ìˆ˜ê¸ˆì•¡ ì–µ/ì¡° í¬ë§·)
- **ë‹¹ì¼ ìˆ˜ê¸‰ ìˆœìœ„ íƒ­**: ì™¸êµ­ì¸/ê¸°ê´€ ìˆœë§¤ìˆ˜Â·ìˆœë§¤ë„ Top 50 (ì°¨íŠ¸ 10 + í…Œì´ë¸” 50, ì‰¼í‘œ í¬ë§·)
- **ì‚°ì¶œ ë°©ì‹ ì„¤ëª…**: Sffâ†’í•©ì‚°â†’Z-Score 3ë‹¨ê³„ ìˆ˜ì‹ + ì™¸êµ­ì¸Zâ‰ ì¢…í•©Z ì´ìœ  expander
- 258ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)

**í•µì‹¬ ì¸ì‚¬ì´íŠ¸**:
- 3ê°œ íŒ¨í„´ì€ íˆ¬ì ìŠ¤íƒ€ì¼ë³„ ìµœì  ì¢…ëª© í•„í„°ë§ (ë‹¨ê¸°=ëŒíŒŒí˜•, ì¤‘ê¸°=ë§¤ì§‘í˜•, ì €ê°€=ë°˜ë“±í˜•)
- ì‹œê·¸ë„ 2ê°œ ì´ìƒ ì¢…ëª© = í™•ì‹ ë„ ë†’ì€ ì§„ì… íƒ€ì´ë° (ìŠ¹ë¥  60%, í‰ê·  +3~4%)
- ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ì‹œê°„: ì•½ 3ì´ˆ (Stage 1~3 í†µí•©)
- **ë°±í…ŒìŠ¤íŠ¸ Precomputer**: 38ì¼ 177ì´ˆâ†’1.1ì´ˆ (165ë°°), 63ì¼ 393ì´ˆâ†’1.5ì´ˆ (262ë°°)
- **ë°±í…ŒìŠ¤íŠ¸ ê²€ì¦ ì™„ë£Œ** (2024-06-01 ~ 2024-08-31):
  - ë¡± ì „ëµ: -2.14% (ìŠ¹ë¥  46.5%)
  - ìˆ ì „ëµ: +0.56% (ìŠ¹ë¥  57.6%) â­
  - ë³‘í–‰ ì „ëµ: -3.75% (ìŠ¹ë¥  43.6%)
  - **ê²°ë¡ **: 2024ë…„ ì—¬ë¦„(í•˜ë½ì¥)ì€ ìˆ ì „ëµ ìœ ë¦¬

---

## [Quick Start]

### í™˜ê²½ ì„¤ì •
```bash
git clone <repository>
cd LP_MM_TRADING
pip install -r requirements.txt
```

### ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
```bash
# 1. DB ìƒì„±
python -c "from src.database.schema import create_database; create_database()"

# 2. ë°ì´í„° ë¡œë“œ
python scripts/loaders/load_initial_data.py

# 3. ì£¼ê°€/ìœ í†µì£¼ì‹ í¬ë¡¤ë§
python scripts/crawlers/crawl_all_data.py --start 2024-01-01
```

### ë¶„ì„ ì‹¤í–‰

**ìƒì„¸ ì‚¬ìš©ë²•**: `README.md` ë° `ANALYSIS_GUIDE.md` ì°¸ì¡°

---

## [Next Steps]

### Stage 4: ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ (ì™„ë£Œ âœ…)

**ëª©í‘œ**: ê³¼ê±° ë°ì´í„°ë¡œ íŒ¨í„´ ë¶„ë¥˜ ì „ëµì˜ ìˆ˜ìµë¥  ê²€ì¦ ë° ìµœì í™” (ë¡±/ìˆ ì „ëµ ì§€ì›)

**ì™„ë£Œ**: Week 1~5 + Week 2.5 + Optuna í†µí•© + Precomputer ì†ë„ ìµœì í™” + institution_weight ì„¤ê³„ ê°œì„  (258ê°œ í…ŒìŠ¤íŠ¸, 258ê°œ í†µê³¼) âœ…

---

#### ğŸ“Š ì£¼ì°¨ë³„ ë¡œë“œë§µ

**âœ… Week 1: BacktestEngine í•µì‹¬ ë¡œì§** (ì™„ë£Œ)
- Portfolio í´ë˜ìŠ¤ (Trade, Position, Portfolio)
- BacktestEngine í´ë˜ìŠ¤ (ë¡¤ë§ ìœˆë„ìš° ì‹œë®¬ë ˆì´ì…˜)
- Stage 1-3 í†µí•© (ìˆœë§¤ìˆ˜ íƒì§€)
- CLI ë„êµ¬ (ê¸°ë³¸ ë²„ì „)
- ê±°ë˜ ë¹„ìš©: ì„¸ê¸ˆ 0.20% (ë§¤ë„), ìˆ˜ìˆ˜ë£Œ 0.015%, ìŠ¬ë¦¬í”¼ì§€ 0.1%
- **í…ŒìŠ¤íŠ¸**: 27ê°œ (100% í†µê³¼)
- **ìƒì„¸**: [Progress History] â†’ 2026-02-17 Week 1

**âœ… Week 2: PerformanceMetrics êµ¬í˜„** (ì™„ë£Œ)
- ì „ì²´ ì„±ê³¼: ìŠ¹ë¥ , í‰ê·  ìˆ˜ìµë¥ , Profit Factor
- ë¦¬ìŠ¤í¬ ì§€í‘œ: MDD, ìƒ¤í”„ ë¹„ìœ¨, ì¹¼ë§ˆ ë¹„ìœ¨, ìµœëŒ€ ì—°ì† ì†ì‹¤
- ì„¸ë¶€ ë¶„ì„: íŒ¨í„´ë³„, ì‹œê·¸ë„ë³„, ì›”ë³„ ìˆ˜ìµë¥ , ë³´ìœ  ê¸°ê°„ í†µê³„
- ë²¤ì¹˜ë§ˆí¬ ë¹„êµ: ì•ŒíŒŒ, ë² íƒ€
- CLI í†µí•© (ë©”íŠ¸ë¦­ ì¶œë ¥ ê°œì„ )
- **í…ŒìŠ¤íŠ¸**: 21ê°œ (100% í†µê³¼)
- **ìƒì„¸**: [Progress History] â†’ 2026-02-17 Week 2

**âœ… Week 2.5: ìˆœë§¤ë„ íƒì§€ & ë¡±/ìˆ ì „ëµ** (ì™„ë£Œ)

**í˜„ì¬ ìƒí™©** (ìˆœë§¤ìˆ˜ë§Œ ì§€ì›):
```
ì™¸êµ­ì¸/ê¸°ê´€ ë§¤ìˆ˜ì„¸ (ì–‘ìˆ˜ Z-Score)
â””â”€ íŒ¨í„´: ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜• (ìˆœë§¤ìˆ˜ íŒ¨í„´)
   â””â”€ ë¡± ì „ëµ: ë§¤ìˆ˜
```

**ì¶”ê°€ ì˜ˆì •** (ìˆœë§¤ë„ ì§€ì›):
```
ì™¸êµ­ì¸/ê¸°ê´€ ë§¤ë„ì„¸ (ìŒìˆ˜ Z-Score)
â””â”€ íŒ¨í„´: ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜• (ìˆœë§¤ë„ íŒ¨í„´)
   â””â”€ ìˆ ì „ëµ: ê³µë§¤ë„ ë˜ëŠ” ì£¼ì‹ì„ ë¬¼ ë§¤ë„
```

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:
1. **íŒ¨í„´ ì´ë¦„ì€ ë™ì¼** (ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜•)
   - ìˆœë§¤ìˆ˜ ëª¨ë©˜í…€í˜•: ë‹¨ê¸° ê¸‰ë“± (ì–‘ìˆ˜ Z-Score, recent > 0.5, momentum > 1.0)
   - ìˆœë§¤ë„ ëª¨ë©˜í…€í˜•: ë‹¨ê¸° ê¸‰ë½ (ìŒìˆ˜ Z-Score, recent < -0.5, momentum < -1.0)
   - ì§€ì†í˜•/ì „í™˜í˜•ë„ ë™ì¼í•œ ë¡œì§ (ë¶€í˜¸ë§Œ ë°˜ëŒ€)

2. **Stage 3 ìˆ˜ì •**: `PatternClassifier`
   ```python
   def classify_all(self, zscore_matrix, direction='long'):
       """
       direction: 'long' (ìˆœë§¤ìˆ˜) or 'short' (ìˆœë§¤ë„)
       """
   ```

3. **Stage 4 ìˆ˜ì •**: `Portfolio`, `BacktestEngine`
   - ShortPosition í´ë˜ìŠ¤ ì¶”ê°€
   - ê³µë§¤ë„ ì§„ì…/ì²­ì‚° ë¡œì§
   - ì°¨ì… ë¹„ìš© (ì¼ì¼ 0.1%)

4. **CLI ì˜µì…˜**:
   ```bash
   # ë¡± ì „ëµ (ìˆœë§¤ìˆ˜ ì¢…ëª©)
   python backtest_runner.py --strategy long

   # ìˆ ì „ëµ (ìˆœë§¤ë„ ì¢…ëª©)
   python backtest_runner.py --strategy short
   ```

- **í…ŒìŠ¤íŠ¸**: 20ê°œ ì˜ˆìƒ

**âœ… Week 3: ì‹œê°í™” + CSV ì €ì¥ + CLI** (ì™„ë£Œ)

**ëª©í‘œ**: matplotlib ê¸°ë°˜ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” ë° ë¦¬í¬íŠ¸ ìƒì„±

**ì‹œê°í™” ì „ëµ**: Option 1 (matplotlib) â†’ Week 4-5 í›„ Option 2 (Plotly/HTML)ë¡œ í™•ì¥

**5ê°œ í•µì‹¬ ì°¨íŠ¸** (`src/backtesting/visualizer.py`):
1. `plot_equity_curve()`: ëˆ„ì  ìˆ˜ìµë¥  ê³¡ì„  (Long vs Short vs Both, ì‹œê°„ì¶•)
2. `plot_drawdown()`: ë‚™í­(MDD) ì¶”ì´ (ìµœëŒ€ ë‚™í­ êµ¬ê°„ ê°•ì¡°)
3. `plot_monthly_returns()`: ì›”ë³„ ìˆ˜ìµë¥  íˆíŠ¸ë§µ (seaborn, ë…¹ìƒ‰~ë¹¨ê°•)
4. `plot_return_distribution()`: ê±°ë˜ë³„ ìˆ˜ìµë¥  ë¶„í¬ (íˆìŠ¤í† ê·¸ë¨, ìŠ¹/íŒ¨ ìƒ‰ìƒ êµ¬ë¶„)
5. `plot_pattern_performance()`: íŒ¨í„´ë³„ ì„±ê³¼ ë°”ì°¨íŠ¸ (ìŠ¹ë¥ , í‰ê·  ìˆ˜ìµ, ê±°ë˜ íšŸìˆ˜)

**ì¶œë ¥ í˜•ì‹**:
- ê°œë³„ PNG ì €ì¥: `output/*.png`
- ë˜ëŠ” ë‹¨ì¼ PDF: `output/backtest_report_[ë‚ ì§œ].pdf`

**CSV ì €ì¥**:
- `trades.csv`: ê±°ë˜ ë‚´ì—­ (ì§„ì…/ì²­ì‚°, ìˆ˜ìµë¥ , íŒ¨í„´)
- `daily_values.csv`: ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜
- `summary.json`: ìš”ì•½ ë©”íŠ¸ë¦­

**CLI ì˜µì…˜**:
```bash
# ì°¨íŠ¸ ìƒì„± (í™”ë©´ í‘œì‹œ)
python backtest_runner.py --plot

# PNG ì €ì¥
python backtest_runner.py --plot --save-dir output/

# PDF ë¦¬í¬íŠ¸ ìƒì„±
python backtest_runner.py --plot --save-pdf output/report.pdf
```

**êµ¬í˜„ ìˆœì„œ** (6ì¼):
- Day 1-2: BacktestVisualizer í´ë˜ìŠ¤ + plot_equity_curve()
- Day 3-4: plot_drawdown(), plot_monthly_returns(), plot_return_distribution(), plot_pattern_performance()
- Day 5: CLI í†µí•© (--plot, --save-dir, --save-pdf) + CSV ì €ì¥
- Day 6: í…ŒìŠ¤íŠ¸ + ë¬¸ì„œí™”

**ì„±ëŠ¥ ëª©í‘œ**: 500ì¼ ë°±í…ŒìŠ¤íŠ¸ ì°¨íŠ¸ 5ê°œ ìƒì„± â†’ 5ì´ˆ ì´ë‚´

**ìƒ‰ìƒ í…Œë§ˆ**:
- Long: íŒŒë‘ (#2E86AB), Short: ë³´ë¼ (#A23B72), Both: ì£¼í™© (#F18F01)
- Profit: ë…¹ìƒ‰ (#06A77D), Loss: ë¹¨ê°• (#D62828)

**í–¥í›„ í™•ì¥** (Week 4-5 ì™„ë£Œ í›„):
- Option 2: Plotly ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸
- HTML ë¦¬í¬íŠ¸ (ë‹¨ì¼ íŒŒì¼, ì¤Œ/í•„í„°ë§ ì§€ì›)
- ê±°ë˜ë³„ íƒ€ì„ë¼ì¸, í¬ì§€ì…˜ ì¤‘ì²©ë„, ì‹œê·¸ë„ë³„ ì„±ê³¼ í•„í„°ë§
- Streamlit ëŒ€ì‹œë³´ë“œ (Stage 5 ì¤€ë¹„)

**í…ŒìŠ¤íŠ¸**: 10ê°œ ì˜ˆìƒ (ì°¨íŠ¸ ìƒì„± í™•ì¸, CSV ì €ì¥)

**âœ… Week 4: íŒŒë¼ë¯¸í„° ìµœì í™”** (ì™„ë£Œ)
- Optuna Bayesian Optimization (--optimize, --walk-forward ê³µìš©)
  - ë°±í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„°: min_score, min_signals, target_return, stop_loss
  - ~~ê¸°ê´€ ê°€ì¤‘ì¹˜ ìµœì í™”~~ â†’ institution_weightëŠ” ë¶„ì„ ì² í•™ íŒŒë¼ë¯¸í„°ë¡œ ë¶„ë¦¬ (í•˜ë‹¨ ì°¸ê³ )
- CLI í†µí•© (`--optimize`, `--n-trials`, `--workers`, `--metric`, `--opt-save-csv`)
- **í…ŒìŠ¤íŠ¸**: 8ê°œ (100% í†µê³¼)

**âœ… Week 5: Walk-Forward + ì„±ëŠ¥ ìµœì í™”** (ì™„ë£Œ)
- Walk-Forward Analysis (í•™ìŠµ/ê²€ì¦ ë¡¤ë§)
- ì„±ëŠ¥ ìµœì í™”: normalizer preload() - DB 1íšŒ ë¡œë“œ í›„ ë©”ëª¨ë¦¬ í•„í„°ë§
- **í…ŒìŠ¤íŠ¸**: 15ê°œ (100% í†µê³¼)
- **ìƒì„¸**: [Progress History] â†’ 2026-02-19 Week 5

**âœ… Optuna ì „ë©´ í†µí•©** (ì™„ë£Œ)
- Grid Search â†’ Optuna Bayesian Optimization ì „ë©´ êµì²´ (--optimize + --walk-forward)
- **MedianPruner**: ì ˆë°˜ ê¸°ê°„ ì¤‘ê°„ í‰ê°€ â†’ ë‚˜ìœ Trial ì¡°ê¸° ì¤‘ë‹¨
- **2ë‹¨ê³„ íƒìƒ‰**: Phase 1 (ë„“ì€ ë²”ìœ„) â†’ Phase 2 (ìƒìœ„ 25% ê¸°ì¤€ ì¢í˜€ì„œ ì§‘ì¤‘)
- **ê¸°ê°„ ë‹¨ìœ„ ë³‘ë ¬ ì‹¤í–‰**: multiprocessing.Pool (--workers N)
- **CLI**: `--n-trials N` ì˜µì…˜ (--optimize, --walk-forward ê³µìš©, ê¸°ë³¸: 50)
- ParameterOptimizer(Grid Search) ì™„ì „ ì œê±°, OptunaOptimizerë¡œ í†µì¼
- **í…ŒìŠ¤íŠ¸**: 16ê°œ (walk_forward) + 8ê°œ (optimizer) (100% í†µê³¼)
- **ìƒì„¸**: [Progress History] â†’ 2026-02-19

**ì§„í–‰ë¥ **: 256/256 (100%) - Stage 4 ì™„ë£Œ âœ…

---

### Stage 5: ì›¹ ì„œë¹„ìŠ¤ & AI ê¸°ë°˜ ìë™í™”

**ëª©í‘œ**: ì¼ë³„ ìë™ ë¶„ì„ ë° AI ê¸°ë°˜ ì¢…ëª© ë¦¬í¬íŠ¸ ìƒì„± ì›¹ ì„œë¹„ìŠ¤ êµ¬ì¶•

**ì „ì²´ ë¡œë“œë§µ**:
- **Stage 5-1**: Streamlit ì›¹ ëŒ€ì‹œë³´ë“œ (ì§„í–‰ ì¤‘)
- **Stage 5-2**: ìŠ¤ì¼€ì¤„ëŸ¬ ê¸°ë°˜ ìë™í™” íŒŒì´í”„ë¼ì¸

---

#### 5-1. Streamlit ì›¹ ëŒ€ì‹œë³´ë“œ (ì§„í–‰ ì¤‘)

**êµ¬ì¡°**: `app/` ë©€í‹°í˜ì´ì§€ ì•±

**ì™„ë£Œëœ ê¸°ëŠ¥**:
- âœ… ë©€í‹°í˜ì´ì§€ ì•± êµ¬ì¡° (`app/streamlit_app.py` + `app/pages/`)
- âœ… ê³µìœ  ë°ì´í„° ë¡œë” (`app/utils/data_loader.py`) - DB ì—°ê²°, ë¶„ì„/ë°±í…ŒìŠ¤íŠ¸ ìºì‹±
- âœ… í™ˆ í˜ì´ì§€ (`1_ğŸ _í™ˆ.py`) - DB í†µê³„, ìµœê·¼ ì—…ë°ì´íŠ¸
- âœ… ë¶„ì„ í˜ì´ì§€ (`2_ğŸ”_ìˆ˜ê¸‰_ë¶„ì„.py`) - Stage 1-3 íŒŒì´í”„ë¼ì¸, íŒ¨í„´/ì‹œê·¸ë„ í•„í„°ë§
- âœ… ë°±í…ŒìŠ¤íŠ¸ í˜ì´ì§€ (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`) - íŒŒë¼ë¯¸í„° ì„¤ì • + ì‹¤í–‰ + ê²°ê³¼ ì‹œê°í™”
  - Plotly ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ 5ì¢… (ìˆ˜ìµë¥  ê³¡ì„ , ë‚™í­, ì›”ë³„ ìˆ˜ìµë¥ , ìˆ˜ìµë¥  ë¶„í¬, íŒ¨í„´ë³„ ì„±ê³¼)
  - KPI ì¹´ë“œ 5ê°œ (ì´ ìˆ˜ìµë¥ , ìŠ¹ë¥ , MDD, ìƒ¤í”„ ë¹„ìœ¨, ì´ ê±°ë˜)
  - ê±°ë˜ ë‚´ì—­ í…Œì´ë¸” + CSV ë‹¤ìš´ë¡œë“œ
  - **Optuna íŒŒë¼ë¯¸í„° ìµœì í™”** ë²„íŠ¼ (Trial ìˆ˜/í‰ê°€ ì§€í‘œ ì„¤ì • â†’ ìµœì  íŒŒë¼ë¯¸í„° ìë™ ë°˜ì˜)
- âœ… BacktestPrecomputer ì†ë„ ìµœì í™” (165~262ë°° í–¥ìƒ)
- âœ… PlotlyVisualizer (`src/backtesting/plotly_visualizer.py`)

**ë‚¨ì€ ì‘ì—…**:
- [ ] ì¢…ëª© ìƒì„¸ í˜ì´ì§€ (ê°œë³„ ì¢…ëª© Z-Score ì¶”ì´, ì‹œê·¸ë„ íˆìŠ¤í† ë¦¬)
- [ ] íˆíŠ¸ë§µ í˜ì´ì§€ (ì¸í„°ë™í‹°ë¸Œ íˆíŠ¸ë§µ)
- [ ] ë¶„ì„ í˜ì´ì§€ ê³ ë„í™” (ì„¹í„° í•„í„°ë§, ì •ë ¬ ì˜µì…˜)

**ì‹¤í–‰ ë°©ë²•**:
```bash
venv/bin/streamlit run app/streamlit_app.py
# â†’ http://localhost:8501
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **Streamlit**: ì›¹ ëŒ€ì‹œë³´ë“œ í”„ë ˆì„ì›Œí¬
- **Plotly**: ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸
- **Streamlit Cloud**: ë¬´ë£Œ í˜¸ìŠ¤íŒ… (ì´ˆê¸°)

---

#### 5-2. ìŠ¤ì¼€ì¤„ëŸ¬ ê¸°ë°˜ ìë™í™” íŒŒì´í”„ë¼ì¸
**íŒŒì¼**: `scripts/automation/daily_scheduler.py`

> âš ï¸ **ë°ì´í„° ì†ŒìŠ¤ ì „í™˜ ê³„íš**
> í˜„ì¬ëŠ” ì´ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ì§ì ‘ í¬ë¡¤ë§í•˜ì—¬ `investor_data.db`ì— ì €ì¥í•˜ëŠ” êµ¬ì¡°ì´ì§€ë§Œ,
> **ë³„ë„ë¡œ êµ¬ì¶• ì¤‘ì¸ í•œêµ­ì£¼ì‹ ê³µìœ  DB**(ì—¬ëŸ¬ í”„ë¡œì íŠ¸ì—ì„œ ê³µë™ ì‚¬ìš©)ê°€ ì™„ì„±ë˜ë©´
> í¬ë¡¤ë§ ë‹¨ê³„ë¥¼ ì œê±°í•˜ê³  **ê³µìœ  DBì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒ**í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜í•  ì˜ˆì •ì´ë‹¤.
> ì´ ê²½ìš° `src/database/connection.py`ì˜ ì—°ê²° ëŒ€ìƒë§Œ ê³µìœ  DBë¡œ êµì²´í•˜ë©´ ëœë‹¤.

**ìë™í™” íë¦„ (í˜„ì¬)**:
```
[ì¼ë³„ ìë™ ì‹¤í–‰ - ì¥ ë§ˆê° í›„ 16:30]

1. ë°ì´í„° í¬ë¡¤ë§ (â†’ ê³µìœ  DB ì „í™˜ ì‹œ ì´ ë‹¨ê³„ ì œê±°)
   - ìˆ˜ê¸‰ ë°ì´í„° (ì™¸êµ­ì¸/ê¸°ê´€)
   - ì£¼ê°€ ë°ì´í„°
   - ìœ í†µì£¼ì‹ ìˆ˜
   â†“
2. DB ì €ì¥ (â†’ ê³µìœ  DB ì „í™˜ ì‹œ ì´ ë‹¨ê³„ ì œê±°)
   â†“
3. Stage 1-3 ë¶„ì„ ì‹¤í–‰
   - ì •ê·œí™” (Sff/Z-Score)
   - íˆíŠ¸ë§µ ìƒì„±
   - íŒ¨í„´ ë¶„ë¥˜
   â†“
4. ê³ ë“ì  ì¢…ëª© ì¶”ì¶œ (70ì  ì´ìƒ)
   â†“
5. AI ê¸°ë°˜ ì¢…ëª© ë¶„ì„
   - Gemini API: ë‰´ìŠ¤ ë¶„ì„
   - Claude API: ì¦ê¶Œì‚¬ ë¦¬í¬íŠ¸ ë¶„ì„
   - ì¢…í•© ë³´ê³ ì„œ ìƒì„±
   â†“
6. ê²°ê³¼ ì €ì¥ ë° ì•Œë¦¼
   - DB ì €ì¥
   - HTML ë¦¬í¬íŠ¸ ìƒì„±
   - Slack/ì´ë©”ì¼ ì•Œë¦¼ (ì„ íƒ)
```

**ìë™í™” íë¦„ (ê³µìœ  DB ì „í™˜ í›„)**:
```
[ì¼ë³„ ìë™ ì‹¤í–‰ - ì¥ ë§ˆê° í›„ 16:30]

1. ê³µìœ  í•œêµ­ì£¼ì‹ DBì—ì„œ ìµœì‹  ë°ì´í„° ì¡°íšŒ
   - ìˆ˜ê¸‰ ë°ì´í„°, ì£¼ê°€, ìœ í†µì£¼ì‹ ìˆ˜
   (í¬ë¡¤ë§/ì €ì¥ ë¶ˆí•„ìš” - ê³µìœ  DBê°€ ìë™ ê°±ì‹ )
   â†“
2. Stage 1-3 ë¶„ì„ ì‹¤í–‰
   - ì •ê·œí™” (Sff/Z-Score)
   - íˆíŠ¸ë§µ ìƒì„±
   - íŒ¨í„´ ë¶„ë¥˜
   â†“
3. ê³ ë“ì  ì¢…ëª© ì¶”ì¶œ (70ì  ì´ìƒ)
   â†“
4. AI ê¸°ë°˜ ì¢…ëª© ë¶„ì„
   - Gemini API: ë‰´ìŠ¤ ë¶„ì„
   - Claude API: ì¦ê¶Œì‚¬ ë¦¬í¬íŠ¸ ë¶„ì„
   - ì¢…í•© ë³´ê³ ì„œ ìƒì„±
   â†“
5. ê²°ê³¼ ì €ì¥ ë° ì•Œë¦¼
   - HTML ë¦¬í¬íŠ¸ ìƒì„±
   - Slack/ì´ë©”ì¼ ì•Œë¦¼ (ì„ íƒ)
```

**í•µì‹¬ êµ¬ì„±ìš”ì†Œ**:

1. **ìŠ¤ì¼€ì¤„ëŸ¬** (`APScheduler`)
   ```python
   from apscheduler.schedulers.blocking import BlockingScheduler

   scheduler = BlockingScheduler()
   scheduler.add_job(daily_pipeline, 'cron', hour=16, minute=30)
   scheduler.start()
   ```

2. **AI ë¶„ì„ ëª¨ë“ˆ** (`src/ai/analyzer.py`)
   - Gemini API ì—°ë™ (ë‰´ìŠ¤ ë¶„ì„)
   - Claude API ì—°ë™ (ë¦¬í¬íŠ¸ ë¶„ì„)
   - í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬
   - ê²°ê³¼ ìºì‹±

3. **ì—ëŸ¬ í•¸ë“¤ë§ & ì•Œë¦¼**
   - Sentry: ì—ëŸ¬ ìë™ ì¶”ì 
   - Slack Webhook: ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ ì•Œë¦¼
   - Retry ë¡œì§: 3íšŒ ì¬ì‹œë„

4. **API ë¹„ìš© ê´€ë¦¬**
   - ì¼ì¼ í˜¸ì¶œ í•œë„ (100ê±´)
   - ê³ ë“ì  ì¢…ëª©ë§Œ ë¶„ì„ (70ì  ì´ìƒ)
   - ìºì‹±: ì¤‘ë³µ ë¶„ì„ ë°©ì§€

5. **ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§**
   ```python
   logging.info("ë¶„ì„ ì‹œì‘: 2026-02-15")
   logging.info("ê³ ë“ì  ì¢…ëª© 15ê°œ ì¶”ì¶œ")
   logging.info("AI ë¶„ì„ ì™„ë£Œ: ì‚¼ì„±ì „ì")
   ```

**í•„ìˆ˜ ë³´ì™„ ì‚¬í•­**:

â­â­â­ **ë°˜ë“œì‹œ êµ¬í˜„**:
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ & ì•Œë¦¼ (Sentry + Slack)
- [ ] API ë¹„ìš© ê´€ë¦¬ (ì¼ì¼ í•œë„ 100ê±´)
- [ ] Rate Limiting (API í˜¸ì¶œ ê°„ê²© 2ì´ˆ)
- [ ] ë¡œê·¸ ê´€ë¦¬ (ë¡œê·¸ ë¡œí…Œì´ì…˜)
- [ ] ë°ì´í„° ë°±ì—… (ì¼ì¼ ìë™ ë°±ì—…)

â­â­ **ê°•ë ¥ ì¶”ì²œ**:
- [ ] ìš°ì„ ìˆœìœ„ í (ê³ ë“ì  ì¢…ëª© ìš°ì„  ë¶„ì„)
- [ ] ê²°ê³¼ ìºì‹± (ê°™ì€ ë‚  ì¤‘ë³µ ë¶„ì„ ë°©ì§€)
- [ ] ì ì§„ì  ë¶„ì„ (10ê°œì”© ë°°ì¹˜ ì²˜ë¦¬)

â­ **ì„ íƒ ì‚¬í•­**:
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (Slack/í…”ë ˆê·¸ë¨)
- [ ] ë©€í‹° ì†ŒìŠ¤ ë°ì´í„° (ë‰´ìŠ¤, ê³µì‹œ, SNS)
- [ ] A/B í…ŒìŠ¤íŒ… (Gemini vs Claude ì„±ëŠ¥ ë¹„êµ)

**ê¸°ìˆ  ìŠ¤íƒ**:
- **ìŠ¤ì¼€ì¤„ëŸ¬**: APScheduler (ê°„ë‹¨) / Airflow (ê³ ë„í™”)
- **AI API**: Gemini (Google AI Studio) + Claude (Anthropic API)
- **ë¹„ë™ê¸° ì²˜ë¦¬**: Celery + Redis (ì„ íƒ)
- **ëª¨ë‹ˆí„°ë§**: Sentry (ì—ëŸ¬) + Prometheus (ì„±ëŠ¥, ì„ íƒ)
- **ì•Œë¦¼**: Slack Webhook / í…”ë ˆê·¸ë¨ ë´‡

**ì˜ˆìƒ ì†Œìš”**:
- **5-2-1: ê¸°ë³¸ ìë™í™”** (1ì£¼) - ìŠ¤ì¼€ì¤„ëŸ¬ + ì¼ë³„ ë¶„ì„
- **5-2-2: AI í†µí•©** (2ì£¼) - Gemini/Claude ì—°ë™ + í”„ë¡¬í”„íŠ¸
- **5-2-3: ì•ˆì •í™”** (1ì£¼) - ì—ëŸ¬ í•¸ë“¤ë§ + ë¹„ìš© ê´€ë¦¬
- **5-2-4: ê³ ë„í™”** (ì„ íƒ) - ì‹¤ì‹œê°„ ì•Œë¦¼ + ë©€í‹° ì†ŒìŠ¤

**ì´ ì˜ˆìƒ ì†Œìš”**: 4~5ì£¼ (ì£¼ë§ ì‘ì—… ê¸°ì¤€)

**ë°ì´í„° í™•ì¥ (í–¥í›„)**:
- ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§
- ê¸ˆìœµê°ë…ì› ì „ìê³µì‹œ (DART API)
- SNS ê°ì„± ë¶„ì„ (Twitter/ë„¤ì´ë²„ ì¹´í˜)
- ì¦ê¶Œì‚¬ ë¦¬í¬íŠ¸ PDF íŒŒì‹±

**ì°¸ê³ **:
- Stage 5ëŠ” Stage 4 ì™„ë£Œ í›„ ì§„í–‰ ê¶Œì¥
- ì›¹ ì„œë¹„ìŠ¤ êµ¬ë… ëª¨ë¸ êµ¬í˜„ ì‹œ ì„œë²„ í•„ìš” (AWS/GCP)
- ì´ˆê¸°ì—ëŠ” Streamlit Cloud ë¬´ë£Œ í˜¸ìŠ¤íŒ…ìœ¼ë¡œ ì‹œì‘ ê°€ëŠ¥
- **ê³µìœ  DB ì „í™˜ ì‹œ**: `src/database/connection.py`ì˜ DB ê²½ë¡œ/ì ‘ì† ì„¤ì •ë§Œ ë³€ê²½í•˜ë©´ ë¨
  - í˜„ì¬: `data/processed/investor_data.db` (ë¡œì»¬ SQLite)
  - ì „í™˜ í›„: ê³µìœ  í•œêµ­ì£¼ì‹ DB (PostgreSQL ë“±) ì ‘ì† ì •ë³´ë¡œ êµì²´

---

## [Workflow]

### ì‘ì—… ì‹œì‘ ì‹œ
```bash
git pull origin main
```
â†’ CLAUDE.md [Status] í™•ì¸
â†’ Claudeì—ê²Œ: "CLAUDE.md ì½ê³  ì‘ì—… ì´ì–´ì„œ í•´ì¤˜"

### ì‘ì—… ì¢…ë£Œ ì‹œ
```bash
git add .
git commit -m "[ì§‘/íšŒì‚¬] ì‘ì—… ë‚´ìš©"
git push origin main
```

**ì¤‘ìš”**: ì»¤ë°‹ í›„ ë°˜ë“œì‹œ **í‘¸ì‹œ**ê¹Œì§€ ì™„ë£Œ! (ì§‘/íšŒì‚¬ ì»´í“¨í„° ë™ê¸°í™”)

---

## [Project Structure]

```
LP_MM_TRADING/
â”œâ”€â”€ CLAUDE.md                      # í”„ë¡œì íŠ¸ ìƒíƒœ (ì´ íŒŒì¼)
â”œâ”€â”€ IMPLEMENTATION_GUIDE.md        # Stage 1~2 êµ¬í˜„ ê°€ì´ë“œ (ìƒì„¸)
â”œâ”€â”€ DATABASE_README.md             # ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš© ê°€ì´ë“œ
â”œâ”€â”€ README.md                      # í”„ë¡œì íŠ¸ ì†Œê°œ
â”œâ”€â”€ requirements.txt               # ì˜ì¡´ì„±
â”œâ”€â”€ data/
â”‚   â””â”€â”€ processed/
â”‚       â””â”€â”€ investor_data.db       # SQLite DB (171,227 ë ˆì½”ë“œ)
â”œâ”€â”€ app/                           # Streamlit ì›¹ ëŒ€ì‹œë³´ë“œ (Stage 5-1) âœ¨
â”‚   â”œâ”€â”€ streamlit_app.py           # ë©”ì¸ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ data_loader.py         # ìºì‹œ ë°ì´í„° ë¡œë” (DB/ë¶„ì„/ë°±í…ŒìŠ¤íŠ¸/ìµœì í™”)
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ 1_ğŸ _í™ˆ.py              # DB í†µê³„, ìµœê·¼ ì—…ë°ì´íŠ¸
â”‚       â”œâ”€â”€ 2_ğŸ”_ìˆ˜ê¸‰_ë¶„ì„.py       # Stage 1-3 ë¶„ì„ íŒŒì´í”„ë¼ì¸
â”‚       â””â”€â”€ 3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py        # ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ + Optuna ìµœì í™” + Plotly ì°¨íŠ¸
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ database/                  # DB ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ schema.py
â”‚   â”‚   â””â”€â”€ connection.py
â”‚   â”œâ”€â”€ analyzer/                  # ë¶„ì„ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ normalizer.py          # Sff/Z-Score ê³„ì‚° (ì™¸êµ­ì¸ ì¤‘ì‹¬ ì¡°ê±´ë¶€)
â”‚   â”‚   â”œâ”€â”€ pattern_classifier.py  # íŒ¨í„´ ë¶„ë¥˜ (Stage 3)
â”‚   â”‚   â”œâ”€â”€ signal_detector.py     # ì‹œê·¸ë„ íƒì§€ (Stage 3)
â”‚   â”‚   â””â”€â”€ integrated_report.py   # í†µí•© ë¦¬í¬íŠ¸ (Stage 3)
â”‚   â”œâ”€â”€ backtesting/               # ë°±í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ (Stage 4)
â”‚   â”‚   â”œâ”€â”€ engine.py              # BacktestEngine (Precomputer ê¸°ë°˜ ê³ ì† ì‹¤í–‰)
â”‚   â”‚   â”œâ”€â”€ precomputer.py         # BacktestPrecomputer (ë²¡í„°í™” ì‚¬ì „ ê³„ì‚°) âœ¨
â”‚   â”‚   â”œâ”€â”€ plotly_visualizer.py   # PlotlyVisualizer (Streamlitìš© ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸) âœ¨
â”‚   â”‚   â”œâ”€â”€ portfolio.py           # Trade, Position, Portfolio
â”‚   â”‚   â”œâ”€â”€ metrics.py             # PerformanceMetrics
â”‚   â”‚   â”œâ”€â”€ optimizer.py           # OptunaOptimizer (Bayesian Optimization)
â”‚   â”‚   â”œâ”€â”€ walk_forward.py        # WalkForwardAnalyzer
â”‚   â”‚   â””â”€â”€ visualizer.py          # ì°¨íŠ¸ 5ì¢… (matplotlib)
â”‚   â”œâ”€â”€ visualizer/                # ì‹œê°í™” ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ performance_optimizer.py
â”‚   â”‚   â””â”€â”€ heatmap_renderer.py
â”‚   â”œâ”€â”€ config.py                  # ì „ì—­ ì„¤ì •
â”‚   â””â”€â”€ utils.py                   # ì…ë ¥ ê²€ì¦ (ë³´ì•ˆ)
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”œâ”€â”€ abnormal_supply_detector.py  # Stage 1 CLI
â”‚   â”‚   â”œâ”€â”€ heatmap_generator.py         # Stage 2 CLI
â”‚   â”‚   â””â”€â”€ regime_scanner.py            # Stage 3 CLI (í†µí•©)
â”‚   â”œâ”€â”€ crawlers/
â”‚   â”‚   â”œâ”€â”€ crawl_all_data.py
â”‚   â”‚   â”œâ”€â”€ crawl_stock_prices.py
â”‚   â”‚   â””â”€â”€ crawl_free_float.py
â”‚   â””â”€â”€ loaders/
â”‚       â”œâ”€â”€ load_initial_data.py
â”‚       â””â”€â”€ load_daily_data.py
â””â”€â”€ tests/                         # í…ŒìŠ¤íŠ¸ (258ê°œ í†µê³¼)
    â”œâ”€â”€ test_config.py
    â”œâ”€â”€ test_normalizer.py
    â”œâ”€â”€ test_performance_optimizer.py
    â”œâ”€â”€ test_utils.py
    â”œâ”€â”€ test_pattern_classifier.py       # Stage 3 í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ test_signal_detector.py          # Stage 3 í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ test_integrated_report.py        # Stage 3 í…ŒìŠ¤íŠ¸
    â””â”€â”€ backtesting/                     # Stage 4 í…ŒìŠ¤íŠ¸
        â”œâ”€â”€ test_engine.py
        â”œâ”€â”€ test_portfolio.py
        â”œâ”€â”€ test_metrics.py
        â”œâ”€â”€ test_visualizer.py
        â”œâ”€â”€ test_precomputer.py          # BacktestPrecomputer (23ê°œ) âœ¨
        â”œâ”€â”€ test_optimizer.py            # OptunaOptimizer
        â””â”€â”€ test_walk_forward.py         # Walk-Forward (16ê°œ)
```

---

## [Tech Stack]
- Python 3.10+
- SQLite (DB)
- pandas, numpy (ë¶„ì„)
- matplotlib, seaborn (ì‹œê°í™” - CLI/PDF)
- plotly (ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ - Streamlit)
- streamlit (ì›¹ ëŒ€ì‹œë³´ë“œ)
- optuna (Bayesian Optimization - --optimize, --walk-forward, Streamlit ê³µìš©)
- FinanceDataReader, BeautifulSoup (í¬ë¡¤ë§)
- pytest (í…ŒìŠ¤íŠ¸)

---

## [UI í…Œë§ˆ / ìƒ‰ìƒ]

**Streamlit ì•± í…Œë§ˆ** (`.streamlit/config.toml`):
- `base = "dark"` â€” ë‹¤í¬ ëª¨ë“œ ê¸°ë°˜
- `primaryColor = "#38bdf8"` â€” sky-400 (ê°•ì¡°ìƒ‰, ë²„íŠ¼/ë§í¬)
- `backgroundColor = "#0f172a"` â€” slate-900 (í˜ì´ì§€ ë°°ê²½)
- `secondaryBackgroundColor = "#1e293b"` â€” slate-800 (ì‚¬ì´ë“œë°”/ì¹´ë“œ ë°°ê²½)
- `textColor = "#e2e8f0"` â€” slate-200 (ê¸°ë³¸ í…ìŠ¤íŠ¸)
- `font = "sans serif"`

**Plotly ì°¨íŠ¸ ìƒ‰ìƒ** (`src/backtesting/plotly_visualizer.py`):

| ì—­í•  | ìƒ‰ìƒì½”ë“œ | Tailwind ì´ë¦„ | ì„¤ëª… |
|------|---------|--------------|------|
| ì°¨íŠ¸ ë‚´ë¶€ ë°°ê²½ | `#0f172a` | slate-900 | `plot_bgcolor` |
| ì°¨íŠ¸ ì™¸ê³½ ë°°ê²½ | `#1e293b` | slate-800 | `paper_bgcolor` |
| ê·¸ë¦¬ë“œ ì„  | `#334155` | slate-700 | ì¶•/ê·¸ë¦¬ë“œ |
| ì¼ë°˜ í…ìŠ¤íŠ¸ | `#e2e8f0` | slate-200 | ë ˆì´ë¸”/ì œëª© |
| ë³´ì¡° í…ìŠ¤íŠ¸ | `#94a3b8` | slate-400 | ë¶€ì œëª©/ë²¤ì¹˜ë§ˆí¬ |
| Long ì „ëµ | `#38bdf8` | sky-400 | ìˆ˜ìµë¥  ê³¡ì„  |
| Short ì „ëµ | `#f472b6` | pink-400 | ìˆ˜ìµë¥  ê³¡ì„  |
| Both ì „ëµ | `#fb923c` | orange-400 | ìˆ˜ìµë¥  ê³¡ì„  |
| ìˆ˜ìµ (ì–‘ìˆ˜) | `#4ade80` | green-400 | ê±°ë˜ ìˆ˜ìµ/ì–‘ë´‰ |
| ì†ì‹¤ (ìŒìˆ˜) | `#f87171` | red-400 | ê±°ë˜ ì†ì‹¤/ìŒë´‰ |
| í‰ê· ì„  | `#60a5fa` | blue-400 | ë¶„í¬ ì°¨íŠ¸ í‰ê·  |
| ì¤‘ì•™ê°’ì„  | `#4ade80` | green-400 | ë¶„í¬ ì°¨íŠ¸ ì¤‘ì•™ê°’ |
| ë¬´ê´€ì‹¬ êµ¬ê°„ | `#64748b` | slate-500 | ì¤‘ë¦½ ìƒ‰ìƒ |

**í…Œë§ˆ íŒ”ë ˆíŠ¸**: Tailwind CSS Slate ê³„ì—´ (ì–´ë‘ìš´ ë‚¨ìƒ‰ ê³„í†µ) + íŒŒìŠ¤í…” ê°•ì¡°ìƒ‰

---

## [Data]
- **171,227 ë ˆì½”ë“œ** (2024-01-02 ~ 2026-01-20)
- **345ê°œ í•µì‹¬ ì¢…ëª©** (KOSPI200 + KOSDAQ150)
- **1,609ê°œ ì¢…ëª© ë§ˆìŠ¤í„°** (ì„¹í„° ì •ë³´ 97.9% ì»¤ë²„ë¦¬ì§€)
- **13ê°œ ì»¬ëŸ¼** (ìˆ˜ê¸‰ + ì£¼ê°€ + ìœ í†µì£¼ì‹)

---

## [Key Concepts]

ìì„¸í•œ ë‚´ìš©ì€ **ANALYSIS_GUIDE.md** ì°¸ì¡°

---

## [Performance]

| Stage | ì²˜ë¦¬ | ì†Œìš”ì‹œê°„ | ìµœì í™” |
|-------|------|----------|--------|
| Stage 1 | 345ì¢…ëª© ì´ìƒ ìˆ˜ê¸‰ íƒì§€ | ~15ì´ˆ | ë²¡í„°í™” ì™„ë£Œ |
| Stage 2 | 345ì¢…ëª©Ã—6ê¸°ê°„ íˆíŠ¸ë§µ | ~1.5ì´ˆ | Sff ìºì‹± + groupby.transform |
| Stage 3 | íŒ¨í„´ ë¶„ë¥˜ + ì‹œê·¸ë„ í†µí•© | ~1.5ì´ˆ | ë²¡í„°í™” + ë³‘ë ¬ ì²˜ë¦¬ |
| **ì „ì²´** | **Stage 1~3 í†µí•© ì‹¤í–‰** | **~3ì´ˆ** | **ìµœì í™” ì™„ë£Œ** |
| **ë°±í…ŒìŠ¤íŠ¸ 38ì¼** | **Precomputer ì ìš©** | **~1.1ì´ˆ** | **165ë°° í–¥ìƒ (177ì´ˆâ†’1.1ì´ˆ)** |
| **ë°±í…ŒìŠ¤íŠ¸ 63ì¼** | **Precomputer ì ìš©** | **~1.5ì´ˆ** | **262ë°° í–¥ìƒ (393ì´ˆâ†’1.5ì´ˆ)** |
| **ë°±í…ŒìŠ¤íŠ¸ 1ë…„** | **Streamlit ì‹¤í–‰** | **~4ì´ˆ** | **Precomputer ìë™ ì ìš©** |

---

## [ë°©ë²•ë¡ : ìˆ˜ê¸‰ ë ˆì§ ìŠ¤ìºë„ˆ]

### â‘  Stage 1: ë°ì´í„° ì •ê·œí™”
- Sff: ìœ í†µë¬¼ëŸ‰ ëŒ€ë¹„ ìˆœë§¤ìˆ˜ ê°•ë„ (ì™¸êµ­ì¸ ì¤‘ì‹¬)
  - ì™¸êµ­ì¸/ê¸°ê´€ ê°™ì€ ë°©í–¥: `foreign_sff + institution_sff Ã— 0.3`
  - ë°˜ëŒ€ ë°©í–¥: `foreign_sff`ë§Œ ì‚¬ìš© (ê¸°ê´€ì´ ì™¸êµ­ì¸ ì‹ í˜¸ë¥¼ ìƒì‡„í•˜ì§€ ì•ŠìŒ)
- Z-Score: ë³€ë™ì„± ë³´ì • ìˆ˜ê¸‰ (ì¡°ê±´ë¶€: ë¶€í˜¸ ì „í™˜ ì‹œ `today/std`ë§Œ ì‚¬ìš©)

### â‘¡ Stage 2: ì‹œê³µê°„ ë§¤íŠ¸ë¦­ìŠ¤
- 6ê°œ ê¸°ê°„(1W~2Y) íˆíŠ¸ë§µ
- 4ê°€ì§€ ì •ë ¬ ëª¨ë“œ (íˆ¬ì ìŠ¤íƒ€ì¼ë³„)
- **ì¡°ê±´ë¶€ Z-Score**: ë¶€í˜¸ ì „í™˜ ì‹œ ê³¼ì‰ ë°˜ì‘ ë°©ì§€
  - ê°™ì€ ë°©í–¥(todayÂ·mean > 0): `Z = (today - mean) / std` (ê¸°ì¡´, í­ë°œ ê°ì§€)
  - ë°©í–¥ ì „í™˜(todayÂ·mean â‰¤ 0): `Z = today / std` (í¬ê¸°ë§Œ í‰ê°€, ì¦í­ ë°©ì§€)

### â‘¢ Stage 3: íŒ¨í„´ ë¶„ë¥˜ & ì‹œê·¸ë„ í†µí•©
- **íŒ¨í„´ ë¶„ë¥˜**: 3ê°œ ë°”êµ¬ë‹ˆ (ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜•)
- **ì‹œê·¸ë„ íƒì§€**: MA ê³¨ë“ í¬ë¡œìŠ¤, ìˆ˜ê¸‰ ê°€ì†ë„, ì™¸ì¸-ê¸°ê´€ ë™ì¡°ìœ¨
- **í†µí•© ë¦¬í¬íŠ¸**: ì¢…ëª©ë³„ 1ì¤„ ìš”ì•½ ì¹´ë“œ + ì§„ì…/ì²­ì‚° í¬ì¸íŠ¸

### â‘£ Stage 4: ë°±í…ŒìŠ¤íŒ… (ì„ íƒ)
- ê³¼ê±° ë°ì´í„° ê²€ì¦
- íŒ¨í„´ë³„ ìˆ˜ìµë¥  ë¶„ì„
- ë¦¬ìŠ¤í¬ ê´€ë¦¬ ìµœì í™”

---

## [Progress History]

### 2026-02-23 (institution_weight ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°” + ê±°ë˜ ë¹„ìš© íŒŒë¼ë¯¸í„°í™”)

**ëª©í‘œ**: institution_weightë¥¼ ì „ í˜ì´ì§€ ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°”ë¡œ ì´ë™ + ë°±í…ŒìŠ¤íŠ¸ ê±°ë˜ ë¹„ìš©(ì„¸ê¸ˆ/ìˆ˜ìˆ˜ë£Œ/ìŠ¬ë¦¬í”¼ì§€/ì°¨ì…ë¹„ìš©) ì‚¬ìš©ì ì¡°ì • ê°€ëŠ¥í•˜ë„ë¡ íŒŒë¼ë¯¸í„°í™”

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **`portfolio.py` ê±°ë˜ë¹„ìš© íŒŒë¼ë¯¸í„°í™”**
  - í´ë˜ìŠ¤ ì†ì„± 4ê°œ(`TAX_RATE`, `COMMISSION_RATE`, `SLIPPAGE_RATE`, `BORROWING_RATE`) â†’ `__init__` íŒŒë¼ë¯¸í„°ë¡œ ì „í™˜
  - ê¸°ë³¸ê°’ ë™ì¼ ìœ ì§€ â†’ ê¸°ì¡´ í…ŒìŠ¤íŠ¸ í•˜ìœ„ í˜¸í™˜
  - 6ê³³ ì°¸ì¡° ì—…ë°ì´íŠ¸: `self.TAX_RATE` â†’ `self.tax_rate` ë“±

- âœ… **`engine.py` BacktestConfig â†’ Portfolio ì „ë‹¬ ì²´ì¸**
  - `BacktestConfig`ì— `tax_rate`, `commission_rate`, `slippage_rate`, `borrowing_rate` 4ê°œ í•„ë“œ ì¶”ê°€
  - `BacktestEngine.__init__`ì—ì„œ Portfolio ìƒì„± ì‹œ 4ê°œ ë¹„ìš© íŒŒë¼ë¯¸í„° ì „ë‹¬

- âœ… **`data_loader.py` ë¶„ì„ íŒŒì´í”„ë¼ì¸ institution_weight íŒŒë¼ë¯¸í„° ì¶”ê°€**
  - 7ê°œ í•¨ìˆ˜ì— `institution_weight=0.3` íŒŒë¼ë¯¸í„° ì¶”ê°€:
    `_stage_zscore`, `_stage_classify`, `_stage_signals`, `_stage_report`,
    `run_analysis_pipeline`, `run_analysis_pipeline_with_progress`, `get_abnormal_supply_data`
  - `SupplyNormalizer` ìƒì„± ì‹œ ì™„ì „í•œ config dict ì „ë‹¬ (`z_score_window`, `min_data_points`, `institution_weight`)
  - ë°±í…ŒìŠ¤íŠ¸ 3ê°œ í•¨ìˆ˜ì— ê±°ë˜ë¹„ìš© 4ê°œ íŒŒë¼ë¯¸í„° ì¶”ê°€:
    `run_backtest`, `run_backtest_with_progress`, `run_optuna_optimization`

- âœ… **ì „ í˜ì´ì§€ ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°” ìœ„ì ¯**
  - 4ê°œ í˜ì´ì§€ì— ë™ì¼í•œ ìŠ¬ë¼ì´ë” ì¶”ê°€ (`key="w_institution_weight"` â†’ session_state ê³µìœ )
  - íŒŒì´í”„ë¼ì¸ í˜¸ì¶œì— `institution_weight=institution_weight` ì „ë‹¬
  - ì ìš©: `streamlit_app.py`, `1_ğŸ“Š_íˆíŠ¸ë§µ.py`, `2_ğŸ”_íŒ¨í„´ë¶„ì„.py`, `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`

- âœ… **ë°±í…ŒìŠ¤íŠ¸ ê±°ë˜ë¹„ìš© UI** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - ğŸ”’ ê³ ì • ì¡°ê±´ ì„¹ì…˜ì— "ê±°ë˜ ë¹„ìš©" expander ì¶”ê°€
  - 4ê°œ `number_input`: ì¦ê¶Œê±°ë˜ì„¸(%), ìˆ˜ìˆ˜ë£Œ(%), ìŠ¬ë¦¬í”¼ì§€(%), ì°¨ì…ë¹„ìš©(%/ì—°)
  - 3ê°œ í˜¸ì¶œë¶€ì— ë¹„ìš© íŒŒë¼ë¯¸í„° ì „ë‹¬: `run_backtest`, `run_optuna_optimization`, `run_backtest_with_progress`

- âœ… **[ë²„ê·¸ìˆ˜ì •] optimizer/walk_forward ê±°ë˜ë¹„ìš© ëˆ„ë½**
  - `optimizer.py` `_build_base_params()`: ê±°ë˜ë¹„ìš© 4ê°œ í•„ë“œ ëˆ„ë½ â†’ ì¶”ê°€
  - `walk_forward.py` `_extract_params_from_row()`: ë™ì¼ ëˆ„ë½ â†’ ì¶”ê°€
  - `walk_forward.py` `_build_base_config_dict()`: ë™ì¼ ëˆ„ë½ â†’ ì¶”ê°€
  - **ì˜í–¥**: ìˆ˜ì • ì „ì—ëŠ” UIì—ì„œ ë¹„ìš© ë³€ê²½í•´ë„ ìµœì í™”/ì›Œí¬í¬ì›Œë“œ ì‹œ í•­ìƒ ê¸°ë³¸ê°’ ì‚¬ìš©

**ë²„ê·¸ ìˆ˜ì • ì´ë ¥**:
- `KeyError: 'z_score_window'`: `SupplyNormalizer`ì— ë¶€ë¶„ config dict ì „ë‹¬ â†’ ì™„ì „í•œ config dictë¡œ ìˆ˜ì •
- optimizer/walk_forward params dictì— ê±°ë˜ë¹„ìš© í•„ë“œ ëˆ„ë½ â†’ 3ê³³ ì¶”ê°€

**íŒŒì¼** (10ê°œ):
```
src/backtesting/portfolio.py       (í´ë˜ìŠ¤ ì†ì„± â†’ __init__ íŒŒë¼ë¯¸í„°)
src/backtesting/engine.py          (BacktestConfig ë¹„ìš© í•„ë“œ + Portfolio ì „ë‹¬)
src/backtesting/optimizer.py       (_build_base_params ë¹„ìš© í•„ë“œ ì¶”ê°€)
src/backtesting/walk_forward.py    (_extract_params_from_row, _build_base_config_dict ë¹„ìš© í•„ë“œ ì¶”ê°€)
app/utils/data_loader.py           (institution_weight ì „ íŒŒì´í”„ë¼ì¸ + ë°±í…ŒìŠ¤íŠ¸ ë¹„ìš© íŒŒë¼ë¯¸í„°)
app/streamlit_app.py               (ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°” ìœ„ì ¯ + íŒŒì´í”„ë¼ì¸ ì „ë‹¬)
app/pages/1_ğŸ“Š_íˆíŠ¸ë§µ.py           (ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°” ìœ„ì ¯ + íŒŒì´í”„ë¼ì¸ ì „ë‹¬)
app/pages/2_ğŸ”_íŒ¨í„´ë¶„ì„.py         (ê¸€ë¡œë²Œ ì‚¬ì´ë“œë°” ìœ„ì ¯ + íŒŒì´í”„ë¼ì¸ ì „ë‹¬)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py         (ê±°ë˜ë¹„ìš© UI expander + 3ê°œ í˜¸ì¶œë¶€ ì „ë‹¬)
app/utils/charts.py                (ë¯¸ì‚¬ìš© import ì •ë¦¬)
```

**í…ŒìŠ¤íŠ¸**: 258ê°œ (100% í†µê³¼, ë³€ê²½ ì—†ìŒ â€” ëª¨ë“  ìƒˆ íŒŒë¼ë¯¸í„° ê¸°ë³¸ê°’ì´ ê¸°ì¡´ê³¼ ë™ì¼)

---

### 2026-02-22 (ë©”ì¸ í˜ì´ì§€ ì¬ì„¤ê³„ + ì´ìƒ ìˆ˜ê¸‰ + ë‹¹ì¼ ìˆ˜ê¸‰ ìˆœìœ„)

**ëª©í‘œ**: ë©”ì¸ í˜ì´ì§€ ì •ë³´ëŸ‰ í™•ëŒ€, ì´ìƒ ìˆ˜ê¸‰(Z>2Ïƒ) í‘œì‹œ, ë‹¹ì¼ ìˆœë§¤ìˆ˜/ìˆœë§¤ë„ ê¸ˆì•¡ ìˆœìœ„ ì¶”ê°€

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **ë©”ì¸ í˜ì´ì§€ ì „ë©´ ì¬ì„¤ê³„** (`app/streamlit_app.py`)
  - KPI ì¹´ë“œ 4ê°œâ†’5ê°œ: ë¶„ì„ ì¢…ëª© / ê´€ì‹¬ ì¢…ëª© / ê°•í•œ ë§¤ìˆ˜ / ê°•í•œ ë§¤ë„ / ì‹œê·¸ë„ 2+
  - íƒ­ êµ¬ì¡° ë„ì…: "ì´ìƒ ìˆ˜ê¸‰ (Z-Score > 2Ïƒ)" | "ë‹¹ì¼ ìˆ˜ê¸‰ ìˆœìœ„"
  - íŒ¨í„´ ë¶„ì„ ìš”ì•½ (íŒŒì´ì°¨íŠ¸ + íˆìŠ¤í† ê·¸ë¨) ìœ ì§€
  - ê´€ì‹¬ ì¢…ëª© í…Œì´ë¸” `column_config` í¬ë§· ê°œì„  (ProgressColumn, NumberColumn ë“±)
  - CSS `:has()` ì„ íƒìë¡œ ë§¤ìˆ˜(green)/ë§¤ë„(red) ì»¨í…Œì´ë„ˆ í…Œë‘ë¦¬ êµ¬ë¶„

- âœ… **íƒ­ 1: ì´ìƒ ìˆ˜ê¸‰ (Z-Score > 2Ïƒ)**
  - ë§¤ìˆ˜/ë§¤ë„ 2ì—´ ë ˆì´ì•„ì›ƒ: ë°”ì°¨íŠ¸ top 10 + í…Œì´ë¸” 30ê°œ
  - ë°”ì°¨íŠ¸ í˜¸ë²„ì— ì™¸êµ­ì¸/ê¸°ê´€/ì¢…í•© Z-Score + ìˆœë§¤ìˆ˜ê¸ˆì•¡(ì–µ/ì¡° í¬ë§·) í‘œì‹œ
  - "ì‚°ì¶œ ë°©ì‹ ë³´ê¸°" expander: Sffâ†’í•©ì‚°â†’Z-Score 3ë‹¨ê³„ ìˆ˜ì‹ + ì™¸êµ­ì¸Zâ‰ ì¢…í•©Z ì„¤ëª…

- âœ… **íƒ­ 2: ë‹¹ì¼ ìˆ˜ê¸‰ ìˆœìœ„** (NEW)
  - ì™¸êµ­ì¸/ê¸°ê´€ ìˆœë§¤ìˆ˜ ìƒìœ„ + ìˆœë§¤ë„ ìƒìœ„ (4ì„¹ì…˜)
  - ê° ì„¹ì…˜: ë°”ì°¨íŠ¸ top 10 (ì–µ/ì¡° í¬ë§·) + í…Œì´ë¸” top 50 (ì‰¼í‘œ í¬ë§· ì›ì‹œê¸ˆì•¡)
  - ìº¡ì…˜: "ì›ì‹œ ê¸ˆì•¡ ê¸°ì¤€, ì •ê·œí™” ë¯¸ì ìš©"

- âœ… **`data_loader.py` í•¨ìˆ˜ 2ê°œ ì¶”ê°€**
  - `get_abnormal_supply_data()`: ì´ìƒ ìˆ˜ê¸‰ ìºì‹œ ë˜í¼ (ìˆœë§¤ìˆ˜ê¸ˆì•¡ ì¡°ì¸ í¬í•¨)
  - `get_today_supply_ranking()`: ë‹¹ì¼ ì „ ì¢…ëª© ì™¸êµ­ì¸/ê¸°ê´€ ìˆœë§¤ìˆ˜ê¸ˆì•¡ ì¡°íšŒ

- âœ… **`charts.py` í•¨ìˆ˜ 2ê°œ + í—¬í¼ ì¶”ê°€**
  - `_fmt_amount()`: ì›â†’ì–µ/ì¡° ë³€í™˜ (ë¶€í˜¸+ì‰¼í‘œ, 1ì¡° ì´ìƒ ì‹œ ì¡° í‘œê¸°)
  - `create_abnormal_supply_chart()`: ì´ìƒ ìˆ˜ê¸‰ ìˆ˜í‰ ë°”ì°¨íŠ¸ (Z-Score ê¸°ì¤€)
  - `create_supply_ranking_chart()`: ìˆ˜ê¸‰ ìˆœìœ„ ìˆ˜í‰ ë°”ì°¨íŠ¸ (ê¸ˆì•¡ ê¸°ì¤€)

**íŒŒì¼**:
```
app/streamlit_app.py     (ë©”ì¸ í˜ì´ì§€ ì „ë©´ ì¬ì„¤ê³„)
app/utils/data_loader.py (get_abnormal_supply_data, get_today_supply_ranking ì¶”ê°€)
app/utils/charts.py      (_fmt_amount, create_abnormal_supply_chart, create_supply_ranking_chart ì¶”ê°€)
```

---

### 2026-02-20 (Streamlit ë‹¤í¬ í…Œë§ˆ + UI ê°œì„  + ì°¨íŠ¸ ê°œì„  + ê±°ë˜ë‚´ì—­ ì„±ê³¼ ì»¬ëŸ¼)

**ëª©í‘œ**: ì°¨íŠ¸/ì•± ì „ë°˜ ë‹¤í¬ í…Œë§ˆ ì ìš©, ìŠ¬ë¼ì´ë”+ì§ì ‘ì…ë ¥ ë™ê¸°í™”, ì§„í–‰ë¥  í‘œì‹œ ê°œì„ , ì›”ë³„ìˆ˜ìµë¥  ì¬ì„¤ê³„, ê±°ë˜ë‚´ì—­ ê¸°ê°„ ë‚´ ì„±ê³¼ ì¶”ê°€

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **2026ë…„ ë‚ ì§œ ì„ íƒ ë²„ê·¸ ìˆ˜ì •**
  - ëª¨ë“  í˜ì´ì§€ `date_input`ì˜ `max_value`ë¥¼ `_max_dt.replace(month=12, day=31)`ë¡œ ì—°ì¥
  - ì˜í–¥ íŒŒì¼: `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py` (5ê³³), `1_ğŸ“Š_íˆíŠ¸ë§µ.py`, `2_ğŸ”_íŒ¨í„´ë¶„ì„.py`

- âœ… **ìŠ¬ë¼ì´ë” + ì§ì ‘ ì…ë ¥ ë™ê¸°í™”** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - `_synced_slider()` í—¬í¼ í•¨ìˆ˜ ì¶”ê°€: ìŠ¬ë¼ì´ë”(3ì—´) + number_input(1ì—´) ë‚˜ë€íˆ ë°°ì¹˜
  - `on_change` ì½œë°±ìœ¼ë¡œ ì–‘ë°©í–¥ ë™ê¸°í™” (ìŠ¬ë¼ì´ë” ì¡°ì‘ ì‹œ ì…ë ¥ì°½ ê°±ì‹ , ì…ë ¥ì°½ ë³€ê²½ ì‹œ ìŠ¬ë¼ì´ë” ê°±ì‹ )
  - Optuna ìµœì  íŒŒë¼ë¯¸í„° ë°˜ì˜ ì‹œ `_ni` í‚¤ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸
  - ìŠ¬ë¼ì´ë” ë²”ìœ„ í™•ì¥: ëª©í‘œìˆ˜ìµë¥  1~200%, ì†ì ˆ -100~-1%

- âœ… **ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ ê°œì„ ** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - CSS: ì‚¬ì´ë“œë°” ë„ˆë¹„ 340px, ìŠ¬ë¼ì´ë”-ì…ë ¥ì°½ `align-items: flex-end` ìˆ˜ì§ ì •ë ¬

- âœ… **ë‹¤í¬ í…Œë§ˆ ì „ë©´ ì ìš©**
  - **`.streamlit/config.toml` ì‹ ê·œ ìƒì„±**: ì•± ì „ì²´ ë‹¤í¬ í…Œë§ˆ (Tailwind Slate íŒ”ë ˆíŠ¸)
    ```toml
    [theme]
    base = "dark"
    primaryColor = "#38bdf8"        # sky-400
    backgroundColor = "#0f172a"     # slate-900
    secondaryBackgroundColor = "#1e293b"  # slate-800
    textColor = "#e2e8f0"           # slate-200
    ```
  - **`src/backtesting/plotly_visualizer.py`**: `_apply_theme()` static ë©”ì„œë“œ ì¶”ê°€
    - ë‹¤í¬ ìƒìˆ˜: `_BG_PLOT='#0f172a'`, `_BG_PAPER='#1e293b'`, `_GRID='#334155'`
    - `template='plotly_dark'` + ëª…ì‹œì  ë°°ê²½ìƒ‰ + ê·¸ë¦¬ë“œ/ì¶• ìƒ‰ìƒ í†µì¼
    - ì»¤ìŠ¤í…€ ì»¬ëŸ¬ìŠ¤ì¼€ì¼ (íˆíŠ¸ë§µ): red-500 â†’ slate-700 â†’ green-500
    - íˆíŠ¸ë§µ ì…€ í…ìŠ¤íŠ¸: `color='#0f172a'` (ê²€ì€ìƒ‰)
  - **`app/utils/charts.py`**: `_apply_dark()` í•¨ìˆ˜ ì¶”ê°€ (ë™ì¼ ë‹¤í¬ ìƒìˆ˜ ì²´ê³„)
  - **ëª¨ë“  `st.plotly_chart()` í˜¸ì¶œì— `theme=None` ì¶”ê°€** (10ê³³)
    - **ê·¼ë³¸ ì›ì¸**: `st.plotly_chart`ì˜ ê¸°ë³¸ê°’ `theme="streamlit"`ì´ ëª…ì‹œì  `plot_bgcolor`/`paper_bgcolor`ë¥¼ ë®ì–´ì“°ëŠ” ê²ƒì´ ë¬¸ì œì˜€ìŒ
    - ì˜í–¥ íŒŒì¼: `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`(5ê³³), `1_ğŸ“Š_íˆíŠ¸ë§µ.py`, `2_ğŸ”_íŒ¨í„´ë¶„ì„.py`, `4_ğŸ”„_ì›Œí¬í¬ì›Œë“œ.py`, `streamlit_app.py`(2ê³³)
  - **`fileWatcherType = "poll"` ì¶”ê°€** (`.streamlit/config.toml`)
    - WSL í™˜ê²½ì—ì„œ inotifyê°€ `src/` í•˜ìœ„ íŒŒì¼ ë³€ê²½ì„ ê°ì§€ ëª»í•˜ëŠ” ë¬¸ì œ í•´ê²°
    - í´ë§ ë°©ì‹ìœ¼ë¡œ ì „í™˜ â†’ ì½”ë“œ ì €ì¥ ì‹œ ìë™ ë¦¬ë¡œë“œ ì •ìƒ ë™ì‘

- âœ… **ë¶„ì„ ì§„í–‰ë¥  í‘œì‹œ (% í¬í•¨)** â€” CacheReplayClosureError í•´ê²°
  - **ì›ì¸**: `@st.cache_data` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ `st.progress` ì—…ë°ì´íŠ¸ ì‹œë„ â†’ Streamlitì´ ìºì‹œ ì¬ìƒ ì‹œ ì™¸ë¶€ ìœ„ì ¯ í˜¸ì¶œ ì‹¤íŒ¨
  - **í•´ê²°**: ë‹¨ì¼ ìºì‹œ í•¨ìˆ˜ë¥¼ 4ê°œ ìŠ¤í…Œì´ì§€ë³„ ìºì‹œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬ (`_stage_zscore`, `_stage_classify`, `_stage_signals`, `_stage_report`)
  - `run_analysis_pipeline_with_progress()`: ë¹„ìºì‹œ ë˜í¼ì—ì„œ ìŠ¤í…Œì´ì§€ ì‚¬ì´ì— `st.progress(pct, text=...)` ì—…ë°ì´íŠ¸
  - ì „ í˜ì´ì§€ ì ìš©: `streamlit_app.py`, `1_ğŸ“Š_íˆíŠ¸ë§µ.py`, `2_ğŸ”_íŒ¨í„´ë¶„ì„.py`

- âœ… **`use_container_width` â†’ `width='stretch'` ì „í™˜** (Streamlit 1.54.0 deprecation ëŒ€ì‘)
  - `st.plotly_chart` í˜¸ì¶œ ì „ë¶€ êµì²´ (10ê³³)
  - `st.dataframe` / `st.button`ì˜ `use_container_width`ëŠ” í•´ë‹¹ ì—†ìŒ (chart ì „ìš© deprecation)

- âœ… **ì›”ë³„ ìˆ˜ìµë¥  ì°¨íŠ¸ ì™„ì „ ì¬ì„¤ê³„** (`src/backtesting/plotly_visualizer.py`)
  - **ê¸°ì¡´**: ì—°ë„Ã—ì›” íˆíŠ¸ë§µ (xì¶•=ì›”1~12, yì¶•=ì—°ë„) â†’ ì •ë ¬ ì˜¤ë¥˜ + ê°€ë…ì„± ë¶ˆí¸
  - **ë³€ê²½**: íƒ€ì„ë¼ì¸ ë°”ì°¨íŠ¸ (xì¶•=ì—°ë„Â·ì›” ìˆœì„œ ë¼ë²¨, yì¶•=ì›”ë³„ ìˆ˜ìµë¥ %)
  - ì²« ë‹¬ ìˆ˜ìµë¥ : `initial_capital` ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚° (`pct_change()` NaN ë¬¸ì œ í•´ê²°)
  - yì¶• ë²”ìœ„ ìë™ íŒ¨ë”© (`pad = max(|max_r|, |min_r|) Ã— 0.35`) â†’ ë°” ìœ„ í…ìŠ¤íŠ¸ í´ë¦¬í•‘ ë°©ì§€
  - ë°” í…ìŠ¤íŠ¸ (ì†Œìˆ˜ì  2ìë¦¬ `%{customdata}`) + í˜¸ë²„ í…ìŠ¤íŠ¸ ë™ê¸°í™”
  - ê¸€ì”¨ í¬ê¸° 13pxë¡œ í™•ëŒ€
  - groupby ë°©ì‹: `dt.to_period('M')` â†’ `year*100 + month` ì •ìˆ˜ (WSL pandas í˜¸í™˜)

- âœ… **ìˆ˜ìµë¥  ë¶„í¬ ì°¨íŠ¸ ê°œì„ ** (`src/backtesting/plotly_visualizer.py`)
  - í‰ê· /ì¤‘ì•™ê°’ í‘œì‹œ: `add_annotation()` â†’ ë²”ë¡€(legend) ë°©ì‹ìœ¼ë¡œ ë³€ê²½
    - ì°¨íŠ¸ ë³¸ë¬¸ í…ìŠ¤íŠ¸ê°€ ë°”ì— ê°€ë ¤ì§€ëŠ” ë¬¸ì œ í•´ê²°
  - ë²”ë¡€ ìœ„ì¹˜: ì°¨íŠ¸ ìš°ì¸¡ â†’ ì°¨íŠ¸ ìƒë‹¨ ê°€ë¡œ ë°°ì¹˜ (`orientation='h', y=1.02, x=0`)
  - dummy trace (`x=[None], y=[None]`) í™œìš© â†’ vline ìƒ‰ìƒì„ legendì— í‘œì‹œ

- âœ… **íˆíŠ¸ë§µ í†µê³„ ìœ„ì¹˜ ì´ë™** (`app/pages/1_ğŸ“Š_íˆíŠ¸ë§µ.py`)
  - ê¸°ì¡´: íˆíŠ¸ë§µ ì•„ë˜ì— "í‘œì‹œ ì¢…ëª© ìˆ˜ / í‰ê·  1W Z-Score / ê°•í•œ ë§¤ìˆ˜" í‘œì‹œ
  - ë³€ê²½: íˆíŠ¸ë§µ **ìœ„**ë¡œ ì´ë™ â†’ ì°¨íŠ¸ ë³´ê¸° ì „ì— ë§¥ë½ íŒŒì•… ê°€ëŠ¥

- âœ… **ê±°ë˜ë‚´ì—­ ê¸°ê°„ ë‚´ ì„±ê³¼ ì»¬ëŸ¼ ì¶”ê°€** (`app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - DB `close_price` ì¼ê´„ ì¡°íšŒ (1íšŒ ì¿¼ë¦¬, ì „ ì¢…ëª© ê¸°ê°„ í¬í•¨)
  - ì§„ì…ê°€ ê¸°ì¤€ ì¼ë³„ ìˆ˜ìµë¥  ê³„ì‚° â†’ max_ret / min_ret / MDD
  - **ì»¬ëŸ¼ ì¶”ê°€**: `max_ret (%)`, `min_ret (%)`, `MDD (%)` (ì†Œìˆ˜ì  2ìë¦¬)
  - `st.column_config.NumberColumn` í¬ë§· ì ìš©

**ë²„ê·¸ ìˆ˜ì • ì´ë ¥**:
- `import numpy as np as _np` â†’ `import numpy as _np` (ë¬¸ë²• ì˜¤ë¥˜)
- ì›”ë³„ ìˆ˜ìµë¥  ì°¨íŠ¸ ì²« ë‹¬ ëˆ„ë½: `pct_change()` ì²« í–‰ NaN â†’ `initial_capital`ë¡œ ê¸°ì¤€ê°’ ì„¤ì •
- ì›”ë³„ ìˆ˜ìµë¥  ì°¨íŠ¸ ì „ì²´ ì‚¬ë¼ì§: `dt.to_period('M')` WSL ì´ìŠˆ â†’ `year*100+month` ì •ìˆ˜ groupbyë¡œ êµì²´

**íŒŒì¼ êµ¬ì¡°**:
```
.streamlit/config.toml                 (ì‹ ê·œ â€” ì•± ì „ì²´ ë‹¤í¬ í…Œë§ˆ + fileWatcherType=poll)
src/backtesting/plotly_visualizer.py   (_apply_theme, ë‹¤í¬ ìƒìˆ˜, ì›”ë³„ìˆ˜ìµë¥  ì¬ì„¤ê³„, ìˆ˜ìµë¥ ë¶„í¬ ê°œì„ )
app/utils/charts.py                    (_apply_dark, ë‹¤í¬ ìƒìˆ˜, ì»¤ìŠ¤í…€ ì»¬ëŸ¬ìŠ¤ì¼€ì¼)
app/utils/data_loader.py               (ìŠ¤í…Œì´ì§€ë³„ ìºì‹œ ë¶„ë¦¬ + run_analysis_pipeline_with_progress)
app/streamlit_app.py                   (progress bar + theme=None + width='stretch')
app/pages/1_ğŸ“Š_íˆíŠ¸ë§µ.py               (progress bar + theme=None + í†µê³„ ìœ„ì¹˜ ì°¨íŠ¸ ìœ„ë¡œ)
app/pages/2_ğŸ”_íŒ¨í„´ë¶„ì„.py             (progress bar + theme=None + width='stretch')
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py             (_synced_slider + ë‚ ì§œ ë²„ê·¸ ìˆ˜ì • + theme=None Ã— 5 + ê±°ë˜ë‚´ì—­ ì„±ê³¼ ì»¬ëŸ¼)
app/pages/4_ğŸ”„_ì›Œí¬í¬ì›Œë“œ.py           (theme=None + width='stretch')
```

---

### 2026-02-21 (ë°±í…ŒìŠ¤íŠ¸ ê¸°ê°„ ì¢…ë£Œ ì‹œ ë¯¸ì²­ì‚° í¬ì§€ì…˜ ê°•ì œ ì²­ì‚° + í‘œì‹œ)

**ëª©í‘œ**: ë°±í…ŒìŠ¤íŠ¸ ì¢…ë£Œì¼ì— ì•„ì§ ì²­ì‚°ë˜ì§€ ì•Šì€ í¬ì§€ì…˜ì„ ë§ˆì§€ë§‰ ë‚  ì¢…ê°€ë¡œ ê°•ì œ ì²­ì‚° + UI í‘œì‹œ

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **`data_loader.py`**: `force_exit_on_end=True` ì ìš©
  - `run_backtest()`: ì¢…ë£Œì¼ ë„ë‹¬ ì‹œ ë¯¸ì²­ì‚° í¬ì§€ì…˜ ë§ˆì§€ë§‰ ë‚  ì¢…ê°€ë¡œ ê°•ì œ ì²­ì‚°
  - `run_optuna_optimization()`: ìµœì í™” ì‹œì—ë„ ë™ì¼ ì ìš© (ì¼ê´€ì„± ìœ ì§€)
- âœ… **`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`**: ê¸°ê°„ ì¢…ë£Œ ì²­ì‚° ì¢…ëª© í‘œì‹œ ì„¹ì…˜ ì¶”ê°€
  - `exit_reason == 'end'` ê±°ë˜ í•„í„°ë§
  - ì ‘ì´ì‹(expander)ìœ¼ë¡œ ì¢…ëª©ëª…/ì½”ë“œ/ì§„ì…ì¼/ë³´ìœ ì¼/ìˆ˜ìµë¥ /ì§„ì…ê°€/ì²­ì‚°ê°€ í‘œì‹œ
  - "ë³´ìœ  ê¸°ê°„ì´ ì§§ì•„ ì „ëµ íš¨ê³¼ê°€ ë°˜ì˜ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤" ì•ˆë‚´

**íŒŒì¼**:
```
app/utils/data_loader.py (force_exit_on_end=True)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py (ê¸°ê°„ ì¢…ë£Œ ì²­ì‚° ì¢…ëª© expander)
```

---

### 2026-02-21 (Streamlit ë°±í…ŒìŠ¤íŠ¸ - ìµœì í™”/ê²€ì¦ ê¸°ê°„ ë¶„ë¦¬ UI ì¶”ê°€)

**ëª©í‘œ**: ê³¼ì í•© ì—†ëŠ” ì‹ ë¢°ë„ ë†’ì€ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ìœ„í•œ ê¸°ê°„ ë¶„ë¦¬ ê¸°ëŠ¥

**ë¬¸ì œ**: ê¸°ì¡´ "ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°"ëŠ” ê°™ì€ ê¸°ê°„ìœ¼ë¡œ ìµœì í™”+ë°±í…ŒìŠ¤íŠ¸ â†’ ê³¼ì í•© (ìˆ˜ìµë¥  ê³¼ëŒ€í‰ê°€)

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`**: ê¸°ê°„ ë¶„ë¦¬ ì²´í¬ë°•ìŠ¤ ì¶”ê°€
  - "ìµœì í™” / ê²€ì¦ ê¸°ê°„ ë¶„ë¦¬" ì²´í¬ë°•ìŠ¤ (ê¸°ë³¸: ë¹„í™œì„±)
  - í™œì„±í™” ì‹œ: ìµœì í™” ê¸°ê°„(íŒŒë¼ë¯¸í„° íƒìƒ‰) + ê²€ì¦ ê¸°ê°„(ë°±í…ŒìŠ¤íŠ¸) ë³„ë„ ì…ë ¥
  - "ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°": Optunaë¥¼ ìµœì í™” ê¸°ê°„ìœ¼ë¡œ ì‹¤í–‰ â†’ ê²€ì¦ ê¸°ê°„ìœ¼ë¡œ ë°±í…ŒìŠ¤íŠ¸
  - "ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰": ê²€ì¦ ê¸°ê°„ìœ¼ë¡œ ì‹¤í–‰ (ë¶„ë¦¬ ì—¬ë¶€ ê´€ê³„ì—†ì´ val ê¸°ê°„ ì‚¬ìš©)
  - ê²°ê³¼ í™”ë©´ì— ê¸°ê°„ ë°°ë„ˆ í‘œì‹œ (ë¶„ë¦¬ ì‹œ: ìµœì í™” ê¸°ê°„ / ê²€ì¦ ê¸°ê°„ ëª…ì‹œ)
  - Optuna ì„¹ì…˜ caption: ë¶„ë¦¬ ì‹œ ë‘ ê¸°ê°„ ëª…ì‹œ, ë¯¸ë¶„ë¦¬ ì‹œ ê¸°ì¡´ í…ìŠ¤íŠ¸

**ì‚¬ìš© íë¦„**:
```
[ê¸°ê°„ ë¯¸ë¶„ë¦¬ - íƒìƒ‰ìš©]
ì‹œì‘ì¼~ì¢…ë£Œì¼ â†’ "ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°" â†’ ê°™ì€ ê¸°ê°„ ìµœì í™”+ê²€ì¦ (ê³¼ì í•©, íƒìƒ‰ ëª©ì )

[ê¸°ê°„ ë¶„ë¦¬ - ì‹ ë¢°ë„ ë†’ì€ ê²€ì¦]
ìµœì í™”: 2025-01~2025-09 â†’ Optuna íŒŒë¼ë¯¸í„° íƒìƒ‰
ê²€ì¦:   2025-10~2026-01 â†’ ìœ„ íŒŒë¼ë¯¸í„°ë¡œ ë°±í…ŒìŠ¤íŠ¸ (ë¯¸ë˜ ë°ì´í„°, ì‹ ë¢° ê°€ëŠ¥)
```

**íŒŒì¼**:
```
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py (ê¸°ê°„ ë¶„ë¦¬ UI + ê¸°ê°„ ë°°ë„ˆ)
```

---

### 2026-02-21 (institution_weight ì„¤ê³„ ê°œì„ : ë²„ê·¸ ìˆ˜ì • + íŒŒë¼ë¯¸í„° ë¶„ë¦¬ + Precomputer ìºì‹±)

**ë°°ê²½**: institution_weightì˜ ì—­í• ê³¼ ì‚¬ìš© ë°©ì‹ì— ëŒ€í•œ ì„¤ê³„ ë¦¬ë·° ê²°ê³¼ 3ê°€ì§€ ë¬¸ì œ ë°œê²¬

**ë¬¸ì œ 1 - ë²„ê·¸**: ê°€ì†ë„ ì‹œê·¸ë„ì˜ institution_weight í•˜ë“œì½”ë”©
- `signal_detector.py`ì˜ `calculate_acceleration()`ì—ì„œ 0.3 ê³ ì • ì‚¬ìš©
- `precomputer.py`ì˜ `_compute_signals_all_dates()`ì—ì„œ 0.3 ê³ ì • ì‚¬ìš©
- `normalizer.py`ë§Œ config íŒŒë¼ë¯¸í„° ì‚¬ìš© â†’ ì„¸ ëª¨ë“ˆ ê°„ ë¶ˆì¼ì¹˜

**ë¬¸ì œ 2 - ì„¤ê³„**: institution_weightë¥¼ Optuna ìµœì í™” íŒŒë¼ë¯¸í„°ë¡œ ì˜ëª» ë¶„ë¥˜
- institution_weightëŠ” "ê¸°ê´€ ë™ì¡°ë¥¼ ì–´ë–»ê²Œ í•´ì„í• ì§€"ë¥¼ ê²°ì •í•˜ëŠ” **ë¶„ì„ ì² í•™ íŒŒë¼ë¯¸í„°**
- min_score, stop_loss ê°™ì€ **ì „ëµ íŒŒë¼ë¯¸í„°**(ì–¸ì œ ì‚¬ê³  íŒ”ì§€)ì™€ ì„±ê²©ì´ ë‹¤ë¦„
- ê°™ì€ Optuna íƒìƒ‰ ê³µê°„ì— ë¬¶ì´ëŠ” ê²ƒì€ ê°œë…ì ìœ¼ë¡œ ë¶€ì ì ˆ

**ë¬¸ì œ 3 - ë¹„íš¨ìœ¨**: institution_weightê°€ Optuna íŒŒë¼ë¯¸í„°ì´ë¯€ë¡œ Trialë§ˆë‹¤ Precomputer ì¬ì‹¤í–‰
- institution_weightê°€ ê³ ì •ë˜ë©´ ëª¨ë“  Trialì´ ë™ì¼í•œ Precomputed ë°ì´í„° ê³µìœ  ê°€ëŠ¥

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **ë‹¨ê³„ 1: ë²„ê·¸ ìˆ˜ì •** (3ê°œ íŒŒì¼)
  - `signal_detector.py`: `SignalDetector.__init__`ì— `institution_weight=0.3` íŒŒë¼ë¯¸í„° ì¶”ê°€
    - `calculate_acceleration()`: `0.3` â†’ `self.institution_weight`
  - `precomputer.py`: `_compute_signals_all_dates()`: `0.3` â†’ `self.institution_weight`
  - `engine.py`: `SignalDetector(conn)` â†’ `SignalDetector(conn, institution_weight=self.config.institution_weight)`
  - ì´ì œ normalizer / precomputer / signal_detector ì„¸ ê³³ ëª¨ë‘ ë™ì¼í•œ institution_weight ì‚¬ìš©

- âœ… **ë‹¨ê³„ 2: institution_weight ìµœì í™” íŒŒë¼ë¯¸í„° ë¶„ë¦¬**
  - `optimizer.py`: `DEFAULT_PARAM_SPACE`ì—ì„œ `institution_weight` ì œê±°
  - `BacktestConfig`ì˜ ê³ ì • íŒŒë¼ë¯¸í„°ë¡œë§Œ ìœ ì§€ (ê¸°ë³¸ê°’ 0.3)
  - ê²€ì¦ í•„ìš” ì‹œ: ë³„ë„ ë…ë¦½ ë°±í…ŒìŠ¤íŠ¸ë¡œ 0.0/0.1/0.2/0.3/0.5 ìˆ˜ë™ ë¹„êµ

- âœ… **ë‹¨ê³„ 3: Precomputer ê³µìœ  ìºì‹±**
  - `engine.run()`: `precomputed=` íŒŒë¼ë¯¸í„° ì¶”ê°€ (ì™¸ë¶€ ì£¼ì… ì§€ì›)
  - `optimizer.py`: Phase 1/2 ì‹œì‘ ì „ `BacktestPrecomputer` 1íšŒ ì‹¤í–‰ â†’ ëª¨ë“  Trialì— ì£¼ì…
  - `optimizer.py`: `BacktestPrecomputer` import ì¶”ê°€
  - íš¨ê³¼: 50 Trial Ã— ~1ì´ˆ â†’ 1ì´ˆ(ì‚¬ì „ê³„ì‚°) + 50 Trial Ã— ~0ì´ˆ â‰ˆ 1~2ì´ˆ

**í…ŒìŠ¤íŠ¸**: 2ê°œ ì‹ ê·œ (ì´ 258ê°œ, 100% í†µê³¼)
- `test_institution_weight_passed_to_signal_detector`: SignalDetectorì— weight ì „ë‹¬ í™•ì¸
- `test_precomputer_called_once_per_optimize`: optimize() 1íšŒë‹¹ Precomputer 1íšŒ í˜¸ì¶œ í™•ì¸
- ê¸°ì¡´ `test_default_param_space_keys`: institution_weight ì œì™¸ ë°˜ì˜
- ê¸°ì¡´ optimizer mock í…ŒìŠ¤íŠ¸: BacktestPrecomputer mock ì¶”ê°€

- âœ… **ë‹¨ê³„ 4: Streamlit í˜ì´ì§€ institution_weight ì°¸ì¡° ì˜¤ë¥˜ ìˆ˜ì •**
  - `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`:
    - `pending_opt_params` í•¸ë“¤ëŸ¬ì—ì„œ `w_institution_weight` ì„¸ì…˜ ì—…ë°ì´íŠ¸ ë¼ì¸ ì œê±°
    - ìµœì í™” í›„ ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì‹œ `institution_weight=params['institution_weight']` (KeyError) â†’ `institution_weight=institution_weight` (ì‚¬ì´ë“œë°” ìœ„ì ¯ ê°’) ìˆ˜ì •
    - ìµœì í™” ê²°ê³¼ í‘œì‹œ: institution_weight í•­ëª© ì œê±°, ì»¬ëŸ¼ 5ê°œ â†’ 4ê°œ
    - Optuna ìµœì í™” ëŒ€ìƒ caption: "ê¸°ê´€ ê°€ì¤‘ì¹˜" ì œê±°
  - `4_ğŸ”„_ì›Œí¬í¬ì›Œë“œ.py`:
    - `known_params`ì—ì„œ `'institution_weight'` ì œê±°

**íŒŒì¼ êµ¬ì¡°**:
```
src/analyzer/signal_detector.py      (institution_weight íŒŒë¼ë¯¸í„° ì¶”ê°€)
src/backtesting/precomputer.py       (0.3 í•˜ë“œì½”ë”© â†’ self.institution_weight)
src/backtesting/engine.py            (SignalDetectorì— weight ì „ë‹¬, run()ì— precomputed= ì¶”ê°€)
src/backtesting/optimizer.py         (institution_weight ì œê±°, Precomputer 1íšŒ ê³µìœ  ìºì‹±)
tests/backtesting/test_optimizer.py  (í…ŒìŠ¤íŠ¸ 2ê°œ ì¶”ê°€, mock ì—…ë°ì´íŠ¸)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py           (institution_weight ì°¸ì¡° ì˜¤ë¥˜ 4ê³³ ìˆ˜ì •)
app/pages/4_ğŸ”„_ì›Œí¬í¬ì›Œë“œ.py         (known_paramsì—ì„œ institution_weight ì œê±°)
```

---

### 2026-02-22 (ìµœì í™” íŒŒì´í”„ë¼ì¸ ì „ì²´ ê²€ì¦ + institution_weight ë¶ˆì¼ì¹˜ ìˆ˜ì •)

**ëª©í‘œ**: Optuna ìµœì í™” íŒŒì´í”„ë¼ì¸ ì „ì²´ ì¬ê²€ì¦ ë° ë°œê²¬ëœ ë²„ê·¸ ìˆ˜ì •

**ê²€ì¦ ê²°ê³¼** (9ê°œ í•­ëª© í†µê³¼):
1. âœ… íŒŒë¼ë¯¸í„° ìƒ˜í”Œë§ íë¦„: `_build_base_params()` â†’ `trial.suggest_*()` ë®ì–´ì“°ê¸° â†’ `BacktestConfig(**params)`
2. âœ… 7ê°œ íŒŒë¼ë¯¸í„° engine.py ì‚¬ìš© ìœ„ì¹˜ í™•ì¸ (ì§„ì… í•„í„°/ìµì ˆ/ì†ì ˆ/ì‹œê°„/í¬ì§€ì…˜í•œë„/ë°˜ëŒ€ìˆ˜ê¸‰)
3. âœ… Precomputer 1íšŒ ìƒì„± â†’ ì „ Trial ê³µìœ  (ìƒíƒœ ëˆ„ìˆ˜ ì—†ìŒ)
4. âœ… MedianPruner ì ˆë°˜ ê¸°ê°„ í‰ê°€ ìˆœì„œ ì •ìƒ
5. âœ… ìµœì í™” í›„ ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸: 7ê°œ íŒŒë¼ë¯¸í„° ëª¨ë‘ `params[]`ì—ì„œ ì‚¬ìš©
6. âœ… "ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰" ë²„íŠ¼: ì‚¬ì´ë“œë°” ìœ„ì ¯ ê°’ ì§ì ‘ ì‚¬ìš©
7. âœ… pending_opt_params ìœ„ì ¯ ë™ê¸°í™” ì •ìƒ
8. âœ… ì—£ì§€ ì¼€ì´ìŠ¤: max_positions=1, max_hold_days=1, reverse_threshold=0/115 ëª¨ë‘ ìœ íš¨
9. âœ… Persistent Study ëˆ„ì  ë° ìµœê³  Trial ì„ íƒ ì •ìƒ

**ë°œê²¬ëœ ë²„ê·¸: institution_weight ìµœì í™”-ê²€ì¦ ë¶ˆì¼ì¹˜**:
- **ì›ì¸**: `run_optuna_optimization()`ì— `institution_weight` íŒŒë¼ë¯¸í„° ì—†ìŒ
  â†’ ìµœì í™” ì‹œ í•­ìƒ BacktestConfig ê¸°ë³¸ê°’ 0.3 ì‚¬ìš©
  â†’ ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸ëŠ” ì‚¬ì´ë“œë°” ê°’(0.3 ì•„ë‹ ìˆ˜ ìˆìŒ) ì‚¬ìš©
- **ì˜í–¥**: ì‚¬ìš©ìê°€ ê¸°ê´€ ê°€ì¤‘ì¹˜ë¥¼ 0.3ì´ ì•„ë‹Œ ê°’ìœ¼ë¡œ ë³€ê²½ ì‹œ, ìµœì í™”ì™€ ê²€ì¦ì˜ Z-Score/ì‹œê·¸ë„ì´ ë¶ˆì¼ì¹˜
- **ìˆ˜ì •**: `data_loader.py`ì— `institution_weight` íŒŒë¼ë¯¸í„° ì¶”ê°€ + `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`ì—ì„œ ì‚¬ì´ë“œë°” ê°’ ì „ë‹¬

**íŒŒì¼**:
```
app/utils/data_loader.py    (run_optuna_optimizationì— institution_weight íŒŒë¼ë¯¸í„° ì¶”ê°€ + BacktestConfig ì „ë‹¬)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py  (ìµœì í™” í˜¸ì¶œ ì‹œ institution_weight=institution_weight ì „ë‹¬)
```

---

### 2026-02-22 (ë°±í…ŒìŠ¤íŠ¸ ì‚¬ì´ë“œë°” êµ¬ì¡° ê°œì„  + Optuna íŒŒë¼ë¯¸í„° í™•ì¥)

**ëª©í‘œ**: ì‚¬ìš©ìê°€ ì–´ë–¤ íŒŒë¼ë¯¸í„°ê°€ Optuna íƒìƒ‰ ëŒ€ìƒì¸ì§€ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì‚¬ì´ë“œë°” ì¬êµ¬ì„± + ìµœì í™” ëŒ€ìƒ íŒŒë¼ë¯¸í„° í™•ì¥

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **ì‚¬ì´ë“œë°” ì„¹ì…˜ ì¬êµ¬ì„±** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - ê¸°ì¡´: ì§„ì… ì¡°ê±´ / ì²­ì‚° ì¡°ê±´ / í¬íŠ¸í´ë¦¬ì˜¤ (ì—­í•  ê¸°ì¤€ ë¶„ë¥˜)
  - ë³€ê²½: **ğŸ§ª ìµœì í™” ëŒ€ìƒ íŒŒë¼ë¯¸í„°** / **ğŸ”’ ê³ ì • ì¡°ê±´** (ëˆ„ê°€ ê²°ì •í•˜ë‚˜ ê¸°ì¤€ ë¶„ë¥˜)
  - ğŸ§ª ì„¹ì…˜: min_score, min_signals, target_return, stop_loss, max_positions, max_hold_days, reverse_threshold
    - ìº¡ì…˜: "'ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°' ì‹¤í–‰ ì‹œ Optunaê°€ ìë™ ê²°ì •. ìˆ˜ë™ ì„¤ì • í›„ 'ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰'ë„ ê°€ëŠ¥"
  - ğŸ”’ ì„¹ì…˜: initial_capital, institution_weight
    - ìº¡ì…˜: "ìµœì í™”Â·ë°±í…ŒìŠ¤íŠ¸ ëª¨ë‘ ì´ ê°’ìœ¼ë¡œ ê³ ì •"
  - institution_weight: ê³ ê¸‰ ì„¤ì • expander â†’ ğŸ”’ ì„¹ì…˜ìœ¼ë¡œ ì´ë™

- âœ… **Optuna ìµœì í™” ëŒ€ìƒ íŒŒë¼ë¯¸í„° 3ê°œ ì¶”ê°€** (`optimizer.py`)
  - `max_positions`: int, 1~50
  - `max_hold_days`: int, 1~500 (2ë…„ ê±°ë˜ì¼)
  - `reverse_signal_threshold`: float, 0~115 (ìµœëŒ€ ì ìˆ˜ê¹Œì§€)
  - ì´ 4ê°œ â†’ 7ê°œë¡œ í™•ì¥ (institution_weightëŠ” Precomputer ê³µìœ  ë¶ˆê°€ë¡œ ì œì™¸ ìœ ì§€)

- âœ… **[ë²„ê·¸ìˆ˜ì •] ìµœì í™” í›„ ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸ì— ìµœì  íŒŒë¼ë¯¸í„° ë¯¸ë°˜ì˜** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - **ì›ì¸**: max_hold_days, max_positions, reverse_thresholdë¥¼ ìµœì í™” ëŒ€ìƒì— ì¶”ê°€í–ˆìœ¼ë‚˜,
    "ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°" í›„ ìë™ ì‹¤í–‰ë˜ëŠ” ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ì´ë“œë°” ìœ„ì ¯ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©
  - **ìˆ˜ì •**: `params['max_hold_days']`, `params['max_positions']`,
    `params['reverse_signal_threshold']`ì—ì„œ Optuna ìµœì ê°’ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½
  - ì˜í–¥: ì´ì „ì—ëŠ” ìµœì í™” ê²°ê³¼ë¥¼ í‘œì‹œë§Œ í•˜ê³  ì‹¤ì œ ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸ì—ëŠ” ë¯¸ì ìš©

- âœ… **Trial ê¸°ë³¸ê°’ ìƒí–¥** (íŒŒë¼ë¯¸í„° 7ê°œ ê¸°ì¤€)
  - `data_loader.py`: 50 â†’ 100
  - `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py` ìŠ¬ë¼ì´ë” ê¸°ë³¸ê°’: 50 â†’ 100

- âœ… **pending_opt_params í•¸ë“¤ëŸ¬ ì—…ë°ì´íŠ¸** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - ìµœì í™” í›„ ìƒˆ 3ê°œ íŒŒë¼ë¯¸í„°ë„ ìŠ¬ë¼ì´ë”/ì…ë ¥ì°½ì— ìë™ ë°˜ì˜

- âœ… **ìµœì í™” ê²°ê³¼ í‘œì‹œ í™•ì¥** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - 4ê°œ ë©”íŠ¸ë¦­ â†’ 7ê°œ (ìµœëŒ€ í¬ì§€ì…˜, ìµœëŒ€ ë³´ìœ ì¼, ë°˜ëŒ€ìˆ˜ê¸‰ ì²­ì‚° ì¶”ê°€, 4+3 ë ˆì´ì•„ì›ƒ)

- âœ… **ì´ˆê¸° ìë³¸ê¸ˆ ì‰¼í‘œ í¬ë§·** (`3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - `number_input` â†’ `text_input` + `on_change` ì½œë°±
  - ì…ë ¥ì°½ ìì²´ì— `10,000,000` í˜•ì‹ í‘œì‹œ (Enter/í¬ì»¤ìŠ¤ì•„ì›ƒ ì‹œ ìë™ í¬ë§·)

- âœ… **ê¸°ì¡´ ì‹¤íŒ¨ í…ŒìŠ¤íŠ¸ ìˆ˜ì •** (`test_plotly_visualizer.py`)
  - `test_heatmap_trace_type` â†’ `test_bar_trace_type`
  - ì›”ë³„ ìˆ˜ìµë¥  ì°¨íŠ¸ íˆíŠ¸ë§µâ†’ë°”ì°¨íŠ¸ ì¬ì„¤ê³„ ì‹œ í…ŒìŠ¤íŠ¸ ë¯¸ê°±ì‹  ê±´ ìˆ˜ì •

**íŒŒë¼ë¯¸í„° íƒìƒ‰ ë²”ìœ„ (ìµœì¢…)**:

| íŒŒë¼ë¯¸í„° | ë²”ìœ„ | ë¹„ê³  |
|---------|------|------|
| min_score | 50~90 | ì§„ì… ìµœì†Œ ì ìˆ˜ |
| min_signals | 1~3 | ì§„ì… ìµœì†Œ ì‹œê·¸ë„ ìˆ˜ |
| target_return | 5~25% | ëª©í‘œ ìˆ˜ìµë¥  |
| stop_loss | -15~-3% | ì†ì ˆ ë¹„ìœ¨ |
| max_positions | 1~50 | ìµœëŒ€ ë™ì‹œ í¬ì§€ì…˜ |
| max_hold_days | 1~500 | ìµœëŒ€ ë³´ìœ  ê¸°ê°„ (2ë…„ ê±°ë˜ì¼) |
| reverse_signal_threshold | 0~115 | ë°˜ëŒ€ ìˆ˜ê¸‰ ì²­ì‚° ì ìˆ˜ (ìµœëŒ€ ì ìˆ˜=115) |
| institution_weight | ê³ ì • (0.3) | Precomputer ê³µìœ  ë¶ˆê°€ë¡œ ì œì™¸ |

**íŒŒì¼**:
```
src/backtesting/optimizer.py          (DEFAULT_PARAM_SPACE 7ê°œë¡œ í™•ì¥, ë²”ìœ„ ì„¤ì •)
app/utils/data_loader.py              (n_trials ê¸°ë³¸ê°’ 50â†’100)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py            (ì‚¬ì´ë“œë°” ì¬êµ¬ì„±, pending_opt_params, ê²°ê³¼í‘œì‹œ, ìë³¸ê¸ˆ ì‰¼í‘œ)
tests/backtesting/test_optimizer.py   (required_keys 7ê°œë¡œ ì—…ë°ì´íŠ¸)
tests/backtesting/test_plotly_visualizer.py (test_bar_trace_typeìœ¼ë¡œ ìˆ˜ì •)
```

---

### 2026-02-22 (ëŒ€ì‹œë³´ë“œ ë²„ê·¸ ìˆ˜ì • & UI ê°œì„ )

**ëª©í‘œ**: ë‚ ì§œ ì„ íƒ ì˜¤ë¥˜, ì ìˆ˜ í‘œì‹œ ê°œì„ , íˆíŠ¸ë§µ/íŒ¨í„´ë¶„ì„ ë‚ ì§œ í•„í„° ë“± ì „ë°˜ ë²„ê·¸ ìˆ˜ì •

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **2026ë…„ ì—°ë„ ì„ íƒ ë¶ˆê°€ ìˆ˜ì •** (3ê°œ í˜ì´ì§€)
  - ì›ì¸: `max_value=datetime(2026, 1, 20)` â†’ Streamlit ìº˜ë¦°ë”ê°€ 2026ë…„ ë‚˜ë¨¸ì§€ ë‹¬ì„ ë¹„í™œì„±í™”
  - ìˆ˜ì •: `max_value=_max_dt.replace(month=12, day=31)` (í•´ë‹¹ ì—°ë„ ë§ì¼ë¡œ í™•ì¥)
  - ì ìš© íŒŒì¼: `1_ğŸ“Š_íˆíŠ¸ë§µ.py`, `2_ğŸ”_íŒ¨í„´ë¶„ì„.py`, `3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py` (5ê°œ date_input)

- âœ… **ë‚ ì§œ ì„ íƒê¸° ì¶”ê°€** (íˆíŠ¸ë§µÂ·íŒ¨í„´ë¶„ì„)
  - ì‚¬ì´ë“œë°” ìƒë‹¨ì— "ê¸°ì¤€ ë‚ ì§œ" date_input ì¶”ê°€
  - `run_analysis_pipeline(end_date=end_date_str)` ì—°ê²° â†’ ê³¼ê±° ì‹œì  ì¡°íšŒ ê°€ëŠ¥

- âœ… **ì ìˆ˜ 3ë‹¨ ë¶„ë¦¬** (íŒ¨í„´ë¶„ì„Â·ë°±í…ŒìŠ¤íŠ¸ ê±°ë˜ë‚´ì—­)
  - `íŒ¨í„´ì ìˆ˜ (score)` + `ì‹œê·¸ë„ ìˆ˜ (signal_count)` + `ìµœì¢…ì ìˆ˜ = íŒ¨í„´ì ìˆ˜ + ì‹œê·¸ë„ìˆ˜Ã—5`
  - ìµœì¢…ì ìˆ˜ë§Œ ProgressColumn ì ìš© (ìµœëŒ€ 115ì ), íŒ¨í„´ì ìˆ˜ëŠ” ìˆ«ìë§Œ í‘œì‹œ
  - ë°±í…ŒìŠ¤íŠ¸ ê±°ë˜ë‚´ì—­: `trade.score`(final) ì—­ì‚° â†’ `pattern_score = score - signal_count * 5`

- âœ… **ëˆ„ì  Trial ìº¡ì…˜ DB ì§ì ‘ ì¡°íšŒ**
  - ê¸°ì¡´: `session_state`ì˜ opt_resultì—ì„œ ì½ìŒ â†’ í‰ê°€ ì§€í‘œ ë³€ê²½ ì‹œ êµ¬ ê°’ ì”ë¥˜
  - ìˆ˜ì •: `get_optuna_trial_count(strategy, metric, ...)` DB ì§ì ‘ ì½ê¸° â†’ í•­ìƒ ìµœì‹ ê°’

- âœ… **ê¸°íƒ€ ë²„ê·¸ ìˆ˜ì •**
  - `/div` í…ìŠ¤íŠ¸ ë…¸ì¶œ: HTML f-stringì„ ë‹¨ì¼ ë¼ì¸ ë¬¸ìì—´ ì—°ê²°ë¡œ ì¬ì‘ì„±
  - `NameError: strategy is not defined`: `strategy` selectboxë¥¼ Optuna expander ìœ„ë¡œ ì´ë™
  - ê¸°ë³¸ í‰ê°€ì§€í‘œ ë³€ê²½: `sharpe_ratio` â†’ `total_return`
  - "ê¸°ê°„ ì¢…ë£Œ ì‹œ ì²­ì‚°" expander: 0ê°œì¼ ë•Œë„ í•­ìƒ í‘œì‹œ (ì•ˆë‚´ ìº¡ì…˜ í¬í•¨)

**íŒŒì¼**:
```
app/pages/1_ğŸ“Š_íˆíŠ¸ë§µ.py         (ë‚ ì§œ ì„ íƒê¸° ì¶”ê°€, max_value ì—°ë§ë¡œ í™•ì¥)
app/pages/2_ğŸ”_íŒ¨í„´ë¶„ì„.py       (ë‚ ì§œ ì„ íƒê¸° ì¶”ê°€, ì ìˆ˜ 3ë‹¨ ë¶„ë¦¬, max_value í™•ì¥)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py       (ì ìˆ˜ 3ë‹¨ ë¶„ë¦¬, ê°ì¢… ë²„ê·¸ ìˆ˜ì •, max_value í™•ì¥)
app/utils/data_loader.py         (get_optuna_trial_count ì¶”ê°€)
```

---

### 2026-02-20 (Streamlit ë°±í…ŒìŠ¤íŠ¸ UI ê°œì„  + Persistent Optuna Study)

**ëª©í‘œ**: ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê° êµ¬ë¶„ ê°œì„  + Optuna Trial ëˆ„ì  ì €ì¥ìœ¼ë¡œ ì¬í˜„ì„± í™•ë³´

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **Persistent Optuna Study** (`src/backtesting/optimizer.py`)
  - `study_storage` íŒŒë¼ë¯¸í„° ì¶”ê°€: SQLite íŒŒì¼ì— Study ëˆ„ì  ì €ì¥
  - `_make_study_name(metric)`: ì „ëµ/ê¸°ê°„/ë©”íŠ¸ë¦­ ê¸°ë°˜ ê³ ìœ  Study ì´ë¦„ (`opt__{strategy}__{sd}__{ed}__{metric}`)
  - `load_if_exists=True`: ë™ì¼ ì´ë¦„ Study ì¬ì‹¤í–‰ ì‹œ ê¸°ì¡´ Trial ìœ„ì— ëˆ„ì  ì¶”ê°€
  - `reset=False` ê¸°ë³¸ â†’ ì¬ì‹¤í–‰í• ìˆ˜ë¡ ìµœì ê°’ ë‹¨ì¡° ì¦ê°€ (â‰¥) ë³´ì¥
  - ë°˜í™˜ê°’ì— `existing_before` ì¶”ê°€ (ì´ë²ˆ ì‹¤í–‰ ì „ ëˆ„ì  Trial ìˆ˜)

- âœ… **data_loader.py ìˆ˜ì •**: `_OPTUNA_STORAGE` ìƒìˆ˜ + `study_storage` ì£¼ì…
  - `_OPTUNA_STORAGE = f"sqlite:///{_PROJECT_ROOT / 'data' / 'optuna_studies.db'}"`
  - `run_optuna_optimization()`: `reset_study` íŒŒë¼ë¯¸í„° + `study_storage` ì „ë‹¬

- âœ… **ë°±í…ŒìŠ¤íŠ¸ UI ê°œì„ ** (`app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - **ìœ„ì ¯ í‚¤ ì¶©ëŒ ìˆ˜ì •**: `_defaults` dictë¡œ session_state 1íšŒ ì´ˆê¸°í™” â†’ ìŠ¬ë¼ì´ë”ì—ì„œ `value=` ì œê±°
  - **ìµœì í™” ê²°ê³¼ ìŠ¤íƒ€ì¼**: `st.container(border=True)` + ì£¼í™©ìƒ‰ ì¢Œì¸¡ í…Œë‘ë¦¬ í—¤ë” (`#ff9800`)
  - **ê²€ì¦ ê²°ê³¼ ìŠ¤íƒ€ì¼**: `st.container(border=True)` + ë…¹ìƒ‰ ì¢Œì¸¡ í…Œë‘ë¦¬ í—¤ë” (`#00c853`)
  - **CSS `:has()` ì„ íƒì**: `stVerticalBlockBorderWrapper:has([style*="ff9800"])` ë“±ìœ¼ë¡œ í…Œë‘ë¦¬ ìƒ‰ìƒ ìë™ êµ¬ë¶„
  - **ì‚¬ì´ë“œë°” 3ì„¹ì…˜ êµ¬ì¡°** (dividerë¡œ êµ¬ë¶„):
    - â‘  ê¸°ê°„ ë¶„ë¦¬ ì„¤ì • (ìµœìƒë‹¨) - ì–¸ì²´í¬ ì‹œ ê³¼ì í•© ê²½ê³  í•­ìƒ í‘œì‹œ
    - â‘¡ íŒŒë¼ë¯¸í„° ìµœì í™” expander
    - â‘¢ ë°±í…ŒìŠ¤íŠ¸ ì„¤ì •
  - **ìµœì í™” ê²°ê³¼ ë ˆì´ì•„ì›ƒ**: Sharpe / ì™„ë£Œ / ì¤‘ë‹¨ (ì¢Œ 3ì—´) | ìµœì  íŒŒë¼ë¯¸í„° (ìš°)
  - **ëˆ„ì  Trial í‘œì‹œ** 3ì¢…:
    - â‘  ì‚¬ì´ë“œë°” caption: ì‹¤í–‰ ì „ ì˜ˆìƒ ëˆ„ì  ìˆ˜ ("ì´ì „ ëˆ„ì  NíšŒ â†’ ì‹¤í–‰ í›„ ì•½ MíšŒ")
    - â‘¡ metric delta: ì´ì „ best ëŒ€ë¹„ ê°œì„ ëŸ‰ (`+0.0123` í˜•ì‹)
    - â‘¢ collapsible expander: "ğŸ’¾ ëˆ„ì  study ì •ë³´" (study ì´ë¦„/DB ê²½ë¡œ/ëˆ„ì  ìˆ˜ ìƒì„¸)

**íŒŒì¼**:
```
src/backtesting/optimizer.py       (Persistent Study: study_storage, _make_study_name, reset íŒŒë¼ë¯¸í„°)
app/utils/data_loader.py           (_OPTUNA_STORAGE ìƒìˆ˜, reset_study íŒŒë¼ë¯¸í„°)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py         (UI ê°œì„  ì „ë°˜, ëˆ„ì  Trial í‘œì‹œ 3ì¢…, ì‚¬ì´ë“œë°” êµ¬ì¡° ê°œì„ )
data/optuna_studies.db             (ì‹ ê·œ - SQLite Optuna ì €ì¥ì†Œ)
```

---

### 2026-02-20 (BacktestPrecomputer ì†ë„ ìµœì í™” + Streamlit ë°±í…ŒìŠ¤íŠ¸ í˜ì´ì§€)

**ëª©í‘œ**: ë°±í…ŒìŠ¤íŠ¸ ì†ë„ ê·¹ì  í–¥ìƒ (ì‚¬ì „ ê³„ì‚°) + Streamlit ë°±í…ŒìŠ¤íŠ¸ í˜ì´ì§€ì— Optuna ìµœì í™” UI ì¶”ê°€

**êµ¬í˜„ ë‚´ìš©**:

- âœ… **precomputer.py ì‹ ê·œ ìƒì„±** (`src/backtesting/precomputer.py`)
  - `PrecomputeResult` dataclass: MultiIndex(trade_date, stock_code) Z-Score/ì‹œê·¸ë„ + price_lookup dict
  - `BacktestPrecomputer` í´ë˜ìŠ¤: DB 1íšŒ ë¡œë“œ â†’ ì „ ë‚ ì§œ ë²¡í„°í™” ê³„ì‚°
    - `_compute_sff_all_dates()`: ì™¸êµ­ì¸ ì¤‘ì‹¬ ì¡°ê±´ë¶€ Sff ë²¡í„°í™”
    - `_compute_multi_period_zscores_all_dates()`: 6ê¸°ê°„ Z-Score ë²¡í„°í™” (ì¡°ê±´ë¶€ Z-Score ì ìš©)
    - `_compute_signals_all_dates()`: MA í¬ë¡œìŠ¤/ê°€ì†ë„/ë™ì¡°ìœ¨ ë²¡í„°í™”
    - `_build_price_lookup()`: (stock_code, trade_date) â†’ float O(1) ì¡°íšŒ
  - **íš¨ê³¼**: ë§¤ ê±°ë˜ì¼ Stage 1-3 ì¬ê³„ì‚° â†’ 1íšŒ ì‚¬ì „ ê³„ì‚° í›„ O(1) ì°¸ì¡°

- âœ… **engine.py ìˆ˜ì •**: Precomputer ê¸°ë°˜ ê³ ì† ì‹¤í–‰
  - `_scan_signals_on_date()`: precomputed ë°ì´í„° ìˆìœ¼ë©´ fast path ë¼ìš°íŒ…
  - `_scan_signals_on_date_fast()`: O(1) Z-Score/ì‹œê·¸ë„ lookup + íŒ¨í„´ ë¶„ë¥˜
  - `get_price()` / `get_stock_name()`: precomputed ë°ì´í„° ìš°ì„  ì°¸ì¡°
  - `run()`: normalizer.preload() â†’ BacktestPrecomputer.precompute() êµì²´

- âœ… **plotly_visualizer.py ì‹ ê·œ ìƒì„±** (`src/backtesting/plotly_visualizer.py`)
  - `PlotlyVisualizer` í´ë˜ìŠ¤: Streamlitìš© ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ 5ì¢…
  - `fig_equity_curve()`, `fig_drawdown()`, `fig_monthly_returns()`
  - `fig_return_distribution()`, `fig_pattern_performance()`

- âœ… **Streamlit ë°±í…ŒìŠ¤íŠ¸ í˜ì´ì§€** (`app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py`)
  - ì‚¬ì´ë“œë°”: ë°±í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° ì„¤ì • + ì‹¤í–‰ ë²„íŠ¼
  - **Optuna ìµœì í™” UI** (ì‚¬ì´ë“œë°” í•˜ë‹¨ ì ‘ê¸° ì„¹ì…˜):
    - Trial ìˆ˜ ìŠ¬ë¼ì´ë” (10~200, ê¸°ë³¸ 30)
    - í‰ê°€ ì§€í‘œ ì„ íƒ (Sharpe Ratio / ì´ ìˆ˜ìµë¥  / ìŠ¹ë¥  / Profit Factor)
    - "ìµœì  íŒŒë¼ë¯¸í„° ì°¾ê¸°" ë²„íŠ¼ â†’ ìµœì  íŒŒë¼ë¯¸í„° ì‚¬ì´ë“œë°” ìœ„ì ¯ ìë™ ë°˜ì˜ + ë°±í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰
    - ìµœì í™” ê²°ê³¼ í‘œì‹œ (ë©”íŠ¸ë¦­ê°’, Trial ìˆ˜, 5ê°œ ìµœì  íŒŒë¼ë¯¸í„°)
  - KPI ì¹´ë“œ 5ê°œ + Plotly ì°¨íŠ¸ 5íƒ­ + ê±°ë˜ ë‚´ì—­ í…Œì´ë¸” + CSV ë‹¤ìš´ë¡œë“œ
  - session_state ê¸°ë°˜ íŒŒë¼ë¯¸í„° ì „ë‹¬ (`pending_opt_params` â†’ widget key ìë™ ë°˜ì˜)

- âœ… **data_loader.py ìˆ˜ì •** (`app/utils/data_loader.py`)
  - `run_optuna_optimization()` í•¨ìˆ˜ ì¶”ê°€: OptunaOptimizer ë˜í•‘

**ì†ë„ ë²¤ì¹˜ë§ˆí¬**:
| ê¸°ê°„ | ê¸°ì¡´ (ì´ˆ) | Precomputer (ì´ˆ) | í–¥ìƒ |
|------|----------|-----------------|------|
| 38ì¼ (2025-01~02) | 177.6 | 1.1 | 165ë°° |
| 63ì¼ (2025-06~08) | 392.8 | 1.5 | 262ë°° |
| 1ë…„ (Streamlit) | N/A | 4.0 | - |

**í…ŒìŠ¤íŠ¸**: 23ê°œ ì‹ ê·œ (test_precomputer.py)
- PrecomputeResult êµ¬ì¡°: 6ê°œ
- Z-Score ì‚¬ì „ ê³„ì‚°: 4ê°œ (slow pathì™€ ìˆ˜ì¹˜ ì¼ì¹˜ ê²€ì¦ í¬í•¨)
- ì‹œê·¸ë„ ì‚¬ì „ ê³„ì‚°: 5ê°œ
- ê°€ê²©/ì¢…ëª©ëª… lookup: 5ê°œ
- start_date í•„í„°/ê¸°ê´€ ê°€ì¤‘ì¹˜: 3ê°œ

**ì „ì²´ í…ŒìŠ¤íŠ¸**: 256ê°œ (100% í†µê³¼)

**íŒŒì¼ êµ¬ì¡°**:
```
src/backtesting/precomputer.py (BacktestPrecomputer - ì‹ ê·œ)
src/backtesting/plotly_visualizer.py (PlotlyVisualizer - ì‹ ê·œ)
src/backtesting/engine.py (Precomputer ê¸°ë°˜ fast path)
src/backtesting/__init__.py (BacktestPrecomputer ì¶”ê°€)
app/pages/3_ğŸ“ˆ_ë°±í…ŒìŠ¤íŠ¸.py (Optuna ìµœì í™” UI + Plotly ì°¨íŠ¸)
app/utils/data_loader.py (run_optuna_optimization ì¶”ê°€)
tests/backtesting/test_precomputer.py (23ê°œ - ì‹ ê·œ)
```

---

### 2026-02-19 (--optimize Grid Search â†’ Optuna êµì²´)

**ëª©í‘œ**: `--optimize`ì˜ Grid Search(ParameterOptimizer)ë¥¼ Optunaë¡œ êµì²´í•˜ì—¬ ì½”ë“œ í†µì¼

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **optimizer.py ì •ë¦¬**: `ParameterOptimizer` í´ë˜ìŠ¤ + `_run_backtest_worker()` í•¨ìˆ˜ ì œê±°
  - `OptunaOptimizer`ë§Œ ë‚¨ê¹€ (--optimize, --walk-forward ê³µìš©)
  - ë¯¸ì‚¬ìš© import ì œê±° (`itertools`, `Pool`, `List`)
  - ëª¨ë“ˆ docstring ì—…ë°ì´íŠ¸

- âœ… **backtest_runner.py ìˆ˜ì •**: `ParameterOptimizer` â†’ `OptunaOptimizer`
  - `run_optimization()`: `optimizer.optimize(n_trials, metric)` í˜¸ì¶œ
  - ê²°ê³¼(dict) â†’ 1í–‰ DataFrame ë³€í™˜ í›„ CSV ì €ì¥
  - `--optimize` help: "Grid Search" â†’ "Optuna íŒŒë¼ë¯¸í„° ìµœì í™”"
  - `--top-n` ì˜µì…˜ ì œê±° (OptunaëŠ” ìµœì  1ê°œ ë°˜í™˜)
  - `--n-trials` help: --optimize, --walk-forward ê³µìš©ìœ¼ë¡œ ë³€ê²½

- âœ… **walk_forward.py ì •ë¦¬**: ë¯¸ì‚¬ìš© `ParameterOptimizer` import ì œê±°

- âœ… **test_optimizer.py ì¬ì‘ì„±**:
  - `TestParameterOptimizer` (5ê°œ) ì œê±°
  - `TestOptunaOptimizer` (5ê°œ) ì¶”ê°€:
    - `test_default_param_space_keys`, `test_optimize_returns_expected_structure`
    - `test_optimize_returns_none_on_failure`, `test_optimize_best_metric_value`
    - `test_optimize_n_trials`
  - `TestInstitutionWeightConfig` (3ê°œ) ìœ ì§€

**í…ŒìŠ¤íŠ¸**: 233ê°œ (100% í†µê³¼, í…ŒìŠ¤íŠ¸ ìˆ˜ ë³€ë™ ì—†ìŒ)

**íŒŒì¼ êµ¬ì¡°**:
```
src/backtesting/optimizer.py (ParameterOptimizer ì œê±°, OptunaOptimizerë§Œ ìœ ì§€)
src/backtesting/walk_forward.py (ë¯¸ì‚¬ìš© import ì œê±°)
scripts/analysis/backtest_runner.py (OptunaOptimizer ì‚¬ìš©, --top-n ì œê±°)
tests/backtesting/test_optimizer.py (TestOptunaOptimizerë¡œ êµì²´)
```

**CLI ì‚¬ìš© ì˜ˆì‹œ**:
```bash
# Optuna íŒŒë¼ë¯¸í„° ìµœì í™” (ê¸°ë³¸: 50 trials)
python scripts/analysis/backtest_runner.py --optimize

# 100 trials, total_return ê¸°ì¤€
python scripts/analysis/backtest_runner.py --optimize --n-trials 100 --metric total_return

# Walk-Forwardë„ ë™ì¼í•œ OptunaOptimizer ì‚¬ìš©
python scripts/analysis/backtest_runner.py --walk-forward --n-trials 100 --workers 4
```

---

### 2026-02-19 (Walk-Forward Optuna ì—…ê·¸ë ˆì´ë“œ)

**ëª©í‘œ**: Walk-Forwardì˜ Grid Searchë¥¼ Optuna Bayesian Optimizationìœ¼ë¡œ êµì²´

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **optimizer.py ìˆ˜ì •**: `OptunaOptimizer` í´ë˜ìŠ¤ ì¶”ê°€ (ParameterOptimizerëŠ” ìœ ì§€)
  - `DEFAULT_PARAM_SPACE`: ì—°ì† ë²”ìœ„ íŒŒë¼ë¯¸í„° ê³µê°„ (float/int)
  - `_build_objective()`: Optuna objective í´ë¡œì €
    - Step 0: í•™ìŠµ ê¸°ê°„ **ì ˆë°˜** í‰ê°€ â†’ `trial.report()` â†’ MedianPruner íŒë‹¨
    - í†µê³¼ ì‹œ: **ì „ì²´ ê¸°ê°„** í‰ê°€ â†’ ìµœì¢… ë©”íŠ¸ë¦­ ë°˜í™˜
  - `_narrow_param_space()`: Phase 1 ìƒìœ„ 25% Trial ê¸°ì¤€ íƒìƒ‰ ë²”ìœ„ ì¢íˆê¸°
  - `optimize(n_trials=50)`: 2ë‹¨ê³„ Bayesian ìµœì í™”
    - Phase 1 (`n//2` trials): ë„“ì€ ë²”ìœ„, MedianPruner í™œì„±í™”
    - Phase 2 (`n - n//2` trials): ì¢íŒ ë²”ìœ„ + Phase 1 ìµœê³ ê°’ seed ì‚½ì…
    - ë‘ Phase í†µí•© í›„ ìµœê³  Trial ì„ íƒ

- âœ… **walk_forward.py ìˆ˜ì •**: Optuna + ê¸°ê°„ ë‹¨ìœ„ ë³‘ë ¬ ì‹¤í–‰
  - `_run_wf_period_optuna_worker()` ëª¨ë“ˆ ë ˆë²¨ worker ì¶”ê°€ (pickle í˜¸í™˜)
    - 1ê°œ ê¸°ê°„: OptunaOptimizerë¡œ í•™ìŠµ ê¸°ê°„ ìµœì í™” â†’ ê²€ì¦ ê¸°ê°„ ë°±í…ŒìŠ¤íŠ¸
    - multiprocessing.Pool ë³‘ë ¬ ì§€ì›
  - `WalkForwardConfig`: `n_trials=50` íŒŒë¼ë¯¸í„° ì¶”ê°€
  - `WalkForwardAnalyzer.run()`: Grid Search â†’ OptunaOptimizerë¡œ êµì²´
    - `workers > 1`: Poolë¡œ ê¸°ê°„ ë‹¨ìœ„ ë³‘ë ¬ ì‹¤í–‰
    - `workers == 1`: ìˆœì°¨ ì‹¤í–‰ (verbose ìƒì„¸ ì¶œë ¥)

- âœ… **backtest_runner.py ìˆ˜ì •**: `--n-trials` CLI ì˜µì…˜ ì¶”ê°€
  - `--n-trials N`: Optuna Trial ìˆ˜ (ê¸°ë³¸: 50, Phase 1: n//2, Phase 2: ë‚˜ë¨¸ì§€)
  - `--workers N`: ê¸°ê°„ ë‹¨ìœ„ ë³‘ë ¬ ì‹¤í–‰ ìˆ˜

- âœ… **requirements.txt**: `optuna>=3.0.0` ì¶”ê°€

**í…ŒìŠ¤íŠ¸**: 16ê°œ (100% í†µê³¼, ê¸°ì¡´ 15ê°œ + n_trials í…ŒìŠ¤íŠ¸ 1ê°œ ì¶”ê°€)
- ê¸°ì¡´ run() í…ŒìŠ¤íŠ¸ 3ê°œ: `ParameterOptimizer` mock â†’ `_run_wf_period_optuna_worker` mockìœ¼ë¡œ êµì²´
- `test_wf_config_n_trials_custom` ì‹ ê·œ ì¶”ê°€

**ì „ì²´ í…ŒìŠ¤íŠ¸**: 206ê°œ (100% í†µê³¼)

**íŒŒì¼ êµ¬ì¡°**:
```
requirements.txt (optuna>=3.0.0 ì¶”ê°€)
src/backtesting/optimizer.py (OptunaOptimizer í´ë˜ìŠ¤ ì¶”ê°€)
src/backtesting/walk_forward.py (_run_wf_period_optuna_worker + WalkForwardConfig n_trials)
scripts/analysis/backtest_runner.py (--n-trials ì˜µì…˜)
tests/backtesting/test_walk_forward.py (mock êµì²´ + n_trials í…ŒìŠ¤íŠ¸)
```

**CLI ì‚¬ìš© ì˜ˆì‹œ**:
```bash
# Walk-Forward (ê¸°ë³¸: 50 trials, ìˆœì°¨)
python scripts/analysis/backtest_runner.py --walk-forward \
  --start 2024-01-01 --end 2024-12-31

# 100 trials, 4 workers ë³‘ë ¬ (ê¸°ê°„ ë‹¨ìœ„)
python scripts/analysis/backtest_runner.py --walk-forward \
  --n-trials 100 --workers 4

# Grid SearchëŠ” ê·¸ëŒ€ë¡œ
python scripts/analysis/backtest_runner.py --optimize --workers 4
```

---

### 2026-02-19 (Stage 4 Week 5: Walk-Forward Analysis + ì„±ëŠ¥ ìµœì í™”)

**ëª©í‘œ**: Walk-Forward Analysis êµ¬í˜„ ë° ë°±í…ŒìŠ¤íŠ¸ ì„±ëŠ¥ ìµœì í™”

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **normalizer.py ìˆ˜ì •**: preload/clear_preload ë©”ì»¤ë‹ˆì¦˜ ì¶”ê°€
  - `preload(end_date)`: DB 1íšŒ ë¡œë“œ â†’ `self._preload_raw` ìºì‹œ
  - `clear_preload()`: ìºì‹œ í•´ì œ (ë©”ëª¨ë¦¬ ë°˜í™˜)
  - `_apply_sff_formula()`: ì›ë³¸ ë°ì´í„° â†’ Sff ê³„ì‚° ê³µí†µ ë©”ì„œë“œ
  - `calculate_sff()` / `_get_sff_data()`: preload í™œì„±í™” ì‹œ ë©”ëª¨ë¦¬ í•„í„°ë§ ì‚¬ìš©
  - **íš¨ê³¼**: ë§¤ ê±°ë˜ì¼ DB ì¿¼ë¦¬ â†’ ë°±í…ŒìŠ¤íŠ¸ ì‹œì‘ ì‹œ 1íšŒ ì¿¼ë¦¬ (ëŒ€í­ ì†ë„ í–¥ìƒ)

- âœ… **engine.py ìˆ˜ì •**: `run(preload_data=True)` íŒŒë¼ë¯¸í„° ì¶”ê°€
  - `preload_data=True`: run() ì‹œì‘ ì‹œ preload(), ì¢…ë£Œ ì‹œ clear_preload() ìë™ í˜¸ì¶œ
  - `preload_data=False`: ê¸°ì¡´ ë°©ì‹ ìœ ì§€ (ë©”ëª¨ë¦¬ ì ˆì•½ í•„ìš” ì‹œ)

- âœ… **walk_forward.py ì‹ ê·œ ìƒì„±** (`src/backtesting/walk_forward.py`)
  - `_add_months()`: stdlib calendarë§Œ ì‚¬ìš© (dateutil ë¶ˆí•„ìš”)
  - `WalkForwardConfig`: train_months/val_months/step_months/metric/workers
  - `WalkForwardAnalyzer`:
    - `split_periods()`: í•™ìŠµ/ê²€ì¦ ê¸°ê°„ ë¡¤ë§ ë¶„í• 
    - `run()`: ê° ê¸°ê°„ Grid Search â†’ ìµœì  íŒŒë¼ë¯¸í„°ë¡œ ê²€ì¦ ë°±í…ŒìŠ¤íŠ¸
    - `summary()`: ê¸°ê°„ë³„ ê²°ê³¼ DataFrame ë°˜í™˜
    - `print_results()`: í†µí•© í†µê³„ ì¶œë ¥

- âœ… **backtest_runner.py ìˆ˜ì •**: --walk-forward ì˜µì…˜ ì¶”ê°€
  - `--walk-forward`: Walk-Forward Analysis ì‹¤í–‰
  - `--train-months N`: í•™ìŠµ ê¸°ê°„ (ê¸°ë³¸: 6)
  - `--val-months N`: ê²€ì¦ ê¸°ê°„ (ê¸°ë³¸: 1)
  - `--step-months N`: ë¡¤ë§ ìŠ¤í… (ê¸°ë³¸: 1)
  - `--wf-save-csv PATH`: ê²°ê³¼ CSV ì €ì¥
  - `run_walk_forward()` í•¨ìˆ˜ ë¶„ë¦¬

**í…ŒìŠ¤íŠ¸**: 15ê°œ (100% í†µê³¼)
- WalkForwardConfig ê¸°ë³¸ê°’/ì»¤ìŠ¤í…€: 2ê°œ
- split_periods ê¸°ê°„ ìˆ˜/ì¤‘ë³µ/ì—°ì†ì„±/ë°ì´í„°ë¶€ì¡±: 5ê°œ
- run() ë°˜í™˜í‚¤/ë©”íŠ¸ë¦­í¬í•¨/summary/ë¹ˆê²°ê³¼: 4ê°œ
- normalizer preload í™œì„±í™”/í•´ì œ/end_dateí•„í„°/ê²°ê³¼ì¼ì¹˜: 4ê°œ

**ì „ì²´ í…ŒìŠ¤íŠ¸**: 205ê°œ (100% í†µê³¼) - Stage 4 ì™„ë£Œ

**íŒŒì¼ êµ¬ì¡°**:
```
src/analyzer/normalizer.py (preload/clear_preload/_apply_sff_formula ì¶”ê°€)
src/backtesting/engine.py (run()ì— preload_data íŒŒë¼ë¯¸í„°)
src/backtesting/walk_forward.py (WalkForwardAnalyzer - ì‹ ê·œ)
scripts/analysis/backtest_runner.py (--walk-forward ì˜µì…˜)
tests/backtesting/test_walk_forward.py (15ê°œ í…ŒìŠ¤íŠ¸ - ì‹ ê·œ)
```

---

### 2026-02-19 (Stage 4 Week 4: ParameterOptimizer)

**ëª©í‘œ**: Grid Search ê¸°ë°˜ íŒŒë¼ë¯¸í„° ìµœì í™” ì‹œìŠ¤í…œ êµ¬í˜„

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **normalizer.py ìˆ˜ì •**: institution_weight íŒŒë¼ë¯¸í„°í™”
  - 0.3 í•˜ë“œì½”ë”© â†’ `self.config.get('institution_weight', 0.3)` ì°¸ì¡°
  - `calculate_sff()`, `_get_sff_data()` ë‘ ê³³ ëª¨ë‘ ìˆ˜ì •
  - `__init__` configì— ê¸°ë³¸ê°’ í¬í•¨

- âœ… **engine.py ìˆ˜ì •**: BacktestConfigì— institution_weight ì¶”ê°€
  - `institution_weight: float = 0.3` íŒŒë¼ë¯¸í„° ì¶”ê°€
  - `BacktestEngine.__init__` ì—ì„œ SupplyNormalizerì— institution_weight ì „ë‹¬

- âœ… **optimizer.py ì‹ ê·œ ìƒì„±** (`src/backtesting/optimizer.py`)
  - `_run_backtest_worker()`: ëª¨ë“ˆ ë ˆë²¨ worker (multiprocessing pickle í˜¸í™˜)
  - `ParameterOptimizer` í´ë˜ìŠ¤
    - `DEFAULT_PARAM_GRID`: 5ê°œ íŒŒë¼ë¯¸í„° Ã— ê¸°ë³¸ ê°’ ì„¸íŠ¸
    - `grid_search()`: ëª¨ë“  ì¡°í•© ì‹¤í–‰ â†’ top_n DataFrame ë°˜í™˜
    - `_build_param_combinations()`: itertools.product ì¡°í•© ìƒì„±
    - `print_results()`: ê²°ê³¼ í…Œì´ë¸” ì¶œë ¥
  - `workers=1`: ìˆœì°¨ / `workers>1`: multiprocessing.Pool ë³‘ë ¬

- âœ… **backtest_runner.py ìˆ˜ì •**: --optimize ì˜µì…˜ ì¶”ê°€
  - `--optimize`: Grid Search ì‹¤í–‰
  - `--workers N`: ë³‘ë ¬ worker ìˆ˜
  - `--metric`: í‰ê°€ ì§€í‘œ (sharpe_ratio/total_return/win_rate/profit_factor)
  - `--top-n N`: ìƒìœ„ Nê°œ ì¶œë ¥
  - `--opt-save-csv PATH`: ê²°ê³¼ CSV ì €ì¥
  - `run_optimization()` í•¨ìˆ˜ ë¶„ë¦¬

**í…ŒìŠ¤íŠ¸**: 8ê°œ (100% í†µê³¼)
- institution_weight Config ê¸°ë³¸ê°’/ì»¤ìŠ¤í…€: 2ê°œ
- BacktestEngine normalizer ì „ë‹¬: 1ê°œ
- íŒŒë¼ë¯¸í„° ì¡°í•© ìˆ˜/ê°’ ê²€ì¦: 2ê°œ
- grid_search ë°˜í™˜ íƒ€ì…/ì •ë ¬/top_n: 3ê°œ

**ì „ì²´ í…ŒìŠ¤íŠ¸**: 190ê°œ (100% í†µê³¼) - ê¸°ì¡´ 3ê°œ ì‹¤íŒ¨ë„ ë³µêµ¬ë¨

**íŒŒì¼ êµ¬ì¡°**:
```
src/analyzer/normalizer.py (institution_weight íŒŒë¼ë¯¸í„°í™”)
src/backtesting/engine.py (institution_weight in BacktestConfig)
src/backtesting/optimizer.py (ParameterOptimizer - ì‹ ê·œ)
scripts/analysis/backtest_runner.py (--optimize ì˜µì…˜)
tests/backtesting/test_optimizer.py (8ê°œ í…ŒìŠ¤íŠ¸ - ì‹ ê·œ)
```

---

### 2026-02-19 (ì™¸êµ­ì¸ ì¤‘ì‹¬ ì¡°ê±´ë¶€ Sff ì ìš©)

**ëª©í‘œ**: ì™¸êµ­ì¸ ìˆ˜ê¸‰ ì¤‘ì‹¬ ë¶„ì„ìœ¼ë¡œ ì „í™˜ (ê¸°ê´€ì€ ë™ë°˜ ì—¬ë¶€ë§Œ ë°˜ì˜)

**ë¬¸ì œ**:
- ê¸°ì¡´: `combined_sff = foreign_sff + institution_sff` (1:1 ë™ë“± í•©ì‚°)
- ì™¸êµ­ì¸ +1000ì–µ, ê¸°ê´€ -1050ì–µ â†’ combined = -50 (ë§¤ë„ë¡œ íŒë‹¨) âŒ
- ì‹¤ì œ: ì™¸êµ­ì¸ ê°•í•œ ë§¤ìˆ˜ â†’ ìœ ì˜ë¯¸í•œ ì‹ í˜¸
- ê¸°ê´€ë§Œ ê°•í•œ ë§¤ìˆ˜(ì™¸êµ­ì¸ ë¯¸ë¯¸)ë„ ê°•í•œ ì‹ í˜¸ë¡œ ì¡íˆëŠ” ë¬¸ì œ

**í•´ê²°: ì™¸êµ­ì¸ ì¤‘ì‹¬ ì¡°ê±´ë¶€ í•©ì‚°**:
```python
same_direction = (foreign_sff * institution_sff) > 0
combined_sff = where(
    same_direction,
    foreign_sff + institution_sff * 0.3,  # ë™ë°˜: ê¸°ê´€ 30%ë§Œ ë°˜ì˜
    foreign_sff                           # ë°˜ëŒ€: ì™¸êµ­ì¸ë§Œ
)
```

**ë³€ê²½ íŒŒì¼**:
- `src/analyzer/normalizer.py`: calculate_sff(), _get_sff_data() 2ê³³
- `src/analyzer/signal_detector.py`: calculate_acceleration() 1ê³³

**ì˜í–¥ ë²”ìœ„**: Stage 1 ê·¼ì› ë°ì´í„° ë³€ê²½ â†’ Stage 2~4 ìë™ ë°˜ì˜ (ì½”ë“œ ë³€ê²½ ì—†ìŒ)
- MAí¬ë¡œìŠ¤: ì´ë¯¸ ì™¸êµ­ì¸ë§Œ ì‚¬ìš© (ë³€ê²½ ë¶ˆí•„ìš”)
- ë™ì¡°ìœ¨: ì´ë¯¸ ì™¸êµ­ì¸ AND ê¸°ê´€ ë™ë°˜ ì¸¡ì • (ë³€ê²½ ë¶ˆí•„ìš”)
- ê°€ì†ë„: ë™ì¼ ì¡°ê±´ë¶€ ë¡œì§ ì ìš©

**í…ŒìŠ¤íŠ¸**: 179ê°œ í†µê³¼ (ê¸°ì¡´ 3ê°œ ì‹¤íŒ¨ ìœ ì§€, ìƒˆë¡œìš´ ì‹¤íŒ¨ ì—†ìŒ)

---

### 2026-02-18 (Z-Score ì¡°ê±´ë¶€ ê³µì‹ ì ìš©)

**ëª©í‘œ**: ë¶€í˜¸ ì „í™˜ ì‹œ Z-Score ê³¼ì‰ ë°˜ì‘ ë¬¸ì œ í•´ê²°

**ë¬¸ì œ**:
- ê¸°ì¡´ Z-Score: `Z = (today - mean) / std`
- ë§¤ìˆ˜ì„¸(mean=+0.488) ì¤‘ ì‘ì€ ë§¤ë„(today=-0.038) ë°œìƒ ì‹œ:
  - Z = (-0.038 - 0.488) / 0.436 = **-1.21** (í° ë§¤ë„ ì‹ í˜¸ë¡œ ì˜¤ì¸)
- ì›ì¸: todayì™€ meanì˜ ë¶€í˜¸ê°€ ë‹¤ë¥´ë©´ ë¹¼ê¸° ì—°ì‚°ì´ ì°¨ì´ë¥¼ ì¦í­
- ì˜í–¥: ë°˜ëŒ€ ìˆ˜ê¸‰ ì²­ì‚°(reverse_signal)ì—ì„œ ì˜ëª»ëœ ì²­ì‚° ë°œìƒ
  - ì˜ˆ: ì£¼ì„±ì—”ì§€ë‹ˆì–´ë§ 3/18 ë§¤ìˆ˜ â†’ 3/25 ì˜ëª»ëœ ì²­ì‚° (íŒ¨í„´ì ìˆ˜ 75â†’60ì  ì´ˆê³¼)

**í•´ê²°: ì¡°ê±´ë¶€ Z-Score**:
```python
same_sign = (today * mean) > 0
Z = (today - mean) / std   # ê°™ì€ ë°©í–¥: ê¸°ì¡´ (í­ë°œ ê°ì§€ ìœ ì§€)
Z = today / std             # ë°©í–¥ ì „í™˜: í¬ê¸°ë§Œ í‰ê°€ (ê³¼ì‰ ë°˜ì‘ ë°©ì§€)
```

**ê²€ì¦ ì¼€ì´ìŠ¤**:
- í­ë°œ ë§¤ìˆ˜(today=20, mean=12): ê°™ì€ ë°©í–¥ â†’ Z=1.79 âœ“ (í­ë°œ ê°ì§€)
- ì‘ì€ ë§¤ë„(today=-0.038, mean=+0.488): ë°©í–¥ ì „í™˜ â†’ Z=-0.087 âœ“ (ë¬´ì‹œ)
- í° ë§¤ë„ ì‹œì‘(today=-2.0, mean=+0.488): ë°©í–¥ ì „í™˜ â†’ Z=-4.59 âœ“ (ê°•í•œ ë§¤ë„)
- ì—°ì† ë§¤ë„ ì¤‘(today=-0.7, mean=-0.58): ê°™ì€ ë°©í–¥ â†’ Z=-0.64 âœ“ (ê¸°ì¡´ ë™ì¼)

**ë³€ê²½ íŒŒì¼**:
- `src/visualizer/performance_optimizer.py:139-145` (Z-Score ê³„ì‚° ì¡°ê±´ë¶€ ë³€ê²½)

**ì˜í–¥ ë²”ìœ„**:
- Stage 2 Z-Score ê³„ì‚°ë§Œ ë³€ê²½, ë‚˜ë¨¸ì§€ íŒŒì´í”„ë¼ì¸(Stage 3~4) ë³€ê²½ ì—†ìŒ
- ê¸°ì¡´ í…ŒìŠ¤íŠ¸ 165ê°œ í†µê³¼ (2ê°œ ê¸°ì¡´ ì‹¤íŒ¨ëŠ” Z-Score ë³€ê²½ê³¼ ë¬´ê´€)

---

### 2026-02-17 (Stage 4 Week 2: PerformanceMetrics)

**ëª©í‘œ**: ë°±í…ŒìŠ¤íŠ¸ ì„±ê³¼ ë¶„ì„ ëª¨ë“ˆ êµ¬í˜„

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **PerformanceMetrics ëª¨ë“ˆ** (`src/backtesting/metrics.py`)
  - ì „ì²´ ì„±ê³¼: total_return(), win_rate(), avg_return(), avg_win(), avg_loss(), profit_factor()
  - ë¦¬ìŠ¤í¬ ì§€í‘œ: max_drawdown() (MDD+ë‚ ì§œ), sharpe_ratio(), calmar_ratio(), max_consecutive_losses()
  - ì„¸ë¶€ ë¶„ì„: performance_by_pattern(), performance_by_signal_count(), monthly_returns(), trade_duration_stats()
  - ë²¤ì¹˜ë§ˆí¬: alpha(), beta()
  - ì¢…í•© ë¦¬í¬íŠ¸: summary() (ëª¨ë“  ë©”íŠ¸ë¦­ í•œë²ˆì—)

- âœ… **CLI í†µí•©** (`scripts/analysis/backtest_runner.py`)
  - PerformanceMetrics ê¸°ë°˜ ê²°ê³¼ ì¶œë ¥
  - MDD ë‚ ì§œ ë²”ìœ„ í‘œì‹œ
  - ìƒ¤í”„/ì¹¼ë§ˆ ë¹„ìœ¨ í‘œì‹œ
  - Profit Factor, í‰ê·  ë³´ìœ  ê¸°ê°„, ìµœëŒ€ ì—°ì† ì†ì‹¤ ì¶”ê°€
  - íŒ¨í„´ë³„/ì‹œê·¸ë„ë³„ ìƒì„¸ í†µê³„

**í…ŒìŠ¤íŠ¸**: 21ê°œ (100% í†µê³¼)
- ì „ì²´ ì„±ê³¼ ë©”íŠ¸ë¦­: 6ê°œ
- ë¦¬ìŠ¤í¬ ì§€í‘œ: 4ê°œ
- ì„¸ë¶€ ë¶„ì„: 4ê°œ
- ë²¤ì¹˜ë§ˆí¬: 4ê°œ
- ì¢…í•©/ì—£ì§€ì¼€ì´ìŠ¤: 3ê°œ

**ì£¼ìš” ì„±ê³¼**:
- ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„ ê°€ëŠ¥ (MDD, ìƒ¤í”„ ë¹„ìœ¨ ë“±)
- íŒ¨í„´ë³„/ì‹œê·¸ë„ë³„ ì„±ê³¼ ë¹„êµë¡œ ì „ëµ ê²€ì¦ ê°•í™”
- CLI ì¶œë ¥ í¬ê²Œ ê°œì„  (ë¦¬ìŠ¤í¬ ì§€í‘œ ì¶”ê°€)

**íŒŒì¼ êµ¬ì¡°**:
```
src/backtesting/
â”œâ”€â”€ metrics.py (PerformanceMetrics)

tests/backtesting/
â””â”€â”€ test_metrics.py (21ê°œ)
```

---

### 2026-02-17 (Stage 4 Week 2.5: ìˆœë§¤ë„ íƒì§€ & ë¡±/ìˆ ì „ëµ)

**ëª©í‘œ**: ìˆ ì „ëµ ì¶”ê°€ ë° ì–‘ë°©í–¥ ë°±í…ŒìŠ¤íŒ… êµ¬í˜„

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **PatternClassifier í™•ì¥** (`src/analyzer/pattern_classifier.py`)
  - direction='long'/'short' íŒŒë¼ë¯¸í„° ì¶”ê°€
  - ìˆì¼ ë•Œ Z-Score ë¶€í˜¸ ë°˜ì „ â†’ íŒ¨í„´ ë¶„ë¥˜
  - íŒ¨í„´ ì´ë¦„ í†µì¼ (ëª¨ë©˜í…€í˜•/ì§€ì†í˜•/ì „í™˜í˜•, ë¡±/ìˆ ë™ì¼)

- âœ… **Portfolio ìˆ ì „ëµ** (`src/backtesting/portfolio.py`)
  - Trade/Positionì— direction í•„ë“œ ì¶”ê°€
  - ì°¨ì…ë¹„ìš© ê³„ì‚° (ì—° 3%, ì¼í•  ê³„ì‚°)
  - ìˆ ì§„ì… ì‹œ ê±°ë˜ì„¸ 0.20% ì¶”ê°€
  - ìˆ ì²­ì‚° ë¡œì§ (ë‹´ë³´ê¸ˆ íšŒìˆ˜ + ì†ìµ ë°˜ì˜)
  - ìˆ˜ìµë¥  ê³„ì‚° ìˆ˜ì •: (1 - exit/entry) * 100

- âœ… **BacktestEngine ì „ëµ ì„ íƒ** (`src/backtesting/engine.py`)
  - BacktestConfigì— strategy='long'/'short'/'both' ì¶”ê°€
  - directionë³„ í•„í„°ë§ (1W > 0: ë¡±, 1W < 0: ìˆ)
  - ë¡¤ë§ ìœˆë„ìš° ì‹œë®¬ë ˆì´ì…˜ì— ì „ëµë³„ ë¶„ê¸°

- âœ… **CLI ì˜µì…˜** (`scripts/analysis/backtest_runner.py`)
  - --strategy long/short/both ì¶”ê°€

**í…ŒìŠ¤íŠ¸**: 18ê°œ ì¶”ê°€ (ì´ 66ê°œ, 100% í†µê³¼)
- PatternClassifier ìˆ ë°©í–¥: 3ê°œ
- Portfolio ìˆ í¬ì§€ì…˜: 11ê°œ
- BacktestEngine ìˆ ì „ëµ: 3ê°œ
- ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ìˆ˜ì •: 1ê°œ

**ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼** (2024-06-01 ~ 2024-08-31):
```
ë¡± ì „ëµ:   -2.14% (ìŠ¹ë¥  46.5%, MDD -13.62%)
ìˆ ì „ëµ:   +0.56% (ìŠ¹ë¥  57.6%, MDD -12.25%) â­
ë³‘í–‰ ì „ëµ: -3.75% (ìŠ¹ë¥  43.6%, MDD -12.91%)
```

**í•µì‹¬ ë°œê²¬**:
- 2024ë…„ ì—¬ë¦„(í•˜ë½ì¥)ì€ ìˆ ì „ëµì´ ìœ ë¦¬
- ì‹œê·¸ë„ 2ê°œ ì´ìƒ: ìŠ¹ë¥  60%, í‰ê·  +3~4% (ë¡±/ìˆ ëª¨ë‘)
- ì‹œê·¸ë„ 1ê°œ: ìŠ¹ë¥  42%, í‰ê·  -0.7% (ë¹„ì¶”ì²œ)

**ê±°ë˜ ë¹„ìš© (ìµœì¢…)**:
- Long ì™•ë³µ: 0.43%
- Short ì™•ë³µ: 0.43% + ì°¨ì…ë¹„ìš© (30ì¼ ì‹œ ì´ 0.68%)

**ë²„ê·¸ ìˆ˜ì •**:
- ìˆ ìˆ˜ìµë¥  ê³„ì‚° ê³µì‹ ìˆ˜ì •
- ìˆ ì²­ì‚° ì‹œ ë‹´ë³´ê¸ˆ íšŒìˆ˜ ë¡œì§ ë²„ê·¸ ìˆ˜ì • (97% ì†ì‹¤ â†’ +0.56% ìˆ˜ìµ)

**íŒŒì¼ êµ¬ì¡°**:
```
src/analyzer/
â”œâ”€â”€ pattern_classifier.py (direction íŒŒë¼ë¯¸í„°)

src/backtesting/
â”œâ”€â”€ portfolio.py (ìˆ í¬ì§€ì…˜, ì°¨ì…ë¹„ìš©)
â”œâ”€â”€ engine.py (strategy íŒŒë¼ë¯¸í„°)

tests/
â”œâ”€â”€ test_pattern_classifier.py (+3ê°œ)
â””â”€â”€ backtesting/
    â”œâ”€â”€ test_portfolio.py (+11ê°œ)
    â””â”€â”€ test_engine.py (+3ê°œ)
```

---

### 2026-02-17 (Stage 4 Week 3: ì‹œê°í™” + CSV ì €ì¥)

**ëª©í‘œ**: matplotlib ê¸°ë°˜ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” ë° ë¦¬í¬íŠ¸ ìƒì„±

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **BacktestVisualizer ëª¨ë“ˆ** (`src/backtesting/visualizer.py`)
  - 5ê°œ í•µì‹¬ ì°¨íŠ¸ ë©”ì„œë“œ
    - plot_equity_curve(): ëˆ„ì  ìˆ˜ìµë¥  ê³¡ì„  (ì‹œê°„ì¶•)
    - plot_drawdown(): ë‚™í­(MDD) ì¶”ì´ (ìµœëŒ€ ë‚™í­ ê°•ì¡°)
    - plot_monthly_returns(): ì›”ë³„ ìˆ˜ìµë¥  íˆíŠ¸ë§µ (seaborn)
    - plot_return_distribution(): ê±°ë˜ë³„ ìˆ˜ìµë¥  ë¶„í¬ (íˆìŠ¤í† ê·¸ë¨)
    - plot_pattern_performance(): íŒ¨í„´ë³„ ì„±ê³¼ ë°”ì°¨íŠ¸ (ìŠ¹ë¥ , í‰ê·  ìˆ˜ìµ, ê±°ë˜ íšŸìˆ˜)
  - plot_all(): PNG/PDF ì¼ê´„ ìƒì„±
  - í•œê¸€ í°íŠ¸ ì§€ì› (AppleGothic)
  - ìƒ‰ìƒ í…Œë§ˆ (Long/Short/Both, Profit/Loss)

- âœ… **CLI í†µí•©** (`scripts/analysis/backtest_runner.py`)
  - --plot: í™”ë©´ í‘œì‹œ
  - --save-dir: PNG ì €ì¥ (5ê°œ ì°¨íŠ¸)
  - --save-pdf: PDF ë¦¬í¬íŠ¸ (ë‹¨ì¼ íŒŒì¼)
  - --save-daily-values: ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ CSV

- âœ… **CSV ì €ì¥**
  - trades.csv: ê±°ë˜ ë‚´ì—­ (ì§„ì…/ì²­ì‚°, ìˆ˜ìµë¥ , íŒ¨í„´)
  - daily_values.csv: ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜

**í…ŒìŠ¤íŠ¸**: 11ê°œ (100% í†µê³¼)
- ì´ˆê¸°í™”: 1ê°œ
- 5ê°œ ì°¨íŠ¸ ìƒì„± (ê° 1ê°œ): 5ê°œ
- PNG ì¼ê´„ ì €ì¥: 1ê°œ
- PDF ì €ì¥: 1ê°œ
- ì—£ì§€ ì¼€ì´ìŠ¤ (ê±°ë˜ ì—†ìŒ): 1ê°œ
- ìƒ‰ìƒ í…Œë§ˆ: 1ê°œ

**ì£¼ìš” ì„±ê³¼**:
- ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹œê°í™” ì™„ì„± (5ê°œ ì°¨íŠ¸)
- PNG (ê°œë³„) + PDF (í†µí•©) ë¦¬í¬íŠ¸ ìƒì„±
- ì°¨íŠ¸ ìƒì„± ì†ë„: <1ì´ˆ (ëª©í‘œ 5ì´ˆ ëŒ€ë¹„ 5ë°° ë¹ ë¦„)
- CSV ì €ì¥ìœ¼ë¡œ ì—‘ì…€ ë¶„ì„ ê°€ëŠ¥

**ì‹¤í–‰ ê²°ê³¼** (2024-06-01 ~ 2024-08-31):
```
ì°¨íŠ¸ 5ê°œ ìƒì„±:
- equity_curve.png (216KB)
- drawdown.png (220KB)
- monthly_returns.png (59KB)
- return_distribution.png (99KB)
- pattern_performance.png (89KB)

PDF ë¦¬í¬íŠ¸: 66KB
CSV: trades (6.4KB, 43ê±´) + daily_values (3.0KB)
```

**ë²„ê·¸ ìˆ˜ì •**:
- ì»¬ëŸ¼ëª… ë¶ˆì¼ì¹˜ ('portfolio_value' â†’ 'value')
- ì›”ë³„ íˆíŠ¸ë§µ ë¼ë²¨ ê°œìˆ˜ ì˜¤ë¥˜ (ë™ì  ì›” ë¼ë²¨)

**íŒŒì¼ êµ¬ì¡°**:
```
src/backtesting/
â”œâ”€â”€ visualizer.py (BacktestVisualizer)

tests/backtesting/
â””â”€â”€ test_visualizer.py (11ê°œ)

output/
â”œâ”€â”€ charts/ (PNG 5ê°œ)
â”œâ”€â”€ backtest_report.pdf
â”œâ”€â”€ trades.csv
â””â”€â”€ daily_values.csv
```

**í–¥í›„ í™•ì¥** (Week 4-5 ì™„ë£Œ í›„):
- Option 2: Plotly ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸
- HTML ë¦¬í¬íŠ¸ (ë‹¨ì¼ íŒŒì¼, ì¤Œ/í•„í„°ë§)
- Streamlit ëŒ€ì‹œë³´ë“œ (Stage 5 ì¤€ë¹„)

---

### 2026-02-17 (Stage 4 Week 1: ë°±í…ŒìŠ¤íŠ¸ ì—”ì§„)

**ëª©í‘œ**: ë°±í…ŒìŠ¤íŠ¸ ì—”ì§„ í•µì‹¬ ë¡œì§ êµ¬í˜„ (ì§„ì…/ì²­ì‚°)

**êµ¬í˜„ ë‚´ìš©**:
- âœ… **Portfolio ëª¨ë“ˆ** (`src/backtesting/portfolio.py`)
  - Trade í´ë˜ìŠ¤: ì™„ë£Œëœ ê±°ë˜ ê¸°ë¡ (ì§„ì…/ì²­ì‚°, ìˆ˜ìµë¥ , ë³´ìœ  ê¸°ê°„)
  - Position í´ë˜ìŠ¤: í˜„ì¬ ë³´ìœ  í¬ì§€ì…˜ (ë¯¸ì‹¤í˜„ ìˆ˜ìµë¥ , ë³´ìœ  ì¼ìˆ˜)
  - Portfolio í´ë˜ìŠ¤: í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ (í˜„ê¸ˆ+í¬ì§€ì…˜, ë™ì¼ ê°€ì¤‘)
  - ê±°ë˜ ë¹„ìš©: ì„¸ê¸ˆ 0.20% (ë§¤ë„), ìˆ˜ìˆ˜ë£Œ 0.015%, ìŠ¬ë¦¬í”¼ì§€ 0.1% (ì™•ë³µ 0.43%)
  - í…ŒìŠ¤íŠ¸ 16ê°œ

- âœ… **BacktestEngine ëª¨ë“ˆ** (`src/backtesting/engine.py`)
  - BacktestConfig: ë°±í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° (ì§„ì…/ì²­ì‚° ì¡°ê±´, í¬ì§€ì…˜ í•œë„)
  - BacktestEngine: ë¡¤ë§ ìœˆë„ìš° ì‹œë®¬ë ˆì´ì…˜
    - Stage 1-3 í†µí•© (ë§¤ ê±°ë˜ì¼ íŒ¨í„´ ìŠ¤ìº”, end_date ì§€ì› ë¶€ë¶„ì )
    - ì§„ì…: ì ìˆ˜/ì‹œê·¸ë„ ì¡°ê±´ í™•ì¸ â†’ ë‹¹ì¼ ì¢…ê°€ ë§¤ìˆ˜
    - ì²­ì‚°: ëª©í‘œ +10%, ì†ì ˆ -5%, ì‹œê°„ 15ì¼
    - ì¼ë³„ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ ì¶”ì 
  - í…ŒìŠ¤íŠ¸ 11ê°œ (3ê°œì›” í†µí•© í…ŒìŠ¤íŠ¸ í¬í•¨)

- âœ… **CLI ë„êµ¬** (`scripts/analysis/backtest_runner.py`)
  - ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (ë‚ ì§œ ë²”ìœ„, ì§„ì…/ì²­ì‚° ì¡°ê±´ ì„¤ì •)
  - ê²°ê³¼ ìš”ì•½ (ìˆ˜ìµë¥ , ìŠ¹ë¥ , íŒ¨í„´ë³„/ì‹œê·¸ë„ë³„ ì„±ê³¼)
  - CSV ì €ì¥

**í…ŒìŠ¤íŠ¸**: 27ê°œ (100% í†µê³¼)
- Portfolio: 16ê°œ (ê±°ë˜ ë¹„ìš©, ì§„ì…/ì²­ì‚°, ì¤‘ë³µ/í•œë„ ë°©ì§€)
- Engine: 11ê°œ (ë¡¤ë§ ìœˆë„ìš°, ë¯¸ë˜ ë°ì´í„° ëˆ„ìˆ˜ ë¶€ë¶„ ê²€ì¦)
- 3ê°œì›” í†µí•© ë°±í…ŒìŠ¤íŠ¸ ì„±ê³µ

**ì£¼ìš” ì„±ê³¼**:
- ê³¼ê±° ë°ì´í„°ë¡œ ì „ëµ ê²€ì¦ ê°€ëŠ¥ (ìŠ¹ë¥ , ìˆ˜ìµë¥  ê³„ì‚°)
- ìˆœë§¤ìˆ˜ ì¢…ëª© ë¡± ì „ëµ ë°±í…ŒìŠ¤íŠ¸ ì§€ì›
- íŒ¨í„´ë³„/ì‹œê·¸ë„ë³„ ì„±ê³¼ ë¶„ì„ (ê¸°ë³¸)

**ì œí•œì‚¬í•­**:
- âš ï¸ ì„±ëŠ¥: 3ê°œì›” ë°±í…ŒìŠ¤íŠ¸ ~4ë¶„ ì†Œìš” (Week 5 ìµœì í™” ì˜ˆì •)
- âš ï¸ ë¯¸ë˜ ë°ì´í„° ëˆ„ìˆ˜: Stage 2-3 end_date ë¯¸ì§€ì› (Week 5 ìˆ˜ì • ì˜ˆì •)
- âš ï¸ ì‹œê°€ ë°ì´í„° ì—†ìŒ: ì§„ì…/ì²­ì‚° ëª¨ë‘ ì¢…ê°€ ì‚¬ìš© (ìŠ¬ë¦¬í”¼ì§€ë¡œ ë³´ì •)
- ìˆœë§¤ìˆ˜ë§Œ ì§€ì› (ìˆœë§¤ë„ëŠ” Week 2.5 ì¶”ê°€ ì˜ˆì •)

**íŒŒì¼ êµ¬ì¡°**:
```
src/backtesting/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ portfolio.py (Trade, Position, Portfolio)
â””â”€â”€ engine.py (BacktestConfig, BacktestEngine)

scripts/analysis/
â””â”€â”€ backtest_runner.py (CLI ë„êµ¬)

tests/backtesting/
â”œâ”€â”€ test_portfolio.py (16ê°œ)
â””â”€â”€ test_engine.py (11ê°œ)
```

### 2026-02-14 (ë¬¸ì„œ ì¤‘ë³µ ì œê±°)
- âœ… IMPLEMENTATION_GUIDE.md ì¤‘ë³µ ì œê±° (95ì¤„ â†’ 654ì¤„, 13% ê°ì†Œ)
- âœ… CLAUDE.md ì¤‘ë³µ ì œê±° (37ì¤„ â†’ 392ì¤„, 9% ê°ì†Œ)
- âœ… ë¬¸ì„œ ì—­í•  ëª…í™•í™” (README/IMPLEMENTATION_GUIDE/ANALYSIS_GUIDE/CLAUDE.md)
- âœ… D3.js Treemap íˆíŠ¸ë§µ ì¶”ê°€ (HTML ë¦¬í¬íŠ¸)

### 2026-02-13 (Stage 3 ë²„ê·¸ ìˆ˜ì •)
- âœ… ì—£ì§€ ì¼€ì´ìŠ¤ ì²˜ë¦¬ (ë¹ˆ DataFrame, ì˜ëª»ëœ ì…ë ¥)
- âœ… í…ŒìŠ¤íŠ¸ ì™„ì„±ë„ í–¥ìƒ (105ê°œ í…ŒìŠ¤íŠ¸ 100% í†µê³¼)
- âœ… Stage 4 ìƒì„¸ ê³„íš ì‘ì„± (ë°±í…ŒìŠ¤íŒ… ì‹œìŠ¤í…œ)
- âœ… CLAUDE.md ì—…ë°ì´íŠ¸ (v3.1)

### 2026-02-12 (Stage 3 ì™„ë£Œ)
- âœ… PatternClassifier êµ¬í˜„ (3ê°œ ë°”êµ¬ë‹ˆ ìë™ ë¶„ë¥˜)
- âœ… SignalDetector êµ¬í˜„ (MA/ê°€ì†ë„/ë™ì¡°ìœ¨)
- âœ… IntegratedReport êµ¬í˜„ (ì¢…ëª©ë³„ ìš”ì•½ ì¹´ë“œ)
- âœ… RegimeScanner CLI ë„êµ¬ (í†µí•© íŒŒì´í”„ë¼ì¸)
- âœ… 105ê°œ í…ŒìŠ¤íŠ¸ ì‘ì„± (Stage 1~3 í†µí•©)
- âœ… CLAUDE.md ì—…ë°ì´íŠ¸ (v3.0)

### 2026-02-11 (Stage 2 ì™„ë£Œ)
- âœ… íˆíŠ¸ë§µ ì‹œê°í™” êµ¬í˜„ (6ê°œ ê¸°ê°„)
- âœ… 4ê°€ì§€ ì •ë ¬ ëª¨ë“œ ì¶”ê°€ (Recent/Momentum/Weighted/Average)
- âœ… ì„±ëŠ¥ ìµœì í™” (1.5ì´ˆ)
- âœ… 61ê°œ í…ŒìŠ¤íŠ¸ (100% í†µê³¼)
- âœ… IMPLEMENTATION_GUIDE.md ì‘ì„±

### 2026-02-10 (Stage 1 ì™„ë£Œ)
- âœ… Sff/Z-Score ì •ê·œí™” ëª¨ë“ˆ
- âœ… ì´ìƒ ìˆ˜ê¸‰ íƒì§€ê¸° CLI
- âœ… ì„¹í„° ì •ë³´ í¬ë¡¤ë§ (97.9% ì»¤ë²„ë¦¬ì§€)
- âœ… ì£¼ê°€/ìœ í†µì£¼ì‹ í¬ë¡¤ë§

### 2026-02-09 (í”„ë¡œì íŠ¸ ì´ˆê¸°í™”)
- âœ… GitHub ì €ì¥ì†Œ ì—°ê²°
- âœ… SQLite DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- âœ… ì´ˆê¸° ë°ì´í„° ë¡œë“œ (172,155 ë ˆì½”ë“œ)
- âœ… ì—‘ì…€ íŒŒì‹± ëª¨ë“ˆ

---

## [Reference]
- **IMPLEMENTATION_GUIDE.md**: Stage 1~2 ìƒì„¸ êµ¬í˜„ ë‚´ìš©
- **DATABASE_README.md**: DB ìŠ¤í‚¤ë§ˆ ë° ì‚¬ìš©ë²•
- **README.md**: í”„ë¡œì íŠ¸ ì†Œê°œ ë° ì„¤ì¹˜ ë°©ë²•

---

**í”„ë¡œì íŠ¸ ë²„ì „**: v5.0 (Stage 5-1 Streamlit ëŒ€ì‹œë³´ë“œ + Precomputer ì†ë„ ìµœì í™”)
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-20
